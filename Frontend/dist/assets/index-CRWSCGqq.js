import{j as e}from"./ui-RFljPT8H.js";import{a as V0,r as j,g as ya,R as ot,u as bc,L as St,O as $0,b as mr,c as z0,d as ho,e as H0,f as W0,h as lt,N as mo,B as q0}from"./vendor-DoImZow-.js";import{u as cr,i as G0,a as X0}from"./i18n-BpRt-mB2.js";function Q0(n,r){for(var a=0;a<r.length;a++){const l=r[a];if(typeof l!="string"&&!Array.isArray(l)){for(const u in l)if(u!=="default"&&!(u in n)){const h=Object.getOwnPropertyDescriptor(l,u);h&&Object.defineProperty(n,u,h.get?h:{enumerable:!0,get:()=>l[u]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))l(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const g of h.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&l(g)}).observe(document,{childList:!0,subtree:!0});function a(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function l(u){if(u.ep)return;u.ep=!0;const h=a(u);fetch(u.href,h)}})();var Ui={},sl=V0;Ui.createRoot=sl.createRoot,Ui.hydrateRoot=sl.hydrateRoot;var Hs=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},K0={setTimeout:(n,r)=>setTimeout(n,r),clearTimeout:n=>clearTimeout(n),setInterval:(n,r)=>setInterval(n,r),clearInterval:n=>clearInterval(n)},Y0=class{#t=K0;#e=!1;setTimeoutProvider(n){this.#t=n}setTimeout(n,r){return this.#t.setTimeout(n,r)}clearTimeout(n){this.#t.clearTimeout(n)}setInterval(n,r){return this.#t.setInterval(n,r)}clearInterval(n){this.#t.clearInterval(n)}},_s=new Y0;function Z0(n){setTimeout(n,0)}var Ms=typeof window>"u"||"Deno"in globalThis;function ar(){}function J0(n,r){return typeof n=="function"?n(r):n}function Vi(n){return typeof n=="number"&&n>=0&&n!==1/0}function yc(n,r){return Math.max(n+(r||0)-Date.now(),0)}function vs(n,r){return typeof n=="function"?n(r):n}function _r(n,r){return typeof n=="function"?n(r):n}function al(n,r){const{type:a="all",exact:l,fetchStatus:u,predicate:h,queryKey:g,stale:p}=n;if(g){if(l){if(r.queryHash!==go(g,r.options))return!1}else if(!$a(r.queryKey,g))return!1}if(a!=="all"){const b=r.isActive();if(a==="active"&&!b||a==="inactive"&&b)return!1}return!(typeof p=="boolean"&&r.isStale()!==p||u&&u!==r.state.fetchStatus||h&&!h(r))}function nl(n,r){const{exact:a,status:l,predicate:u,mutationKey:h}=n;if(h){if(!r.options.mutationKey)return!1;if(a){if(Bs(r.options.mutationKey)!==Bs(h))return!1}else if(!$a(r.options.mutationKey,h))return!1}return!(l&&r.state.status!==l||u&&!u(r))}function go(n,r){return(r?.queryKeyHashFn||Bs)(n)}function Bs(n){return JSON.stringify(n,(r,a)=>$i(a)?Object.keys(a).sort().reduce((l,u)=>(l[u]=a[u],l),{}):a)}function $a(n,r){return n===r?!0:typeof n!=typeof r?!1:n&&r&&typeof n=="object"&&typeof r=="object"?Object.keys(r).every(a=>$a(n[a],r[a])):!1}var eu=Object.prototype.hasOwnProperty;function fo(n,r){if(n===r)return n;const a=il(n)&&il(r);if(!a&&!($i(n)&&$i(r)))return r;const u=(a?n:Object.keys(n)).length,h=a?r:Object.keys(r),g=h.length,p=a?new Array(g):{};let b=0;for(let f=0;f<g;f++){const w=a?f:h[f],v=n[w],k=r[w];if(v===k){p[w]=v,(a?f<u:eu.call(n,w))&&b++;continue}if(v===null||k===null||typeof v!="object"||typeof k!="object"){p[w]=k;continue}const A=fo(v,k);p[w]=A,A===v&&b++}return u===g&&b===u?n:p}function za(n,r){if(!r||Object.keys(n).length!==Object.keys(r).length)return!1;for(const a in n)if(n[a]!==r[a])return!1;return!0}function il(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function $i(n){if(!ol(n))return!1;const r=n.constructor;if(r===void 0)return!0;const a=r.prototype;return!(!ol(a)||!a.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function ol(n){return Object.prototype.toString.call(n)==="[object Object]"}function tu(n){return new Promise(r=>{_s.setTimeout(r,n)})}function zi(n,r,a){return typeof a.structuralSharing=="function"?a.structuralSharing(n,r):a.structuralSharing!==!1?fo(n,r):r}function ru(n,r,a=0){const l=[...n,r];return a&&l.length>a?l.slice(1):l}function su(n,r,a=0){const l=[r,...n];return a&&l.length>a?l.slice(0,-1):l}var xo=Symbol();function wc(n,r){return!n.queryFn&&r?.initialPromise?()=>r.initialPromise:!n.queryFn||n.queryFn===xo?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}function vc(n,r){return typeof n=="function"?n(...r):!!n}var au=class extends Hs{#t;#e;#r;constructor(){super(),this.#r=n=>{if(!Ms&&window.addEventListener){const r=()=>n();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(n){this.#r=n,this.#e?.(),this.#e=n(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()})}setFocused(n){this.#t!==n&&(this.#t=n,this.onFocus())}onFocus(){const n=this.isFocused();this.listeners.forEach(r=>{r(n)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},po=new au;function Hi(){let n,r;const a=new Promise((u,h)=>{n=u,r=h});a.status="pending",a.catch(()=>{});function l(u){Object.assign(a,u),delete a.resolve,delete a.reject}return a.resolve=u=>{l({status:"fulfilled",value:u}),n(u)},a.reject=u=>{l({status:"rejected",reason:u}),r(u)},a}var nu=Z0;function iu(){let n=[],r=0,a=p=>{p()},l=p=>{p()},u=nu;const h=p=>{r?n.push(p):u(()=>{a(p)})},g=()=>{const p=n;n=[],p.length&&u(()=>{l(()=>{p.forEach(b=>{a(b)})})})};return{batch:p=>{let b;r++;try{b=p()}finally{r--,r||g()}return b},batchCalls:p=>(...b)=>{h(()=>{p(...b)})},schedule:h,setNotifyFunction:p=>{a=p},setBatchNotifyFunction:p=>{l=p},setScheduler:p=>{u=p}}}var Mt=iu(),ou=class extends Hs{#t=!0;#e;#r;constructor(){super(),this.#r=n=>{if(!Ms&&window.addEventListener){const r=()=>n(!0),a=()=>n(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",a)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(n){this.#r=n,this.#e?.(),this.#e=n(this.setOnline.bind(this))}setOnline(n){this.#t!==n&&(this.#t=n,this.listeners.forEach(a=>{a(n)}))}isOnline(){return this.#t}},Tn=new ou;function lu(n){return Math.min(1e3*2**n,3e4)}function Nc(n){return(n??"online")==="online"?Tn.isOnline():!0}var Wi=class extends Error{constructor(n){super("CancelledError"),this.revert=n?.revert,this.silent=n?.silent}};function kc(n){let r=!1,a=0,l;const u=Hi(),h=()=>u.status!=="pending",g=T=>{if(!h()){const I=new Wi(T);k(I),n.onCancel?.(I)}},p=()=>{r=!0},b=()=>{r=!1},f=()=>po.isFocused()&&(n.networkMode==="always"||Tn.isOnline())&&n.canRun(),w=()=>Nc(n.networkMode)&&n.canRun(),v=T=>{h()||(l?.(),u.resolve(T))},k=T=>{h()||(l?.(),u.reject(T))},A=()=>new Promise(T=>{l=I=>{(h()||f())&&T(I)},n.onPause?.()}).then(()=>{l=void 0,h()||n.onContinue?.()}),C=()=>{if(h())return;let T;const I=a===0?n.initialPromise:void 0;try{T=I??n.fn()}catch(R){T=Promise.reject(R)}Promise.resolve(T).then(v).catch(R=>{if(h())return;const O=n.retry??(Ms?0:3),P=n.retryDelay??lu,G=typeof P=="function"?P(a,R):P,Q=O===!0||typeof O=="number"&&a<O||typeof O=="function"&&O(a,R);if(r||!Q){k(R);return}a++,n.onFail?.(a,R),tu(G).then(()=>f()?void 0:A()).then(()=>{r?k(R):C()})})};return{promise:u,status:()=>u.status,cancel:g,continue:()=>(l?.(),u),cancelRetry:p,continueRetry:b,canStart:w,start:()=>(w()?C():A().then(C),u)}}var jc=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Vi(this.gcTime)&&(this.#t=_s.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(Ms?1/0:5*60*1e3))}clearGcTimeout(){this.#t&&(_s.clearTimeout(this.#t),this.#t=void 0)}},cu=class extends jc{#t;#e;#r;#a;#s;#n;#o;constructor(n){super(),this.#o=!1,this.#n=n.defaultOptions,this.setOptions(n.options),this.observers=[],this.#a=n.client,this.#r=this.#a.getQueryCache(),this.queryKey=n.queryKey,this.queryHash=n.queryHash,this.#t=cl(this.options),this.state=n.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(n){if(this.options={...this.#n,...n},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=cl(this.options);r.data!==void 0&&(this.setState(ll(r.data,r.dataUpdatedAt)),this.#t=r)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(n,r){const a=zi(this.state.data,n,this.options);return this.#i({data:a,type:"success",dataUpdatedAt:r?.updatedAt,manual:r?.manual}),a}setState(n,r){this.#i({type:"setState",state:n,setStateOptions:r})}cancel(n){const r=this.#s?.promise;return this.#s?.cancel(n),r?r.then(ar).catch(ar):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(n=>_r(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===xo||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>vs(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!yc(this.state.dataUpdatedAt,n)}onFocus(){this.observers.find(r=>r.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(r=>r.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(this.#s&&(this.#o?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(n,r){if(this.state.fetchStatus!=="idle"&&this.#s?.status()!=="rejected"){if(this.state.data!==void 0&&r?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(n&&this.setOptions(n),!this.options.queryFn){const p=this.observers.find(b=>b.options.queryFn);p&&this.setOptions(p.options)}const a=new AbortController,l=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(this.#o=!0,a.signal)})},u=()=>{const p=wc(this.options,r),f=(()=>{const w={client:this.#a,queryKey:this.queryKey,meta:this.meta};return l(w),w})();return this.#o=!1,this.options.persister?this.options.persister(p,f,this):p(f)},g=(()=>{const p={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:this.#a,state:this.state,fetchFn:u};return l(p),p})();this.options.behavior?.onFetch(g,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==g.fetchOptions?.meta)&&this.#i({type:"fetch",meta:g.fetchOptions?.meta}),this.#s=kc({initialPromise:r?.initialPromise,fn:g.fetchFn,onCancel:p=>{p instanceof Wi&&p.revert&&this.setState({...this.#e,fetchStatus:"idle"}),a.abort()},onFail:(p,b)=>{this.#i({type:"failed",failureCount:p,error:b})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:g.options.retry,retryDelay:g.options.retryDelay,networkMode:g.options.networkMode,canRun:()=>!0});try{const p=await this.#s.start();if(p===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(p),this.#r.config.onSuccess?.(p,this),this.#r.config.onSettled?.(p,this.state.error,this),p}catch(p){if(p instanceof Wi){if(p.silent)return this.#s.promise;if(p.revert){if(this.state.data===void 0)throw p;return this.state.data}}throw this.#i({type:"error",error:p}),this.#r.config.onError?.(p,this),this.#r.config.onSettled?.(this.state.data,p,this),p}finally{this.scheduleGc()}}#i(n){const r=a=>{switch(n.type){case"failed":return{...a,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...Cc(a.data,this.options),fetchMeta:n.meta??null};case"success":const l={...a,...ll(n.data,n.dataUpdatedAt),dataUpdateCount:a.dataUpdateCount+1,...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#e=n.manual?l:void 0,l;case"error":const u=n.error;return{...a,error:u,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:u,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...n.state}}};this.state=r(this.state),Mt.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:n})})}};function Cc(n,r){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Nc(r.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function ll(n,r){return{data:n,dataUpdatedAt:r??Date.now(),error:null,isInvalidated:!1,status:"success"}}function cl(n){const r=typeof n.initialData=="function"?n.initialData():n.initialData,a=r!==void 0,l=a?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:r,dataUpdateCount:0,dataUpdatedAt:a?l??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:a?"success":"pending",fetchStatus:"idle"}}var bo=class extends Hs{constructor(n,r){super(),this.options=r,this.#t=n,this.#i=null,this.#o=Hi(),this.bindMethods(),this.setOptions(r)}#t;#e=void 0;#r=void 0;#a=void 0;#s;#n;#o;#i;#m;#u;#h;#c;#d;#l;#f=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),dl(this.#e,this.options)?this.#g():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return qi(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return qi(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#w(),this.#v(),this.#e.removeObserver(this)}setOptions(n){const r=this.options,a=this.#e;if(this.options=this.#t.defaultQueryOptions(n),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof _r(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#N(),this.#e.setOptions(this.options),r._defaulted&&!za(this.options,r)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const l=this.hasListeners();l&&ul(this.#e,a,this.options,r)&&this.#g(),this.updateResult(),l&&(this.#e!==a||_r(this.options.enabled,this.#e)!==_r(r.enabled,this.#e)||vs(this.options.staleTime,this.#e)!==vs(r.staleTime,this.#e))&&this.#x();const u=this.#p();l&&(this.#e!==a||_r(this.options.enabled,this.#e)!==_r(r.enabled,this.#e)||u!==this.#l)&&this.#b(u)}getOptimisticResult(n){const r=this.#t.getQueryCache().build(this.#t,n),a=this.createResult(r,n);return uu(this,a)&&(this.#a=a,this.#n=this.options,this.#s=this.#e.state),a}getCurrentResult(){return this.#a}trackResult(n,r){return new Proxy(n,{get:(a,l)=>(this.trackProp(l),r?.(l),l==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(a,l))})}trackProp(n){this.#f.add(n)}getCurrentQuery(){return this.#e}refetch({...n}={}){return this.fetch({...n})}fetchOptimistic(n){const r=this.#t.defaultQueryOptions(n),a=this.#t.getQueryCache().build(this.#t,r);return a.fetch().then(()=>this.createResult(a,r))}fetch(n){return this.#g({...n,cancelRefetch:n.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#a))}#g(n){this.#N();let r=this.#e.fetch(this.options,n);return n?.throwOnError||(r=r.catch(ar)),r}#x(){this.#w();const n=vs(this.options.staleTime,this.#e);if(Ms||this.#a.isStale||!Vi(n))return;const a=yc(this.#a.dataUpdatedAt,n)+1;this.#c=_s.setTimeout(()=>{this.#a.isStale||this.updateResult()},a)}#p(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#b(n){this.#v(),this.#l=n,!(Ms||_r(this.options.enabled,this.#e)===!1||!Vi(this.#l)||this.#l===0)&&(this.#d=_s.setInterval(()=>{(this.options.refetchIntervalInBackground||po.isFocused())&&this.#g()},this.#l))}#y(){this.#x(),this.#b(this.#p())}#w(){this.#c&&(_s.clearTimeout(this.#c),this.#c=void 0)}#v(){this.#d&&(_s.clearInterval(this.#d),this.#d=void 0)}createResult(n,r){const a=this.#e,l=this.options,u=this.#a,h=this.#s,g=this.#n,b=n!==a?n.state:this.#r,{state:f}=n;let w={...f},v=!1,k;if(r._optimisticResults){const $=this.hasListeners(),z=!$&&dl(n,r),K=$&&ul(n,a,r,l);(z||K)&&(w={...w,...Cc(f.data,n.options)}),r._optimisticResults==="isRestoring"&&(w.fetchStatus="idle")}let{error:A,errorUpdatedAt:C,status:T}=w;k=w.data;let I=!1;if(r.placeholderData!==void 0&&k===void 0&&T==="pending"){let $;u?.isPlaceholderData&&r.placeholderData===g?.placeholderData?($=u.data,I=!0):$=typeof r.placeholderData=="function"?r.placeholderData(this.#h?.state.data,this.#h):r.placeholderData,$!==void 0&&(T="success",k=zi(u?.data,$,r),v=!0)}if(r.select&&k!==void 0&&!I)if(u&&k===h?.data&&r.select===this.#m)k=this.#u;else try{this.#m=r.select,k=r.select(k),k=zi(u?.data,k,r),this.#u=k,this.#i=null}catch($){this.#i=$}this.#i&&(A=this.#i,k=this.#u,C=Date.now(),T="error");const R=w.fetchStatus==="fetching",O=T==="pending",P=T==="error",G=O&&R,Q=k!==void 0,B={status:T,fetchStatus:w.fetchStatus,isPending:O,isSuccess:T==="success",isError:P,isInitialLoading:G,isLoading:G,data:k,dataUpdatedAt:w.dataUpdatedAt,error:A,errorUpdatedAt:C,failureCount:w.fetchFailureCount,failureReason:w.fetchFailureReason,errorUpdateCount:w.errorUpdateCount,isFetched:w.dataUpdateCount>0||w.errorUpdateCount>0,isFetchedAfterMount:w.dataUpdateCount>b.dataUpdateCount||w.errorUpdateCount>b.errorUpdateCount,isFetching:R,isRefetching:R&&!O,isLoadingError:P&&!Q,isPaused:w.fetchStatus==="paused",isPlaceholderData:v,isRefetchError:P&&Q,isStale:yo(n,r),refetch:this.refetch,promise:this.#o,isEnabled:_r(r.enabled,n)!==!1};if(this.options.experimental_prefetchInRender){const $=re=>{B.status==="error"?re.reject(B.error):B.data!==void 0&&re.resolve(B.data)},z=()=>{const re=this.#o=B.promise=Hi();$(re)},K=this.#o;switch(K.status){case"pending":n.queryHash===a.queryHash&&$(K);break;case"fulfilled":(B.status==="error"||B.data!==K.value)&&z();break;case"rejected":(B.status!=="error"||B.error!==K.reason)&&z();break}}return B}updateResult(){const n=this.#a,r=this.createResult(this.#e,this.options);if(this.#s=this.#e.state,this.#n=this.options,this.#s.data!==void 0&&(this.#h=this.#e),za(r,n))return;this.#a=r;const a=()=>{if(!n)return!0;const{notifyOnChangeProps:l}=this.options,u=typeof l=="function"?l():l;if(u==="all"||!u&&!this.#f.size)return!0;const h=new Set(u??this.#f);return this.options.throwOnError&&h.add("error"),Object.keys(this.#a).some(g=>{const p=g;return this.#a[p]!==n[p]&&h.has(p)})};this.#k({listeners:a()})}#N(){const n=this.#t.getQueryCache().build(this.#t,this.options);if(n===this.#e)return;const r=this.#e;this.#e=n,this.#r=n.state,this.hasListeners()&&(r?.removeObserver(this),n.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#k(n){Mt.batch(()=>{n.listeners&&this.listeners.forEach(r=>{r(this.#a)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function du(n,r){return _r(r.enabled,n)!==!1&&n.state.data===void 0&&!(n.state.status==="error"&&r.retryOnMount===!1)}function dl(n,r){return du(n,r)||n.state.data!==void 0&&qi(n,r,r.refetchOnMount)}function qi(n,r,a){if(_r(r.enabled,n)!==!1&&vs(r.staleTime,n)!=="static"){const l=typeof a=="function"?a(n):a;return l==="always"||l!==!1&&yo(n,r)}return!1}function ul(n,r,a,l){return(n!==r||_r(l.enabled,n)===!1)&&(!a.suspense||n.state.status!=="error")&&yo(n,a)}function yo(n,r){return _r(r.enabled,n)!==!1&&n.isStaleByTime(vs(r.staleTime,n))}function uu(n,r){return!za(n.getCurrentResult(),r)}function hl(n){return{onFetch:(r,a)=>{const l=r.options,u=r.fetchOptions?.meta?.fetchMore?.direction,h=r.state.data?.pages||[],g=r.state.data?.pageParams||[];let p={pages:[],pageParams:[]},b=0;const f=async()=>{let w=!1;const v=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(r.signal.aborted?w=!0:r.signal.addEventListener("abort",()=>{w=!0}),r.signal)})},k=wc(r.options,r.fetchOptions),A=async(C,T,I)=>{if(w)return Promise.reject();if(T==null&&C.pages.length)return Promise.resolve(C);const O=(()=>{const D={client:r.client,queryKey:r.queryKey,pageParam:T,direction:I?"backward":"forward",meta:r.options.meta};return v(D),D})(),P=await k(O),{maxPages:G}=r.options,Q=I?su:ru;return{pages:Q(C.pages,P,G),pageParams:Q(C.pageParams,T,G)}};if(u&&h.length){const C=u==="backward",T=C?hu:ml,I={pages:h,pageParams:g},R=T(l,I);p=await A(I,R,C)}else{const C=n??h.length;do{const T=b===0?g[0]??l.initialPageParam:ml(l,p);if(b>0&&T==null)break;p=await A(p,T),b++}while(b<C)}return p};r.options.persister?r.fetchFn=()=>r.options.persister?.(f,{client:r.client,queryKey:r.queryKey,meta:r.options.meta,signal:r.signal},a):r.fetchFn=f}}}function ml(n,{pages:r,pageParams:a}){const l=r.length-1;return r.length>0?n.getNextPageParam(r[l],r,a[l],a):void 0}function hu(n,{pages:r,pageParams:a}){return r.length>0?n.getPreviousPageParam?.(r[0],r,a[0],a):void 0}var mu=class extends jc{#t;#e;#r;#a;constructor(n){super(),this.#t=n.client,this.mutationId=n.mutationId,this.#r=n.mutationCache,this.#e=[],this.state=n.state||Sc(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){this.#e.includes(n)||(this.#e.push(n),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){this.#e=this.#e.filter(r=>r!==n),this.scheduleGc(),this.#r.notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#r.remove(this))}continue(){return this.#a?.continue()??this.execute(this.state.variables)}async execute(n){const r=()=>{this.#s({type:"continue"})},a={client:this.#t,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#a=kc({fn:()=>this.options.mutationFn?this.options.mutationFn(n,a):Promise.reject(new Error("No mutationFn found")),onFail:(h,g)=>{this.#s({type:"failed",failureCount:h,error:g})},onPause:()=>{this.#s({type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#r.canRun(this)});const l=this.state.status==="pending",u=!this.#a.canStart();try{if(l)r();else{this.#s({type:"pending",variables:n,isPaused:u}),await this.#r.config.onMutate?.(n,this,a);const g=await this.options.onMutate?.(n,a);g!==this.state.context&&this.#s({type:"pending",context:g,variables:n,isPaused:u})}const h=await this.#a.start();return await this.#r.config.onSuccess?.(h,n,this.state.context,this,a),await this.options.onSuccess?.(h,n,this.state.context,a),await this.#r.config.onSettled?.(h,null,this.state.variables,this.state.context,this,a),await this.options.onSettled?.(h,null,n,this.state.context,a),this.#s({type:"success",data:h}),h}catch(h){try{throw await this.#r.config.onError?.(h,n,this.state.context,this,a),await this.options.onError?.(h,n,this.state.context,a),await this.#r.config.onSettled?.(void 0,h,this.state.variables,this.state.context,this,a),await this.options.onSettled?.(void 0,h,n,this.state.context,a),h}finally{this.#s({type:"error",error:h})}}finally{this.#r.runNext(this)}}#s(n){const r=a=>{switch(n.type){case"failed":return{...a,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...a,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:n.error,failureCount:a.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Mt.batch(()=>{this.#e.forEach(a=>{a.onMutationUpdate(n)}),this.#r.notify({mutation:this,type:"updated",action:n})})}};function Sc(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var gu=class extends Hs{constructor(n={}){super(),this.config=n,this.#t=new Set,this.#e=new Map,this.#r=0}#t;#e;#r;build(n,r,a){const l=new mu({client:n,mutationCache:this,mutationId:++this.#r,options:n.defaultMutationOptions(r),state:a});return this.add(l),l}add(n){this.#t.add(n);const r=hn(n);if(typeof r=="string"){const a=this.#e.get(r);a?a.push(n):this.#e.set(r,[n])}this.notify({type:"added",mutation:n})}remove(n){if(this.#t.delete(n)){const r=hn(n);if(typeof r=="string"){const a=this.#e.get(r);if(a)if(a.length>1){const l=a.indexOf(n);l!==-1&&a.splice(l,1)}else a[0]===n&&this.#e.delete(r)}}this.notify({type:"removed",mutation:n})}canRun(n){const r=hn(n);if(typeof r=="string"){const l=this.#e.get(r)?.find(u=>u.state.status==="pending");return!l||l===n}else return!0}runNext(n){const r=hn(n);return typeof r=="string"?this.#e.get(r)?.find(l=>l!==n&&l.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Mt.batch(()=>{this.#t.forEach(n=>{this.notify({type:"removed",mutation:n})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(n){const r={exact:!0,...n};return this.getAll().find(a=>nl(r,a))}findAll(n={}){return this.getAll().filter(r=>nl(n,r))}notify(n){Mt.batch(()=>{this.listeners.forEach(r=>{r(n)})})}resumePausedMutations(){const n=this.getAll().filter(r=>r.state.isPaused);return Mt.batch(()=>Promise.all(n.map(r=>r.continue().catch(ar))))}};function hn(n){return n.options.scope?.id}var fu=class extends Hs{#t;#e=void 0;#r;#a;constructor(r,a){super(),this.#t=r,this.setOptions(a),this.bindMethods(),this.#s()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){const a=this.options;this.options=this.#t.defaultMutationOptions(r),za(this.options,a)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),a?.mutationKey&&this.options.mutationKey&&Bs(a.mutationKey)!==Bs(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(r){this.#s(),this.#n(r)}getCurrentResult(){return this.#e}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#s(),this.#n()}mutate(r,a){return this.#a=a,this.#r?.removeObserver(this),this.#r=this.#t.getMutationCache().build(this.#t,this.options),this.#r.addObserver(this),this.#r.execute(r)}#s(){const r=this.#r?.state??Sc();this.#e={...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset}}#n(r){Mt.batch(()=>{if(this.#a&&this.hasListeners()){const a=this.#e.variables,l=this.#e.context,u={client:this.#t,meta:this.options.meta,mutationKey:this.options.mutationKey};r?.type==="success"?(this.#a.onSuccess?.(r.data,a,l,u),this.#a.onSettled?.(r.data,null,a,l,u)):r?.type==="error"&&(this.#a.onError?.(r.error,a,l,u),this.#a.onSettled?.(void 0,r.error,a,l,u))}this.listeners.forEach(a=>{a(this.#e)})})}};function gl(n,r){const a=new Set(r);return n.filter(l=>!a.has(l))}function xu(n,r,a){const l=n.slice(0);return l[r]=a,l}var pu=class extends Hs{#t;#e;#r;#a;#s;#n;#o;#i;#m=[];constructor(n,r,a){super(),this.#t=n,this.#a=a,this.#r=[],this.#s=[],this.#e=[],this.setQueries(r)}onSubscribe(){this.listeners.size===1&&this.#s.forEach(n=>{n.subscribe(r=>{this.#d(n,r)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,this.#s.forEach(n=>{n.destroy()})}setQueries(n,r){this.#r=n,this.#a=r,Mt.batch(()=>{const a=this.#s,l=this.#c(this.#r);this.#m=l,l.forEach(w=>w.observer.setOptions(w.defaultedQueryOptions));const u=l.map(w=>w.observer),h=u.map(w=>w.getCurrentResult()),g=a.length!==u.length,p=u.some((w,v)=>w!==a[v]),b=g||p,f=b?!0:h.some((w,v)=>{const k=this.#e[v];return!k||!za(w,k)});!b&&!f||(b&&(this.#s=u),this.#e=h,this.hasListeners()&&(b&&(gl(a,u).forEach(w=>{w.destroy()}),gl(u,a).forEach(w=>{w.subscribe(v=>{this.#d(w,v)})})),this.#l()))})}getCurrentResult(){return this.#e}getQueries(){return this.#s.map(n=>n.getCurrentQuery())}getObservers(){return this.#s}getOptimisticResult(n,r){const a=this.#c(n),l=a.map(u=>u.observer.getOptimisticResult(u.defaultedQueryOptions));return[l,u=>this.#h(u??l,r),()=>this.#u(l,a)]}#u(n,r){return r.map((a,l)=>{const u=n[l];return a.defaultedQueryOptions.notifyOnChangeProps?u:a.observer.trackResult(u,h=>{r.forEach(g=>{g.observer.trackProp(h)})})})}#h(n,r){return r?((!this.#n||this.#e!==this.#i||r!==this.#o)&&(this.#o=r,this.#i=this.#e,this.#n=fo(this.#n,r(n))),this.#n):n}#c(n){const r=new Map(this.#s.map(l=>[l.options.queryHash,l])),a=[];return n.forEach(l=>{const u=this.#t.defaultQueryOptions(l),h=r.get(u.queryHash);h?a.push({defaultedQueryOptions:u,observer:h}):a.push({defaultedQueryOptions:u,observer:new bo(this.#t,u)})}),a}#d(n,r){const a=this.#s.indexOf(n);a!==-1&&(this.#e=xu(this.#e,a,r),this.#l())}#l(){if(this.hasListeners()){const n=this.#n,r=this.#u(this.#e,this.#m),a=this.#h(r,this.#a?.combine);n!==a&&Mt.batch(()=>{this.listeners.forEach(l=>{l(this.#e)})})}}},bu=class extends Hs{constructor(n={}){super(),this.config=n,this.#t=new Map}#t;build(n,r,a){const l=r.queryKey,u=r.queryHash??go(l,r);let h=this.get(u);return h||(h=new cu({client:n,queryKey:l,queryHash:u,options:n.defaultQueryOptions(r),state:a,defaultOptions:n.getQueryDefaults(l)}),this.add(h)),h}add(n){this.#t.has(n.queryHash)||(this.#t.set(n.queryHash,n),this.notify({type:"added",query:n}))}remove(n){const r=this.#t.get(n.queryHash);r&&(n.destroy(),r===n&&this.#t.delete(n.queryHash),this.notify({type:"removed",query:n}))}clear(){Mt.batch(()=>{this.getAll().forEach(n=>{this.remove(n)})})}get(n){return this.#t.get(n)}getAll(){return[...this.#t.values()]}find(n){const r={exact:!0,...n};return this.getAll().find(a=>al(r,a))}findAll(n={}){const r=this.getAll();return Object.keys(n).length>0?r.filter(a=>al(n,a)):r}notify(n){Mt.batch(()=>{this.listeners.forEach(r=>{r(n)})})}onFocus(){Mt.batch(()=>{this.getAll().forEach(n=>{n.onFocus()})})}onOnline(){Mt.batch(()=>{this.getAll().forEach(n=>{n.onOnline()})})}},yu=class{#t;#e;#r;#a;#s;#n;#o;#i;constructor(n={}){this.#t=n.queryCache||new bu,this.#e=n.mutationCache||new gu,this.#r=n.defaultOptions||{},this.#a=new Map,this.#s=new Map,this.#n=0}mount(){this.#n++,this.#n===1&&(this.#o=po.subscribe(async n=>{n&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#i=Tn.subscribe(async n=>{n&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#n--,this.#n===0&&(this.#o?.(),this.#o=void 0,this.#i?.(),this.#i=void 0)}isFetching(n){return this.#t.findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return this.#e.findAll({...n,status:"pending"}).length}getQueryData(n){const r=this.defaultQueryOptions({queryKey:n});return this.#t.get(r.queryHash)?.state.data}ensureQueryData(n){const r=this.defaultQueryOptions(n),a=this.#t.build(this,r),l=a.state.data;return l===void 0?this.fetchQuery(n):(n.revalidateIfStale&&a.isStaleByTime(vs(r.staleTime,a))&&this.prefetchQuery(r),Promise.resolve(l))}getQueriesData(n){return this.#t.findAll(n).map(({queryKey:r,state:a})=>{const l=a.data;return[r,l]})}setQueryData(n,r,a){const l=this.defaultQueryOptions({queryKey:n}),h=this.#t.get(l.queryHash)?.state.data,g=J0(r,h);if(g!==void 0)return this.#t.build(this,l).setData(g,{...a,manual:!0})}setQueriesData(n,r,a){return Mt.batch(()=>this.#t.findAll(n).map(({queryKey:l})=>[l,this.setQueryData(l,r,a)]))}getQueryState(n){const r=this.defaultQueryOptions({queryKey:n});return this.#t.get(r.queryHash)?.state}removeQueries(n){const r=this.#t;Mt.batch(()=>{r.findAll(n).forEach(a=>{r.remove(a)})})}resetQueries(n,r){const a=this.#t;return Mt.batch(()=>(a.findAll(n).forEach(l=>{l.reset()}),this.refetchQueries({type:"active",...n},r)))}cancelQueries(n,r={}){const a={revert:!0,...r},l=Mt.batch(()=>this.#t.findAll(n).map(u=>u.cancel(a)));return Promise.all(l).then(ar).catch(ar)}invalidateQueries(n,r={}){return Mt.batch(()=>(this.#t.findAll(n).forEach(a=>{a.invalidate()}),n?.refetchType==="none"?Promise.resolve():this.refetchQueries({...n,type:n?.refetchType??n?.type??"active"},r)))}refetchQueries(n,r={}){const a={...r,cancelRefetch:r.cancelRefetch??!0},l=Mt.batch(()=>this.#t.findAll(n).filter(u=>!u.isDisabled()&&!u.isStatic()).map(u=>{let h=u.fetch(void 0,a);return a.throwOnError||(h=h.catch(ar)),u.state.fetchStatus==="paused"?Promise.resolve():h}));return Promise.all(l).then(ar)}fetchQuery(n){const r=this.defaultQueryOptions(n);r.retry===void 0&&(r.retry=!1);const a=this.#t.build(this,r);return a.isStaleByTime(vs(r.staleTime,a))?a.fetch(r):Promise.resolve(a.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(ar).catch(ar)}fetchInfiniteQuery(n){return n.behavior=hl(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(ar).catch(ar)}ensureInfiniteQueryData(n){return n.behavior=hl(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return Tn.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#r}setDefaultOptions(n){this.#r=n}setQueryDefaults(n,r){this.#a.set(Bs(n),{queryKey:n,defaultOptions:r})}getQueryDefaults(n){const r=[...this.#a.values()],a={};return r.forEach(l=>{$a(n,l.queryKey)&&Object.assign(a,l.defaultOptions)}),a}setMutationDefaults(n,r){this.#s.set(Bs(n),{mutationKey:n,defaultOptions:r})}getMutationDefaults(n){const r=[...this.#s.values()],a={};return r.forEach(l=>{$a(n,l.mutationKey)&&Object.assign(a,l.defaultOptions)}),a}defaultQueryOptions(n){if(n._defaulted)return n;const r={...this.#r.queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return r.queryHash||(r.queryHash=go(r.queryKey,r)),r.refetchOnReconnect===void 0&&(r.refetchOnReconnect=r.networkMode!=="always"),r.throwOnError===void 0&&(r.throwOnError=!!r.suspense),!r.networkMode&&r.persister&&(r.networkMode="offlineFirst"),r.queryFn===xo&&(r.enabled=!1),r}defaultMutationOptions(n){return n?._defaulted?n:{...this.#r.mutations,...n?.mutationKey&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},Ec=j.createContext(void 0),Ut=n=>{const r=j.useContext(Ec);if(!r)throw new Error("No QueryClient set, use QueryClientProvider to set one");return r},wu=({client:n,children:r})=>(j.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),e.jsx(Ec.Provider,{value:n,children:r})),Ac=j.createContext(!1),Tc=()=>j.useContext(Ac);Ac.Provider;function vu(){let n=!1;return{clearReset:()=>{n=!1},reset:()=>{n=!0},isReset:()=>n}}var Nu=j.createContext(vu()),Ic=()=>j.useContext(Nu),Rc=(n,r)=>{(n.suspense||n.throwOnError||n.experimental_prefetchInRender)&&(r.isReset()||(n.retryOnMount=!1))},_c=n=>{j.useEffect(()=>{n.clearReset()},[n])},Oc=({result:n,errorResetBoundary:r,throwOnError:a,query:l,suspense:u})=>n.isError&&!r.isReset()&&!n.isFetching&&l&&(u&&n.data===void 0||vc(a,[n.error,l])),Pc=n=>{if(n.suspense){const a=u=>u==="static"?u:Math.max(u??1e3,1e3),l=n.staleTime;n.staleTime=typeof l=="function"?(...u)=>a(l(...u)):a(l),typeof n.gcTime=="number"&&(n.gcTime=Math.max(n.gcTime,1e3))}},Dc=(n,r)=>n.isLoading&&n.isFetching&&!r,Gi=(n,r)=>n?.suspense&&r.isPending,In=(n,r,a)=>r.fetchOptimistic(n).catch(()=>{a.clearReset()});function ku({queries:n,...r},a){const l=Ut(),u=Tc(),h=Ic(),g=j.useMemo(()=>n.map(T=>{const I=l.defaultQueryOptions(T);return I._optimisticResults=u?"isRestoring":"optimistic",I}),[n,l,u]);g.forEach(T=>{Pc(T),Rc(T,h)}),_c(h);const[p]=j.useState(()=>new pu(l,g,r)),[b,f,w]=p.getOptimisticResult(g,r.combine),v=!u&&r.subscribed!==!1;j.useSyncExternalStore(j.useCallback(T=>v?p.subscribe(Mt.batchCalls(T)):ar,[p,v]),()=>p.getCurrentResult(),()=>p.getCurrentResult()),j.useEffect(()=>{p.setQueries(g,r)},[g,r,p]);const A=b.some((T,I)=>Gi(g[I],T))?b.flatMap((T,I)=>{const R=g[I];if(R){const O=new bo(l,R);if(Gi(R,T))return In(R,O,h);Dc(T,u)&&In(R,O,h)}return[]}):[];if(A.length>0)throw Promise.all(A);const C=b.find((T,I)=>{const R=g[I];return R&&Oc({result:T,errorResetBoundary:h,throwOnError:R.throwOnError,query:l.getQueryCache().get(R.queryHash),suspense:R.suspense})});if(C?.error)throw C.error;return f(w())}function ju(n,r,a){const l=Tc(),u=Ic(),h=Ut(),g=h.defaultQueryOptions(n);h.getDefaultOptions().queries?._experimental_beforeQuery?.(g),g._optimisticResults=l?"isRestoring":"optimistic",Pc(g),Rc(g,u),_c(u);const p=!h.getQueryCache().get(g.queryHash),[b]=j.useState(()=>new r(h,g)),f=b.getOptimisticResult(g),w=!l&&n.subscribed!==!1;if(j.useSyncExternalStore(j.useCallback(v=>{const k=w?b.subscribe(Mt.batchCalls(v)):ar;return b.updateResult(),k},[b,w]),()=>b.getCurrentResult(),()=>b.getCurrentResult()),j.useEffect(()=>{b.setOptions(g)},[g,b]),Gi(g,f))throw In(g,b,u);if(Oc({result:f,errorResetBoundary:u,throwOnError:g.throwOnError,query:h.getQueryCache().get(g.queryHash),suspense:g.suspense}))throw f.error;return h.getDefaultOptions().queries?._experimental_afterQuery?.(g,f),g.experimental_prefetchInRender&&!Ms&&Dc(f,l)&&(p?In(g,b,u):h.getQueryCache().get(g.queryHash)?.promise)?.catch(ar).finally(()=>{b.updateResult()}),g.notifyOnChangeProps?f:b.trackResult(f)}function Hr(n,r){return ju(n,bo)}function ht(n,r){const a=Ut(),[l]=j.useState(()=>new fu(a,n));j.useEffect(()=>{l.setOptions(n)},[l,n]);const u=j.useSyncExternalStore(j.useCallback(g=>l.subscribe(Mt.batchCalls(g)),[l]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),h=j.useCallback((g,p)=>{l.mutate(g,p).catch(ar)},[l]);if(u.error&&vc(l.options.throwOnError,[u.error]))throw u.error;return{...u,mutate:h,mutateAsync:u.mutate}}let Cu={data:""},Su=n=>{if(typeof window=="object"){let r=(n?n.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return r.nonce=window.__nonce__,r.parentNode||(n||document.head).appendChild(r),r.firstChild}return n||Cu},Eu=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Au=/\/\*[^]*?\*\/|  +/g,fl=/\n+/g,ys=(n,r)=>{let a="",l="",u="";for(let h in n){let g=n[h];h[0]=="@"?h[1]=="i"?a=h+" "+g+";":l+=h[1]=="f"?ys(g,h):h+"{"+ys(g,h[1]=="k"?"":r)+"}":typeof g=="object"?l+=ys(g,r?r.replace(/([^,])+/g,p=>h.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,b=>/&/.test(b)?b.replace(/&/g,p):p?p+" "+b:b)):h):g!=null&&(h=/^--/.test(h)?h:h.replace(/[A-Z]/g,"-$&").toLowerCase(),u+=ys.p?ys.p(h,g):h+":"+g+";")}return a+(r&&u?r+"{"+u+"}":u)+l},as={},Mc=n=>{if(typeof n=="object"){let r="";for(let a in n)r+=a+Mc(n[a]);return r}return n},Tu=(n,r,a,l,u)=>{let h=Mc(n),g=as[h]||(as[h]=(b=>{let f=0,w=11;for(;f<b.length;)w=101*w+b.charCodeAt(f++)>>>0;return"go"+w})(h));if(!as[g]){let b=h!==n?n:(f=>{let w,v,k=[{}];for(;w=Eu.exec(f.replace(Au,""));)w[4]?k.shift():w[3]?(v=w[3].replace(fl," ").trim(),k.unshift(k[0][v]=k[0][v]||{})):k[0][w[1]]=w[2].replace(fl," ").trim();return k[0]})(n);as[g]=ys(u?{["@keyframes "+g]:b}:b,a?"":"."+g)}let p=a&&as.g?as.g:null;return a&&(as.g=as[g]),((b,f,w,v)=>{v?f.data=f.data.replace(v,b):f.data.indexOf(b)===-1&&(f.data=w?b+f.data:f.data+b)})(as[g],r,l,p),g},Iu=(n,r,a)=>n.reduce((l,u,h)=>{let g=r[h];if(g&&g.call){let p=g(a),b=p&&p.props&&p.props.className||/^go/.test(p)&&p;g=b?"."+b:p&&typeof p=="object"?p.props?"":ys(p,""):p===!1?"":p}return l+u+(g??"")},"");function zn(n){let r=this||{},a=n.call?n(r.p):n;return Tu(a.unshift?a.raw?Iu(a,[].slice.call(arguments,1),r.p):a.reduce((l,u)=>Object.assign(l,u&&u.call?u(r.p):u),{}):a,Su(r.target),r.g,r.o,r.k)}let Bc,Xi,Qi;zn.bind({g:1});let cs=zn.bind({k:1});function Ru(n,r,a,l){ys.p=r,Bc=n,Xi=a,Qi=l}function ks(n,r){let a=this||{};return function(){let l=arguments;function u(h,g){let p=Object.assign({},h),b=p.className||u.className;a.p=Object.assign({theme:Xi&&Xi()},p),a.o=/ *go\d+/.test(b),p.className=zn.apply(a,l)+(b?" "+b:"");let f=n;return n[0]&&(f=p.as||n,delete p.as),Qi&&f[0]&&Qi(p),Bc(f,p)}return u}}var _u=n=>typeof n=="function",Rn=(n,r)=>_u(n)?n(r):n,Ou=(()=>{let n=0;return()=>(++n).toString()})(),Lc=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let r=matchMedia("(prefers-reduced-motion: reduce)");n=!r||r.matches}return n}})(),Pu=20,wo="default",Fc=(n,r)=>{let{toastLimit:a}=n.settings;switch(r.type){case 0:return{...n,toasts:[r.toast,...n.toasts].slice(0,a)};case 1:return{...n,toasts:n.toasts.map(g=>g.id===r.toast.id?{...g,...r.toast}:g)};case 2:let{toast:l}=r;return Fc(n,{type:n.toasts.find(g=>g.id===l.id)?1:0,toast:l});case 3:let{toastId:u}=r;return{...n,toasts:n.toasts.map(g=>g.id===u||u===void 0?{...g,dismissed:!0,visible:!1}:g)};case 4:return r.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(g=>g.id!==r.toastId)};case 5:return{...n,pausedAt:r.time};case 6:let h=r.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(g=>({...g,pauseDuration:g.pauseDuration+h}))}}},vn=[],Uc={toasts:[],pausedAt:void 0,settings:{toastLimit:Pu}},es={},Vc=(n,r=wo)=>{es[r]=Fc(es[r]||Uc,n),vn.forEach(([a,l])=>{a===r&&l(es[r])})},$c=n=>Object.keys(es).forEach(r=>Vc(n,r)),Du=n=>Object.keys(es).find(r=>es[r].toasts.some(a=>a.id===n)),Hn=(n=wo)=>r=>{Vc(r,n)},Mu={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Bu=(n={},r=wo)=>{let[a,l]=j.useState(es[r]||Uc),u=j.useRef(es[r]);j.useEffect(()=>(u.current!==es[r]&&l(es[r]),vn.push([r,l]),()=>{let g=vn.findIndex(([p])=>p===r);g>-1&&vn.splice(g,1)}),[r]);let h=a.toasts.map(g=>{var p,b,f;return{...n,...n[g.type],...g,removeDelay:g.removeDelay||((p=n[g.type])==null?void 0:p.removeDelay)||n?.removeDelay,duration:g.duration||((b=n[g.type])==null?void 0:b.duration)||n?.duration||Mu[g.type],style:{...n.style,...(f=n[g.type])==null?void 0:f.style,...g.style}}});return{...a,toasts:h}},Lu=(n,r="blank",a)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:r,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...a,id:a?.id||Ou()}),Xa=n=>(r,a)=>{let l=Lu(r,n,a);return Hn(l.toasterId||Du(l.id))({type:2,toast:l}),l.id},De=(n,r)=>Xa("blank")(n,r);De.error=Xa("error");De.success=Xa("success");De.loading=Xa("loading");De.custom=Xa("custom");De.dismiss=(n,r)=>{let a={type:3,toastId:n};r?Hn(r)(a):$c(a)};De.dismissAll=n=>De.dismiss(void 0,n);De.remove=(n,r)=>{let a={type:4,toastId:n};r?Hn(r)(a):$c(a)};De.removeAll=n=>De.remove(void 0,n);De.promise=(n,r,a)=>{let l=De.loading(r.loading,{...a,...a?.loading});return typeof n=="function"&&(n=n()),n.then(u=>{let h=r.success?Rn(r.success,u):void 0;return h?De.success(h,{id:l,...a,...a?.success}):De.dismiss(l),u}).catch(u=>{let h=r.error?Rn(r.error,u):void 0;h?De.error(h,{id:l,...a,...a?.error}):De.dismiss(l)}),n};var Fu=1e3,Uu=(n,r="default")=>{let{toasts:a,pausedAt:l}=Bu(n,r),u=j.useRef(new Map).current,h=j.useCallback((v,k=Fu)=>{if(u.has(v))return;let A=setTimeout(()=>{u.delete(v),g({type:4,toastId:v})},k);u.set(v,A)},[]);j.useEffect(()=>{if(l)return;let v=Date.now(),k=a.map(A=>{if(A.duration===1/0)return;let C=(A.duration||0)+A.pauseDuration-(v-A.createdAt);if(C<0){A.visible&&De.dismiss(A.id);return}return setTimeout(()=>De.dismiss(A.id,r),C)});return()=>{k.forEach(A=>A&&clearTimeout(A))}},[a,l,r]);let g=j.useCallback(Hn(r),[r]),p=j.useCallback(()=>{g({type:5,time:Date.now()})},[g]),b=j.useCallback((v,k)=>{g({type:1,toast:{id:v,height:k}})},[g]),f=j.useCallback(()=>{l&&g({type:6,time:Date.now()})},[l,g]),w=j.useCallback((v,k)=>{let{reverseOrder:A=!1,gutter:C=8,defaultPosition:T}=k||{},I=a.filter(P=>(P.position||T)===(v.position||T)&&P.height),R=I.findIndex(P=>P.id===v.id),O=I.filter((P,G)=>G<R&&P.visible).length;return I.filter(P=>P.visible).slice(...A?[O+1]:[0,O]).reduce((P,G)=>P+(G.height||0)+C,0)},[a]);return j.useEffect(()=>{a.forEach(v=>{if(v.dismissed)h(v.id,v.removeDelay);else{let k=u.get(v.id);k&&(clearTimeout(k),u.delete(v.id))}})},[a,h]),{toasts:a,handlers:{updateHeight:b,startPause:p,endPause:f,calculateOffset:w}}},Vu=cs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,$u=cs`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,zu=cs`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Hu=ks("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Vu} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${$u} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${zu} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Wu=cs`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,qu=ks("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${Wu} 1s linear infinite;
`,Gu=cs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Xu=cs`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Qu=ks("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Gu} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Xu} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Ku=ks("div")`
  position: absolute;
`,Yu=ks("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Zu=cs`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Ju=ks("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Zu} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,eh=({toast:n})=>{let{icon:r,type:a,iconTheme:l}=n;return r!==void 0?typeof r=="string"?j.createElement(Ju,null,r):r:a==="blank"?null:j.createElement(Yu,null,j.createElement(qu,{...l}),a!=="loading"&&j.createElement(Ku,null,a==="error"?j.createElement(Hu,{...l}):j.createElement(Qu,{...l})))},th=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,rh=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,sh="0%{opacity:0;} 100%{opacity:1;}",ah="0%{opacity:1;} 100%{opacity:0;}",nh=ks("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,ih=ks("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,oh=(n,r)=>{let a=n.includes("top")?1:-1,[l,u]=Lc()?[sh,ah]:[th(a),rh(a)];return{animation:r?`${cs(l)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${cs(u)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},lh=j.memo(({toast:n,position:r,style:a,children:l})=>{let u=n.height?oh(n.position||r||"top-center",n.visible):{opacity:0},h=j.createElement(eh,{toast:n}),g=j.createElement(ih,{...n.ariaProps},Rn(n.message,n));return j.createElement(nh,{className:n.className,style:{...u,...a,...n.style}},typeof l=="function"?l({icon:h,message:g}):j.createElement(j.Fragment,null,h,g))});Ru(j.createElement);var ch=({id:n,className:r,style:a,onHeightUpdate:l,children:u})=>{let h=j.useCallback(g=>{if(g){let p=()=>{let b=g.getBoundingClientRect().height;l(n,b)};p(),new MutationObserver(p).observe(g,{subtree:!0,childList:!0,characterData:!0})}},[n,l]);return j.createElement("div",{ref:h,className:r,style:a},u)},dh=(n,r)=>{let a=n.includes("top"),l=a?{top:0}:{bottom:0},u=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Lc()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${r*(a?1:-1)}px)`,...l,...u}},uh=zn`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,mn=16,vo=({reverseOrder:n,position:r="top-center",toastOptions:a,gutter:l,children:u,toasterId:h,containerStyle:g,containerClassName:p})=>{let{toasts:b,handlers:f}=Uu(a,h);return j.createElement("div",{"data-rht-toaster":h||"",style:{position:"fixed",zIndex:9999,top:mn,left:mn,right:mn,bottom:mn,pointerEvents:"none",...g},className:p,onMouseEnter:f.startPause,onMouseLeave:f.endPause},b.map(w=>{let v=w.position||r,k=f.calculateOffset(w,{reverseOrder:n,gutter:l,defaultPosition:r}),A=dh(v,k);return j.createElement(ch,{id:w.id,key:w.id,onHeightUpdate:f.updateHeight,className:w.visible?uh:"",style:A},w.type==="custom"?Rn(w.message,w):u?u(w):j.createElement(lh,{toast:w,position:v}))}))},Te=De,zc={exports:{}},hh="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",mh=hh,gh=mh;function Hc(){}function Wc(){}Wc.resetWarningCache=Hc;var fh=function(){function n(l,u,h,g,p,b){if(b!==gh){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}n.isRequired=n;function r(){return n}var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:r,element:n,elementType:n,instanceOf:r,node:n,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:Wc,resetWarningCache:Hc};return a.PropTypes=a,a};zc.exports=fh();var xh=zc.exports;const Ze=ya(xh);var ph=typeof Element<"u",bh=typeof Map=="function",yh=typeof Set=="function",wh=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Nn(n,r){if(n===r)return!0;if(n&&r&&typeof n=="object"&&typeof r=="object"){if(n.constructor!==r.constructor)return!1;var a,l,u;if(Array.isArray(n)){if(a=n.length,a!=r.length)return!1;for(l=a;l--!==0;)if(!Nn(n[l],r[l]))return!1;return!0}var h;if(bh&&n instanceof Map&&r instanceof Map){if(n.size!==r.size)return!1;for(h=n.entries();!(l=h.next()).done;)if(!r.has(l.value[0]))return!1;for(h=n.entries();!(l=h.next()).done;)if(!Nn(l.value[1],r.get(l.value[0])))return!1;return!0}if(yh&&n instanceof Set&&r instanceof Set){if(n.size!==r.size)return!1;for(h=n.entries();!(l=h.next()).done;)if(!r.has(l.value[0]))return!1;return!0}if(wh&&ArrayBuffer.isView(n)&&ArrayBuffer.isView(r)){if(a=n.length,a!=r.length)return!1;for(l=a;l--!==0;)if(n[l]!==r[l])return!1;return!0}if(n.constructor===RegExp)return n.source===r.source&&n.flags===r.flags;if(n.valueOf!==Object.prototype.valueOf&&typeof n.valueOf=="function"&&typeof r.valueOf=="function")return n.valueOf()===r.valueOf();if(n.toString!==Object.prototype.toString&&typeof n.toString=="function"&&typeof r.toString=="function")return n.toString()===r.toString();if(u=Object.keys(n),a=u.length,a!==Object.keys(r).length)return!1;for(l=a;l--!==0;)if(!Object.prototype.hasOwnProperty.call(r,u[l]))return!1;if(ph&&n instanceof Element)return!1;for(l=a;l--!==0;)if(!((u[l]==="_owner"||u[l]==="__v"||u[l]==="__o")&&n.$$typeof)&&!Nn(n[u[l]],r[u[l]]))return!1;return!0}return n!==n&&r!==r}var vh=function(r,a){try{return Nn(r,a)}catch(l){if((l.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw l}};const Nh=ya(vh);var kh=function(n,r,a,l,u,h,g,p){if(!n){var b;if(r===void 0)b=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var f=[a,l,u,h,g,p],w=0;b=new Error(r.replace(/%s/g,function(){return f[w++]})),b.name="Invariant Violation"}throw b.framesToPop=1,b}},jh=kh;const xl=ya(jh);var Ch=function(r,a,l,u){var h=l?l.call(u,r,a):void 0;if(h!==void 0)return!!h;if(r===a)return!0;if(typeof r!="object"||!r||typeof a!="object"||!a)return!1;var g=Object.keys(r),p=Object.keys(a);if(g.length!==p.length)return!1;for(var b=Object.prototype.hasOwnProperty.bind(a),f=0;f<g.length;f++){var w=g[f];if(!b(w))return!1;var v=r[w],k=a[w];if(h=l?l.call(u,v,k,w):void 0,h===!1||h===void 0&&v!==k)return!1}return!0};const Sh=ya(Ch);function Ft(){return Ft=Object.assign||function(n){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(n[l]=a[l])}return n},Ft.apply(this,arguments)}function No(n,r){n.prototype=Object.create(r.prototype),n.prototype.constructor=n,Ki(n,r)}function Ki(n,r){return Ki=Object.setPrototypeOf||function(a,l){return a.__proto__=l,a},Ki(n,r)}function pl(n,r){if(n==null)return{};var a,l,u={},h=Object.keys(n);for(l=0;l<h.length;l++)r.indexOf(a=h[l])>=0||(u[a]=n[a]);return u}var Le={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title",FRAGMENT:"Symbol(react.fragment)"},Eh={rel:["amphtml","canonical","alternate"]},Ah={type:["application/ld+json"]},Th={charset:"",name:["robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]},bl=Object.keys(Le).map(function(n){return Le[n]}),_n={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Ih=Object.keys(_n).reduce(function(n,r){return n[_n[r]]=r,n},{}),ha=function(n,r){for(var a=n.length-1;a>=0;a-=1){var l=n[a];if(Object.prototype.hasOwnProperty.call(l,r))return l[r]}return null},Rh=function(n){var r=ha(n,Le.TITLE),a=ha(n,"titleTemplate");if(Array.isArray(r)&&(r=r.join("")),a&&r)return a.replace(/%s/g,function(){return r});var l=ha(n,"defaultTitle");return r||l||void 0},_h=function(n){return ha(n,"onChangeClientState")||function(){}},ki=function(n,r){return r.filter(function(a){return a[n]!==void 0}).map(function(a){return a[n]}).reduce(function(a,l){return Ft({},a,l)},{})},Oh=function(n,r){return r.filter(function(a){return a[Le.BASE]!==void 0}).map(function(a){return a[Le.BASE]}).reverse().reduce(function(a,l){if(!a.length)for(var u=Object.keys(l),h=0;h<u.length;h+=1){var g=u[h].toLowerCase();if(n.indexOf(g)!==-1&&l[g])return a.concat(l)}return a},[])},Pa=function(n,r,a){var l={};return a.filter(function(u){return!!Array.isArray(u[n])||(u[n]!==void 0&&console&&typeof console.warn=="function"&&console.warn("Helmet: "+n+' should be of type "Array". Instead found type "'+typeof u[n]+'"'),!1)}).map(function(u){return u[n]}).reverse().reduce(function(u,h){var g={};h.filter(function(v){for(var k,A=Object.keys(v),C=0;C<A.length;C+=1){var T=A[C],I=T.toLowerCase();r.indexOf(I)===-1||k==="rel"&&v[k].toLowerCase()==="canonical"||I==="rel"&&v[I].toLowerCase()==="stylesheet"||(k=I),r.indexOf(T)===-1||T!=="innerHTML"&&T!=="cssText"&&T!=="itemprop"||(k=T)}if(!k||!v[k])return!1;var R=v[k].toLowerCase();return l[k]||(l[k]={}),g[k]||(g[k]={}),!l[k][R]&&(g[k][R]=!0,!0)}).reverse().forEach(function(v){return u.push(v)});for(var p=Object.keys(g),b=0;b<p.length;b+=1){var f=p[b],w=Ft({},l[f],g[f]);l[f]=w}return u},[]).reverse()},Ph=function(n,r){if(Array.isArray(n)&&n.length){for(var a=0;a<n.length;a+=1)if(n[a][r])return!0}return!1},qc=function(n){return Array.isArray(n)?n.join(""):n},ji=function(n,r){return Array.isArray(n)?n.reduce(function(a,l){return function(u,h){for(var g=Object.keys(u),p=0;p<g.length;p+=1)if(h[g[p]]&&h[g[p]].includes(u[g[p]]))return!0;return!1}(l,r)?a.priority.push(l):a.default.push(l),a},{priority:[],default:[]}):{default:n}},yl=function(n,r){var a;return Ft({},n,((a={})[r]=void 0,a))},Dh=[Le.NOSCRIPT,Le.SCRIPT,Le.STYLE],Ci=function(n,r){return r===void 0&&(r=!0),r===!1?String(n):String(n).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},wl=function(n){return Object.keys(n).reduce(function(r,a){var l=n[a]!==void 0?a+'="'+n[a]+'"':""+a;return r?r+" "+l:l},"")},vl=function(n,r){return r===void 0&&(r={}),Object.keys(n).reduce(function(a,l){return a[_n[l]||l]=n[l],a},r)},kn=function(n,r){return r.map(function(a,l){var u,h=((u={key:l})["data-rh"]=!0,u);return Object.keys(a).forEach(function(g){var p=_n[g]||g;p==="innerHTML"||p==="cssText"?h.dangerouslySetInnerHTML={__html:a.innerHTML||a.cssText}:h[p]=a[g]}),ot.createElement(n,h)})},Rr=function(n,r,a){switch(n){case Le.TITLE:return{toComponent:function(){return u=r.titleAttributes,(h={key:l=r.title})["data-rh"]=!0,g=vl(u,h),[ot.createElement(Le.TITLE,g,l)];var l,u,h,g},toString:function(){return function(l,u,h,g){var p=wl(h),b=qc(u);return p?"<"+l+' data-rh="true" '+p+">"+Ci(b,g)+"</"+l+">":"<"+l+' data-rh="true">'+Ci(b,g)+"</"+l+">"}(n,r.title,r.titleAttributes,a)}};case"bodyAttributes":case"htmlAttributes":return{toComponent:function(){return vl(r)},toString:function(){return wl(r)}};default:return{toComponent:function(){return kn(n,r)},toString:function(){return function(l,u,h){return u.reduce(function(g,p){var b=Object.keys(p).filter(function(v){return!(v==="innerHTML"||v==="cssText")}).reduce(function(v,k){var A=p[k]===void 0?k:k+'="'+Ci(p[k],h)+'"';return v?v+" "+A:A},""),f=p.innerHTML||p.cssText||"",w=Dh.indexOf(l)===-1;return g+"<"+l+' data-rh="true" '+b+(w?"/>":">"+f+"</"+l+">")},"")}(n,r,a)}}}},Yi=function(n){var r=n.baseTag,a=n.bodyAttributes,l=n.encode,u=n.htmlAttributes,h=n.noscriptTags,g=n.styleTags,p=n.title,b=p===void 0?"":p,f=n.titleAttributes,w=n.linkTags,v=n.metaTags,k=n.scriptTags,A={toComponent:function(){},toString:function(){return""}};if(n.prioritizeSeoTags){var C=function(T){var I=T.linkTags,R=T.scriptTags,O=T.encode,P=ji(T.metaTags,Th),G=ji(I,Eh),Q=ji(R,Ah);return{priorityMethods:{toComponent:function(){return[].concat(kn(Le.META,P.priority),kn(Le.LINK,G.priority),kn(Le.SCRIPT,Q.priority))},toString:function(){return Rr(Le.META,P.priority,O)+" "+Rr(Le.LINK,G.priority,O)+" "+Rr(Le.SCRIPT,Q.priority,O)}},metaTags:P.default,linkTags:G.default,scriptTags:Q.default}}(n);A=C.priorityMethods,w=C.linkTags,v=C.metaTags,k=C.scriptTags}return{priority:A,base:Rr(Le.BASE,r,l),bodyAttributes:Rr("bodyAttributes",a,l),htmlAttributes:Rr("htmlAttributes",u,l),link:Rr(Le.LINK,w,l),meta:Rr(Le.META,v,l),noscript:Rr(Le.NOSCRIPT,h,l),script:Rr(Le.SCRIPT,k,l),style:Rr(Le.STYLE,g,l),title:Rr(Le.TITLE,{title:b,titleAttributes:f},l)}},gn=[],Zi=function(n,r){var a=this;r===void 0&&(r=typeof document<"u"),this.instances=[],this.value={setHelmet:function(l){a.context.helmet=l},helmetInstances:{get:function(){return a.canUseDOM?gn:a.instances},add:function(l){(a.canUseDOM?gn:a.instances).push(l)},remove:function(l){var u=(a.canUseDOM?gn:a.instances).indexOf(l);(a.canUseDOM?gn:a.instances).splice(u,1)}}},this.context=n,this.canUseDOM=r,r||(n.helmet=Yi({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))},Gc=ot.createContext({}),Mh=Ze.shape({setHelmet:Ze.func,helmetInstances:Ze.shape({get:Ze.func,add:Ze.func,remove:Ze.func})}),Bh=typeof document<"u",oa=function(n){function r(a){var l;return(l=n.call(this,a)||this).helmetData=new Zi(l.props.context,r.canUseDOM),l}return No(r,n),r.prototype.render=function(){return ot.createElement(Gc.Provider,{value:this.helmetData.value},this.props.children)},r}(j.Component);oa.canUseDOM=Bh,oa.propTypes={context:Ze.shape({helmet:Ze.shape()}),children:Ze.node.isRequired},oa.defaultProps={context:{}},oa.displayName="HelmetProvider";var ta=function(n,r){var a,l=document.head||document.querySelector(Le.HEAD),u=l.querySelectorAll(n+"[data-rh]"),h=[].slice.call(u),g=[];return r&&r.length&&r.forEach(function(p){var b=document.createElement(n);for(var f in p)Object.prototype.hasOwnProperty.call(p,f)&&(f==="innerHTML"?b.innerHTML=p.innerHTML:f==="cssText"?b.styleSheet?b.styleSheet.cssText=p.cssText:b.appendChild(document.createTextNode(p.cssText)):b.setAttribute(f,p[f]===void 0?"":p[f]));b.setAttribute("data-rh","true"),h.some(function(w,v){return a=v,b.isEqualNode(w)})?h.splice(a,1):g.push(b)}),h.forEach(function(p){return p.parentNode.removeChild(p)}),g.forEach(function(p){return l.appendChild(p)}),{oldTags:h,newTags:g}},Si=function(n,r){var a=document.getElementsByTagName(n)[0];if(a){for(var l=a.getAttribute("data-rh"),u=l?l.split(","):[],h=[].concat(u),g=Object.keys(r),p=0;p<g.length;p+=1){var b=g[p],f=r[b]||"";a.getAttribute(b)!==f&&a.setAttribute(b,f),u.indexOf(b)===-1&&u.push(b);var w=h.indexOf(b);w!==-1&&h.splice(w,1)}for(var v=h.length-1;v>=0;v-=1)a.removeAttribute(h[v]);u.length===h.length?a.removeAttribute("data-rh"):a.getAttribute("data-rh")!==g.join(",")&&a.setAttribute("data-rh",g.join(","))}},Nl=function(n,r){var a=n.baseTag,l=n.htmlAttributes,u=n.linkTags,h=n.metaTags,g=n.noscriptTags,p=n.onChangeClientState,b=n.scriptTags,f=n.styleTags,w=n.title,v=n.titleAttributes;Si(Le.BODY,n.bodyAttributes),Si(Le.HTML,l),function(T,I){T!==void 0&&document.title!==T&&(document.title=qc(T)),Si(Le.TITLE,I)}(w,v);var k={baseTag:ta(Le.BASE,a),linkTags:ta(Le.LINK,u),metaTags:ta(Le.META,h),noscriptTags:ta(Le.NOSCRIPT,g),scriptTags:ta(Le.SCRIPT,b),styleTags:ta(Le.STYLE,f)},A={},C={};Object.keys(k).forEach(function(T){var I=k[T],R=I.newTags,O=I.oldTags;R.length&&(A[T]=R),O.length&&(C[T]=k[T].oldTags)}),r&&r(),p(n,A,C)},Da=null,On=function(n){function r(){for(var l,u=arguments.length,h=new Array(u),g=0;g<u;g++)h[g]=arguments[g];return(l=n.call.apply(n,[this].concat(h))||this).rendered=!1,l}No(r,n);var a=r.prototype;return a.shouldComponentUpdate=function(l){return!Sh(l,this.props)},a.componentDidUpdate=function(){this.emitChange()},a.componentWillUnmount=function(){this.props.context.helmetInstances.remove(this),this.emitChange()},a.emitChange=function(){var l,u,h=this.props.context,g=h.setHelmet,p=null,b=(l=h.helmetInstances.get().map(function(f){var w=Ft({},f.props);return delete w.context,w}),{baseTag:Oh(["href"],l),bodyAttributes:ki("bodyAttributes",l),defer:ha(l,"defer"),encode:ha(l,"encodeSpecialCharacters"),htmlAttributes:ki("htmlAttributes",l),linkTags:Pa(Le.LINK,["rel","href"],l),metaTags:Pa(Le.META,["name","charset","http-equiv","property","itemprop"],l),noscriptTags:Pa(Le.NOSCRIPT,["innerHTML"],l),onChangeClientState:_h(l),scriptTags:Pa(Le.SCRIPT,["src","innerHTML"],l),styleTags:Pa(Le.STYLE,["cssText"],l),title:Rh(l),titleAttributes:ki("titleAttributes",l),prioritizeSeoTags:Ph(l,"prioritizeSeoTags")});oa.canUseDOM?(u=b,Da&&cancelAnimationFrame(Da),u.defer?Da=requestAnimationFrame(function(){Nl(u,function(){Da=null})}):(Nl(u),Da=null)):Yi&&(p=Yi(b)),g(p)},a.init=function(){this.rendered||(this.rendered=!0,this.props.context.helmetInstances.add(this),this.emitChange())},a.render=function(){return this.init(),null},r}(j.Component);On.propTypes={context:Mh.isRequired},On.displayName="HelmetDispatcher";var Lh=["children"],Fh=["children"],jn=function(n){function r(){return n.apply(this,arguments)||this}No(r,n);var a=r.prototype;return a.shouldComponentUpdate=function(l){return!Nh(yl(this.props,"helmetData"),yl(l,"helmetData"))},a.mapNestedChildrenToProps=function(l,u){if(!u)return null;switch(l.type){case Le.SCRIPT:case Le.NOSCRIPT:return{innerHTML:u};case Le.STYLE:return{cssText:u};default:throw new Error("<"+l.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")}},a.flattenArrayTypeChildren=function(l){var u,h=l.child,g=l.arrayTypeChildren;return Ft({},g,((u={})[h.type]=[].concat(g[h.type]||[],[Ft({},l.newChildProps,this.mapNestedChildrenToProps(h,l.nestedChildren))]),u))},a.mapObjectTypeChildren=function(l){var u,h,g=l.child,p=l.newProps,b=l.newChildProps,f=l.nestedChildren;switch(g.type){case Le.TITLE:return Ft({},p,((u={})[g.type]=f,u.titleAttributes=Ft({},b),u));case Le.BODY:return Ft({},p,{bodyAttributes:Ft({},b)});case Le.HTML:return Ft({},p,{htmlAttributes:Ft({},b)});default:return Ft({},p,((h={})[g.type]=Ft({},b),h))}},a.mapArrayTypeChildrenToProps=function(l,u){var h=Ft({},u);return Object.keys(l).forEach(function(g){var p;h=Ft({},h,((p={})[g]=l[g],p))}),h},a.warnOnInvalidChildren=function(l,u){return xl(bl.some(function(h){return l.type===h}),typeof l.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":"Only elements types "+bl.join(", ")+" are allowed. Helmet does not support rendering <"+l.type+"> elements. Refer to our API for more information."),xl(!u||typeof u=="string"||Array.isArray(u)&&!u.some(function(h){return typeof h!="string"}),"Helmet expects a string as a child of <"+l.type+">. Did you forget to wrap your children in braces? ( <"+l.type+">{``}</"+l.type+"> ) Refer to our API for more information."),!0},a.mapChildrenToProps=function(l,u){var h=this,g={};return ot.Children.forEach(l,function(p){if(p&&p.props){var b=p.props,f=b.children,w=pl(b,Lh),v=Object.keys(w).reduce(function(A,C){return A[Ih[C]||C]=w[C],A},{}),k=p.type;switch(typeof k=="symbol"?k=k.toString():h.warnOnInvalidChildren(p,f),k){case Le.FRAGMENT:u=h.mapChildrenToProps(f,u);break;case Le.LINK:case Le.META:case Le.NOSCRIPT:case Le.SCRIPT:case Le.STYLE:g=h.flattenArrayTypeChildren({child:p,arrayTypeChildren:g,newChildProps:v,nestedChildren:f});break;default:u=h.mapObjectTypeChildren({child:p,newProps:u,newChildProps:v,nestedChildren:f})}}}),this.mapArrayTypeChildrenToProps(g,u)},a.render=function(){var l=this.props,u=l.children,h=pl(l,Fh),g=Ft({},h),p=h.helmetData;return u&&(g=this.mapChildrenToProps(u,g)),!p||p instanceof Zi||(p=new Zi(p.context,p.instances)),p?ot.createElement(On,Ft({},g,{context:p.value,helmetData:void 0})):ot.createElement(Gc.Consumer,null,function(b){return ot.createElement(On,Ft({},g,{context:b}))})},r}(j.Component);jn.propTypes={base:Ze.object,bodyAttributes:Ze.object,children:Ze.oneOfType([Ze.arrayOf(Ze.node),Ze.node]),defaultTitle:Ze.string,defer:Ze.bool,encodeSpecialCharacters:Ze.bool,htmlAttributes:Ze.object,link:Ze.arrayOf(Ze.object),meta:Ze.arrayOf(Ze.object),noscript:Ze.arrayOf(Ze.object),onChangeClientState:Ze.func,script:Ze.arrayOf(Ze.object),style:Ze.arrayOf(Ze.object),title:Ze.string,titleAttributes:Ze.object,titleTemplate:Ze.string,prioritizeSeoTags:Ze.bool,helmetData:Ze.object},jn.defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1},jn.displayName="Helmet";const Uh={},kl=n=>{let r;const a=new Set,l=(w,v)=>{const k=typeof w=="function"?w(r):w;if(!Object.is(k,r)){const A=r;r=v??(typeof k!="object"||k===null)?k:Object.assign({},r,k),a.forEach(C=>C(r,A))}},u=()=>r,b={setState:l,getState:u,getInitialState:()=>f,subscribe:w=>(a.add(w),()=>a.delete(w)),destroy:()=>{(Uh?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),a.clear()}},f=r=n(l,u,b);return b},Vh=n=>n?kl(n):kl;var Xc={exports:{}},Qc={},Kc={exports:{}},Yc={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fa=j;function $h(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var zh=typeof Object.is=="function"?Object.is:$h,Hh=fa.useState,Wh=fa.useEffect,qh=fa.useLayoutEffect,Gh=fa.useDebugValue;function Xh(n,r){var a=r(),l=Hh({inst:{value:a,getSnapshot:r}}),u=l[0].inst,h=l[1];return qh(function(){u.value=a,u.getSnapshot=r,Ei(u)&&h({inst:u})},[n,a,r]),Wh(function(){return Ei(u)&&h({inst:u}),n(function(){Ei(u)&&h({inst:u})})},[n]),Gh(a),a}function Ei(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!zh(n,a)}catch{return!0}}function Qh(n,r){return r()}var Kh=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Qh:Xh;Yc.useSyncExternalStore=fa.useSyncExternalStore!==void 0?fa.useSyncExternalStore:Kh;Kc.exports=Yc;var Yh=Kc.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wn=j,Zh=Yh;function Jh(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var em=typeof Object.is=="function"?Object.is:Jh,tm=Zh.useSyncExternalStore,rm=Wn.useRef,sm=Wn.useEffect,am=Wn.useMemo,nm=Wn.useDebugValue;Qc.useSyncExternalStoreWithSelector=function(n,r,a,l,u){var h=rm(null);if(h.current===null){var g={hasValue:!1,value:null};h.current=g}else g=h.current;h=am(function(){function b(A){if(!f){if(f=!0,w=A,A=l(A),u!==void 0&&g.hasValue){var C=g.value;if(u(C,A))return v=C}return v=A}if(C=v,em(w,A))return C;var T=l(A);return u!==void 0&&u(C,T)?(w=A,C):(w=A,v=T)}var f=!1,w,v,k=a===void 0?null:a;return[function(){return b(r())},k===null?void 0:function(){return b(k())}]},[r,a,l,u]);var p=tm(n,h[0],h[1]);return sm(function(){g.hasValue=!0,g.value=p},[p]),nm(p),p};Xc.exports=Qc;var im=Xc.exports;const om=ya(im),Zc={},{useDebugValue:lm}=ot,{useSyncExternalStoreWithSelector:cm}=om;let jl=!1;const dm=n=>n;function um(n,r=dm,a){(Zc?"production":void 0)!=="production"&&a&&!jl&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),jl=!0);const l=cm(n.subscribe,n.getState,n.getServerState||n.getInitialState,r,a);return lm(l),l}const Cl=n=>{(Zc?"production":void 0)!=="production"&&typeof n!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const r=typeof n=="function"?Vh(n):n,a=(l,u)=>um(r,l,u);return Object.assign(a,r),a},qn=n=>n?Cl(n):Cl,hm={};function mm(n,r){let a;try{a=n()}catch{return}return{getItem:u=>{var h;const g=b=>b===null?null:JSON.parse(b,void 0),p=(h=a.getItem(u))!=null?h:null;return p instanceof Promise?p.then(g):g(p)},setItem:(u,h)=>a.setItem(u,JSON.stringify(h,void 0)),removeItem:u=>a.removeItem(u)}}const Ha=n=>r=>{try{const a=n(r);return a instanceof Promise?a:{then(l){return Ha(l)(a)},catch(l){return this}}}catch(a){return{then(l){return this},catch(l){return Ha(l)(a)}}}},gm=(n,r)=>(a,l,u)=>{let h={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:I=>I,version:0,merge:(I,R)=>({...R,...I}),...r},g=!1;const p=new Set,b=new Set;let f;try{f=h.getStorage()}catch{}if(!f)return n((...I)=>{console.warn(`[zustand persist middleware] Unable to update item '${h.name}', the given storage is currently unavailable.`),a(...I)},l,u);const w=Ha(h.serialize),v=()=>{const I=h.partialize({...l()});let R;const O=w({state:I,version:h.version}).then(P=>f.setItem(h.name,P)).catch(P=>{R=P});if(R)throw R;return O},k=u.setState;u.setState=(I,R)=>{k(I,R),v()};const A=n((...I)=>{a(...I),v()},l,u);let C;const T=()=>{var I;if(!f)return;g=!1,p.forEach(O=>O(l()));const R=((I=h.onRehydrateStorage)==null?void 0:I.call(h,l()))||void 0;return Ha(f.getItem.bind(f))(h.name).then(O=>{if(O)return h.deserialize(O)}).then(O=>{if(O)if(typeof O.version=="number"&&O.version!==h.version){if(h.migrate)return h.migrate(O.state,O.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return O.state}).then(O=>{var P;return C=h.merge(O,(P=l())!=null?P:A),a(C,!0),v()}).then(()=>{R?.(C,void 0),g=!0,b.forEach(O=>O(C))}).catch(O=>{R?.(void 0,O)})};return u.persist={setOptions:I=>{h={...h,...I},I.getStorage&&(f=I.getStorage())},clearStorage:()=>{f?.removeItem(h.name)},getOptions:()=>h,rehydrate:()=>T(),hasHydrated:()=>g,onHydrate:I=>(p.add(I),()=>{p.delete(I)}),onFinishHydration:I=>(b.add(I),()=>{b.delete(I)})},T(),C||A},fm=(n,r)=>(a,l,u)=>{let h={storage:mm(()=>localStorage),partialize:T=>T,version:0,merge:(T,I)=>({...I,...T}),...r},g=!1;const p=new Set,b=new Set;let f=h.storage;if(!f)return n((...T)=>{console.warn(`[zustand persist middleware] Unable to update item '${h.name}', the given storage is currently unavailable.`),a(...T)},l,u);const w=()=>{const T=h.partialize({...l()});return f.setItem(h.name,{state:T,version:h.version})},v=u.setState;u.setState=(T,I)=>{v(T,I),w()};const k=n((...T)=>{a(...T),w()},l,u);u.getInitialState=()=>k;let A;const C=()=>{var T,I;if(!f)return;g=!1,p.forEach(O=>{var P;return O((P=l())!=null?P:k)});const R=((I=h.onRehydrateStorage)==null?void 0:I.call(h,(T=l())!=null?T:k))||void 0;return Ha(f.getItem.bind(f))(h.name).then(O=>{if(O)if(typeof O.version=="number"&&O.version!==h.version){if(h.migrate)return[!0,h.migrate(O.state,O.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,O.state];return[!1,void 0]}).then(O=>{var P;const[G,Q]=O;if(A=h.merge(Q,(P=l())!=null?P:k),a(A,!0),G)return w()}).then(()=>{R?.(A,void 0),A=l(),g=!0,b.forEach(O=>O(A))}).catch(O=>{R?.(void 0,O)})};return u.persist={setOptions:T=>{h={...h,...T},T.storage&&(f=T.storage)},clearStorage:()=>{f?.removeItem(h.name)},getOptions:()=>h,rehydrate:()=>C(),hasHydrated:()=>g,onHydrate:T=>(p.add(T),()=>{p.delete(T)}),onFinishHydration:T=>(b.add(T),()=>{b.delete(T)})},h.skipHydration||C(),A||k},xm=(n,r)=>"getStorage"in r||"serialize"in r||"deserialize"in r?((hm?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),gm(n,r)):fm(n,r),Gn=xm;function Jc(n,r){return function(){return n.apply(r,arguments)}}const{toString:pm}=Object.prototype,{getPrototypeOf:ko}=Object,{iterator:Xn,toStringTag:ed}=Symbol,Qn=(n=>r=>{const a=pm.call(r);return n[a]||(n[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),Wr=n=>(n=n.toLowerCase(),r=>Qn(r)===n),Kn=n=>r=>typeof r===n,{isArray:wa}=Array,xa=Kn("undefined");function Qa(n){return n!==null&&!xa(n)&&n.constructor!==null&&!xa(n.constructor)&&wr(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const td=Wr("ArrayBuffer");function bm(n){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(n):r=n&&n.buffer&&td(n.buffer),r}const ym=Kn("string"),wr=Kn("function"),rd=Kn("number"),Ka=n=>n!==null&&typeof n=="object",wm=n=>n===!0||n===!1,Cn=n=>{if(Qn(n)!=="object")return!1;const r=ko(n);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(ed in n)&&!(Xn in n)},vm=n=>{if(!Ka(n)||Qa(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},Nm=Wr("Date"),km=Wr("File"),jm=Wr("Blob"),Cm=Wr("FileList"),Sm=n=>Ka(n)&&wr(n.pipe),Em=n=>{let r;return n&&(typeof FormData=="function"&&n instanceof FormData||wr(n.append)&&((r=Qn(n))==="formdata"||r==="object"&&wr(n.toString)&&n.toString()==="[object FormData]"))},Am=Wr("URLSearchParams"),[Tm,Im,Rm,_m]=["ReadableStream","Request","Response","Headers"].map(Wr),Om=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ya(n,r,{allOwnKeys:a=!1}={}){if(n===null||typeof n>"u")return;let l,u;if(typeof n!="object"&&(n=[n]),wa(n))for(l=0,u=n.length;l<u;l++)r.call(null,n[l],l,n);else{if(Qa(n))return;const h=a?Object.getOwnPropertyNames(n):Object.keys(n),g=h.length;let p;for(l=0;l<g;l++)p=h[l],r.call(null,n[p],p,n)}}function sd(n,r){if(Qa(n))return null;r=r.toLowerCase();const a=Object.keys(n);let l=a.length,u;for(;l-- >0;)if(u=a[l],r===u.toLowerCase())return u;return null}const Os=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:globalThis,ad=n=>!xa(n)&&n!==Os;function Ji(){const{caseless:n,skipUndefined:r}=ad(this)&&this||{},a={},l=(u,h)=>{const g=n&&sd(a,h)||h;Cn(a[g])&&Cn(u)?a[g]=Ji(a[g],u):Cn(u)?a[g]=Ji({},u):wa(u)?a[g]=u.slice():(!r||!xa(u))&&(a[g]=u)};for(let u=0,h=arguments.length;u<h;u++)arguments[u]&&Ya(arguments[u],l);return a}const Pm=(n,r,a,{allOwnKeys:l}={})=>(Ya(r,(u,h)=>{a&&wr(u)?n[h]=Jc(u,a):n[h]=u},{allOwnKeys:l}),n),Dm=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),Mm=(n,r,a,l)=>{n.prototype=Object.create(r.prototype,l),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:r.prototype}),a&&Object.assign(n.prototype,a)},Bm=(n,r,a,l)=>{let u,h,g;const p={};if(r=r||{},n==null)return r;do{for(u=Object.getOwnPropertyNames(n),h=u.length;h-- >0;)g=u[h],(!l||l(g,n,r))&&!p[g]&&(r[g]=n[g],p[g]=!0);n=a!==!1&&ko(n)}while(n&&(!a||a(n,r))&&n!==Object.prototype);return r},Lm=(n,r,a)=>{n=String(n),(a===void 0||a>n.length)&&(a=n.length),a-=r.length;const l=n.indexOf(r,a);return l!==-1&&l===a},Fm=n=>{if(!n)return null;if(wa(n))return n;let r=n.length;if(!rd(r))return null;const a=new Array(r);for(;r-- >0;)a[r]=n[r];return a},Um=(n=>r=>n&&r instanceof n)(typeof Uint8Array<"u"&&ko(Uint8Array)),Vm=(n,r)=>{const l=(n&&n[Xn]).call(n);let u;for(;(u=l.next())&&!u.done;){const h=u.value;r.call(n,h[0],h[1])}},$m=(n,r)=>{let a;const l=[];for(;(a=n.exec(r))!==null;)l.push(a);return l},zm=Wr("HTMLFormElement"),Hm=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,l,u){return l.toUpperCase()+u}),Sl=(({hasOwnProperty:n})=>(r,a)=>n.call(r,a))(Object.prototype),Wm=Wr("RegExp"),nd=(n,r)=>{const a=Object.getOwnPropertyDescriptors(n),l={};Ya(a,(u,h)=>{let g;(g=r(u,h,n))!==!1&&(l[h]=g||u)}),Object.defineProperties(n,l)},qm=n=>{nd(n,(r,a)=>{if(wr(n)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const l=n[a];if(wr(l)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},Gm=(n,r)=>{const a={},l=u=>{u.forEach(h=>{a[h]=!0})};return wa(n)?l(n):l(String(n).split(r)),a},Xm=()=>{},Qm=(n,r)=>n!=null&&Number.isFinite(n=+n)?n:r;function Km(n){return!!(n&&wr(n.append)&&n[ed]==="FormData"&&n[Xn])}const Ym=n=>{const r=new Array(10),a=(l,u)=>{if(Ka(l)){if(r.indexOf(l)>=0)return;if(Qa(l))return l;if(!("toJSON"in l)){r[u]=l;const h=wa(l)?[]:{};return Ya(l,(g,p)=>{const b=a(g,u+1);!xa(b)&&(h[p]=b)}),r[u]=void 0,h}}return l};return a(n,0)},Zm=Wr("AsyncFunction"),Jm=n=>n&&(Ka(n)||wr(n))&&wr(n.then)&&wr(n.catch),id=((n,r)=>n?setImmediate:r?((a,l)=>(Os.addEventListener("message",({source:u,data:h})=>{u===Os&&h===a&&l.length&&l.shift()()},!1),u=>{l.push(u),Os.postMessage(a,"*")}))(`axios@${Math.random()}`,[]):a=>setTimeout(a))(typeof setImmediate=="function",wr(Os.postMessage)),eg=typeof queueMicrotask<"u"?queueMicrotask.bind(Os):typeof process<"u"&&process.nextTick||id,tg=n=>n!=null&&wr(n[Xn]),ee={isArray:wa,isArrayBuffer:td,isBuffer:Qa,isFormData:Em,isArrayBufferView:bm,isString:ym,isNumber:rd,isBoolean:wm,isObject:Ka,isPlainObject:Cn,isEmptyObject:vm,isReadableStream:Tm,isRequest:Im,isResponse:Rm,isHeaders:_m,isUndefined:xa,isDate:Nm,isFile:km,isBlob:jm,isRegExp:Wm,isFunction:wr,isStream:Sm,isURLSearchParams:Am,isTypedArray:Um,isFileList:Cm,forEach:Ya,merge:Ji,extend:Pm,trim:Om,stripBOM:Dm,inherits:Mm,toFlatObject:Bm,kindOf:Qn,kindOfTest:Wr,endsWith:Lm,toArray:Fm,forEachEntry:Vm,matchAll:$m,isHTMLForm:zm,hasOwnProperty:Sl,hasOwnProp:Sl,reduceDescriptors:nd,freezeMethods:qm,toObjectSet:Gm,toCamelCase:Hm,noop:Xm,toFiniteNumber:Qm,findKey:sd,global:Os,isContextDefined:ad,isSpecCompliantForm:Km,toJSONObject:Ym,isAsyncFn:Zm,isThenable:Jm,setImmediate:id,asap:eg,isIterable:tg};function $e(n,r,a,l,u){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",r&&(this.code=r),a&&(this.config=a),l&&(this.request=l),u&&(this.response=u,this.status=u.status?u.status:null)}ee.inherits($e,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ee.toJSONObject(this.config),code:this.code,status:this.status}}});const od=$e.prototype,ld={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{ld[n]={value:n}});Object.defineProperties($e,ld);Object.defineProperty(od,"isAxiosError",{value:!0});$e.from=(n,r,a,l,u,h)=>{const g=Object.create(od);ee.toFlatObject(n,g,function(w){return w!==Error.prototype},f=>f!=="isAxiosError");const p=n&&n.message?n.message:"Error",b=r==null&&n?n.code:r;return $e.call(g,p,b,a,l,u),n&&g.cause==null&&Object.defineProperty(g,"cause",{value:n,configurable:!0}),g.name=n&&n.name||"Error",h&&Object.assign(g,h),g};const rg=null;function eo(n){return ee.isPlainObject(n)||ee.isArray(n)}function cd(n){return ee.endsWith(n,"[]")?n.slice(0,-2):n}function El(n,r,a){return n?n.concat(r).map(function(u,h){return u=cd(u),!a&&h?"["+u+"]":u}).join(a?".":""):r}function sg(n){return ee.isArray(n)&&!n.some(eo)}const ag=ee.toFlatObject(ee,{},null,function(r){return/^is[A-Z]/.test(r)});function Yn(n,r,a){if(!ee.isObject(n))throw new TypeError("target must be an object");r=r||new FormData,a=ee.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(T,I){return!ee.isUndefined(I[T])});const l=a.metaTokens,u=a.visitor||w,h=a.dots,g=a.indexes,b=(a.Blob||typeof Blob<"u"&&Blob)&&ee.isSpecCompliantForm(r);if(!ee.isFunction(u))throw new TypeError("visitor must be a function");function f(C){if(C===null)return"";if(ee.isDate(C))return C.toISOString();if(ee.isBoolean(C))return C.toString();if(!b&&ee.isBlob(C))throw new $e("Blob is not supported. Use a Buffer instead.");return ee.isArrayBuffer(C)||ee.isTypedArray(C)?b&&typeof Blob=="function"?new Blob([C]):Buffer.from(C):C}function w(C,T,I){let R=C;if(C&&!I&&typeof C=="object"){if(ee.endsWith(T,"{}"))T=l?T:T.slice(0,-2),C=JSON.stringify(C);else if(ee.isArray(C)&&sg(C)||(ee.isFileList(C)||ee.endsWith(T,"[]"))&&(R=ee.toArray(C)))return T=cd(T),R.forEach(function(P,G){!(ee.isUndefined(P)||P===null)&&r.append(g===!0?El([T],G,h):g===null?T:T+"[]",f(P))}),!1}return eo(C)?!0:(r.append(El(I,T,h),f(C)),!1)}const v=[],k=Object.assign(ag,{defaultVisitor:w,convertValue:f,isVisitable:eo});function A(C,T){if(!ee.isUndefined(C)){if(v.indexOf(C)!==-1)throw Error("Circular reference detected in "+T.join("."));v.push(C),ee.forEach(C,function(R,O){(!(ee.isUndefined(R)||R===null)&&u.call(r,R,ee.isString(O)?O.trim():O,T,k))===!0&&A(R,T?T.concat(O):[O])}),v.pop()}}if(!ee.isObject(n))throw new TypeError("data must be an object");return A(n),r}function Al(n){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(l){return r[l]})}function jo(n,r){this._pairs=[],n&&Yn(n,this,r)}const dd=jo.prototype;dd.append=function(r,a){this._pairs.push([r,a])};dd.toString=function(r){const a=r?function(l){return r.call(this,l,Al)}:Al;return this._pairs.map(function(u){return a(u[0])+"="+a(u[1])},"").join("&")};function ng(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function ud(n,r,a){if(!r)return n;const l=a&&a.encode||ng;ee.isFunction(a)&&(a={serialize:a});const u=a&&a.serialize;let h;if(u?h=u(r,a):h=ee.isURLSearchParams(r)?r.toString():new jo(r,a).toString(l),h){const g=n.indexOf("#");g!==-1&&(n=n.slice(0,g)),n+=(n.indexOf("?")===-1?"?":"&")+h}return n}class Tl{constructor(){this.handlers=[]}use(r,a,l){return this.handlers.push({fulfilled:r,rejected:a,synchronous:l?l.synchronous:!1,runWhen:l?l.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){ee.forEach(this.handlers,function(l){l!==null&&r(l)})}}const hd={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ig=typeof URLSearchParams<"u"?URLSearchParams:jo,og=typeof FormData<"u"?FormData:null,lg=typeof Blob<"u"?Blob:null,cg={isBrowser:!0,classes:{URLSearchParams:ig,FormData:og,Blob:lg},protocols:["http","https","file","blob","url","data"]},Co=typeof window<"u"&&typeof document<"u",to=typeof navigator=="object"&&navigator||void 0,dg=Co&&(!to||["ReactNative","NativeScript","NS"].indexOf(to.product)<0),ug=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",hg=Co&&window.location.href||"http://localhost",mg=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Co,hasStandardBrowserEnv:dg,hasStandardBrowserWebWorkerEnv:ug,navigator:to,origin:hg},Symbol.toStringTag,{value:"Module"})),ir={...mg,...cg};function gg(n,r){return Yn(n,new ir.classes.URLSearchParams,{visitor:function(a,l,u,h){return ir.isNode&&ee.isBuffer(a)?(this.append(l,a.toString("base64")),!1):h.defaultVisitor.apply(this,arguments)},...r})}function fg(n){return ee.matchAll(/\w+|\[(\w*)]/g,n).map(r=>r[0]==="[]"?"":r[1]||r[0])}function xg(n){const r={},a=Object.keys(n);let l;const u=a.length;let h;for(l=0;l<u;l++)h=a[l],r[h]=n[h];return r}function md(n){function r(a,l,u,h){let g=a[h++];if(g==="__proto__")return!0;const p=Number.isFinite(+g),b=h>=a.length;return g=!g&&ee.isArray(u)?u.length:g,b?(ee.hasOwnProp(u,g)?u[g]=[u[g],l]:u[g]=l,!p):((!u[g]||!ee.isObject(u[g]))&&(u[g]=[]),r(a,l,u[g],h)&&ee.isArray(u[g])&&(u[g]=xg(u[g])),!p)}if(ee.isFormData(n)&&ee.isFunction(n.entries)){const a={};return ee.forEachEntry(n,(l,u)=>{r(fg(l),u,a,0)}),a}return null}function pg(n,r,a){if(ee.isString(n))try{return(r||JSON.parse)(n),ee.trim(n)}catch(l){if(l.name!=="SyntaxError")throw l}return(a||JSON.stringify)(n)}const Za={transitional:hd,adapter:["xhr","http","fetch"],transformRequest:[function(r,a){const l=a.getContentType()||"",u=l.indexOf("application/json")>-1,h=ee.isObject(r);if(h&&ee.isHTMLForm(r)&&(r=new FormData(r)),ee.isFormData(r))return u?JSON.stringify(md(r)):r;if(ee.isArrayBuffer(r)||ee.isBuffer(r)||ee.isStream(r)||ee.isFile(r)||ee.isBlob(r)||ee.isReadableStream(r))return r;if(ee.isArrayBufferView(r))return r.buffer;if(ee.isURLSearchParams(r))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let p;if(h){if(l.indexOf("application/x-www-form-urlencoded")>-1)return gg(r,this.formSerializer).toString();if((p=ee.isFileList(r))||l.indexOf("multipart/form-data")>-1){const b=this.env&&this.env.FormData;return Yn(p?{"files[]":r}:r,b&&new b,this.formSerializer)}}return h||u?(a.setContentType("application/json",!1),pg(r)):r}],transformResponse:[function(r){const a=this.transitional||Za.transitional,l=a&&a.forcedJSONParsing,u=this.responseType==="json";if(ee.isResponse(r)||ee.isReadableStream(r))return r;if(r&&ee.isString(r)&&(l&&!this.responseType||u)){const g=!(a&&a.silentJSONParsing)&&u;try{return JSON.parse(r,this.parseReviver)}catch(p){if(g)throw p.name==="SyntaxError"?$e.from(p,$e.ERR_BAD_RESPONSE,this,null,this.response):p}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ir.classes.FormData,Blob:ir.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ee.forEach(["delete","get","head","post","put","patch"],n=>{Za.headers[n]={}});const bg=ee.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),yg=n=>{const r={};let a,l,u;return n&&n.split(`
`).forEach(function(g){u=g.indexOf(":"),a=g.substring(0,u).trim().toLowerCase(),l=g.substring(u+1).trim(),!(!a||r[a]&&bg[a])&&(a==="set-cookie"?r[a]?r[a].push(l):r[a]=[l]:r[a]=r[a]?r[a]+", "+l:l)}),r},Il=Symbol("internals");function Ma(n){return n&&String(n).trim().toLowerCase()}function Sn(n){return n===!1||n==null?n:ee.isArray(n)?n.map(Sn):String(n)}function wg(n){const r=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let l;for(;l=a.exec(n);)r[l[1]]=l[2];return r}const vg=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Ai(n,r,a,l,u){if(ee.isFunction(l))return l.call(this,r,a);if(u&&(r=a),!!ee.isString(r)){if(ee.isString(l))return r.indexOf(l)!==-1;if(ee.isRegExp(l))return l.test(r)}}function Ng(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,a,l)=>a.toUpperCase()+l)}function kg(n,r){const a=ee.toCamelCase(" "+r);["get","set","has"].forEach(l=>{Object.defineProperty(n,l+a,{value:function(u,h,g){return this[l].call(this,r,u,h,g)},configurable:!0})})}let vr=class{constructor(r){r&&this.set(r)}set(r,a,l){const u=this;function h(p,b,f){const w=Ma(b);if(!w)throw new Error("header name must be a non-empty string");const v=ee.findKey(u,w);(!v||u[v]===void 0||f===!0||f===void 0&&u[v]!==!1)&&(u[v||b]=Sn(p))}const g=(p,b)=>ee.forEach(p,(f,w)=>h(f,w,b));if(ee.isPlainObject(r)||r instanceof this.constructor)g(r,a);else if(ee.isString(r)&&(r=r.trim())&&!vg(r))g(yg(r),a);else if(ee.isObject(r)&&ee.isIterable(r)){let p={},b,f;for(const w of r){if(!ee.isArray(w))throw TypeError("Object iterator must return a key-value pair");p[f=w[0]]=(b=p[f])?ee.isArray(b)?[...b,w[1]]:[b,w[1]]:w[1]}g(p,a)}else r!=null&&h(a,r,l);return this}get(r,a){if(r=Ma(r),r){const l=ee.findKey(this,r);if(l){const u=this[l];if(!a)return u;if(a===!0)return wg(u);if(ee.isFunction(a))return a.call(this,u,l);if(ee.isRegExp(a))return a.exec(u);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,a){if(r=Ma(r),r){const l=ee.findKey(this,r);return!!(l&&this[l]!==void 0&&(!a||Ai(this,this[l],l,a)))}return!1}delete(r,a){const l=this;let u=!1;function h(g){if(g=Ma(g),g){const p=ee.findKey(l,g);p&&(!a||Ai(l,l[p],p,a))&&(delete l[p],u=!0)}}return ee.isArray(r)?r.forEach(h):h(r),u}clear(r){const a=Object.keys(this);let l=a.length,u=!1;for(;l--;){const h=a[l];(!r||Ai(this,this[h],h,r,!0))&&(delete this[h],u=!0)}return u}normalize(r){const a=this,l={};return ee.forEach(this,(u,h)=>{const g=ee.findKey(l,h);if(g){a[g]=Sn(u),delete a[h];return}const p=r?Ng(h):String(h).trim();p!==h&&delete a[h],a[p]=Sn(u),l[p]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const a=Object.create(null);return ee.forEach(this,(l,u)=>{l!=null&&l!==!1&&(a[u]=r&&ee.isArray(l)?l.join(", "):l)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,a])=>r+": "+a).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...a){const l=new this(r);return a.forEach(u=>l.set(u)),l}static accessor(r){const l=(this[Il]=this[Il]={accessors:{}}).accessors,u=this.prototype;function h(g){const p=Ma(g);l[p]||(kg(u,g),l[p]=!0)}return ee.isArray(r)?r.forEach(h):h(r),this}};vr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ee.reduceDescriptors(vr.prototype,({value:n},r)=>{let a=r[0].toUpperCase()+r.slice(1);return{get:()=>n,set(l){this[a]=l}}});ee.freezeMethods(vr);function Ti(n,r){const a=this||Za,l=r||a,u=vr.from(l.headers);let h=l.data;return ee.forEach(n,function(p){h=p.call(a,h,u.normalize(),r?r.status:void 0)}),u.normalize(),h}function gd(n){return!!(n&&n.__CANCEL__)}function va(n,r,a){$e.call(this,n??"canceled",$e.ERR_CANCELED,r,a),this.name="CanceledError"}ee.inherits(va,$e,{__CANCEL__:!0});function fd(n,r,a){const l=a.config.validateStatus;!a.status||!l||l(a.status)?n(a):r(new $e("Request failed with status code "+a.status,[$e.ERR_BAD_REQUEST,$e.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}function jg(n){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return r&&r[1]||""}function Cg(n,r){n=n||10;const a=new Array(n),l=new Array(n);let u=0,h=0,g;return r=r!==void 0?r:1e3,function(b){const f=Date.now(),w=l[h];g||(g=f),a[u]=b,l[u]=f;let v=h,k=0;for(;v!==u;)k+=a[v++],v=v%n;if(u=(u+1)%n,u===h&&(h=(h+1)%n),f-g<r)return;const A=w&&f-w;return A?Math.round(k*1e3/A):void 0}}function Sg(n,r){let a=0,l=1e3/r,u,h;const g=(f,w=Date.now())=>{a=w,u=null,h&&(clearTimeout(h),h=null),n(...f)};return[(...f)=>{const w=Date.now(),v=w-a;v>=l?g(f,w):(u=f,h||(h=setTimeout(()=>{h=null,g(u)},l-v)))},()=>u&&g(u)]}const Pn=(n,r,a=3)=>{let l=0;const u=Cg(50,250);return Sg(h=>{const g=h.loaded,p=h.lengthComputable?h.total:void 0,b=g-l,f=u(b),w=g<=p;l=g;const v={loaded:g,total:p,progress:p?g/p:void 0,bytes:b,rate:f||void 0,estimated:f&&p&&w?(p-g)/f:void 0,event:h,lengthComputable:p!=null,[r?"download":"upload"]:!0};n(v)},a)},Rl=(n,r)=>{const a=n!=null;return[l=>r[0]({lengthComputable:a,total:n,loaded:l}),r[1]]},_l=n=>(...r)=>ee.asap(()=>n(...r)),Eg=ir.hasStandardBrowserEnv?((n,r)=>a=>(a=new URL(a,ir.origin),n.protocol===a.protocol&&n.host===a.host&&(r||n.port===a.port)))(new URL(ir.origin),ir.navigator&&/(msie|trident)/i.test(ir.navigator.userAgent)):()=>!0,Ag=ir.hasStandardBrowserEnv?{write(n,r,a,l,u,h,g){if(typeof document>"u")return;const p=[`${n}=${encodeURIComponent(r)}`];ee.isNumber(a)&&p.push(`expires=${new Date(a).toUTCString()}`),ee.isString(l)&&p.push(`path=${l}`),ee.isString(u)&&p.push(`domain=${u}`),h===!0&&p.push("secure"),ee.isString(g)&&p.push(`SameSite=${g}`),document.cookie=p.join("; ")},read(n){if(typeof document>"u")return null;const r=document.cookie.match(new RegExp("(?:^|; )"+n+"=([^;]*)"));return r?decodeURIComponent(r[1]):null},remove(n){this.write(n,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Tg(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function Ig(n,r){return r?n.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):n}function xd(n,r,a){let l=!Tg(r);return n&&(l||a==!1)?Ig(n,r):r}const Ol=n=>n instanceof vr?{...n}:n;function Ls(n,r){r=r||{};const a={};function l(f,w,v,k){return ee.isPlainObject(f)&&ee.isPlainObject(w)?ee.merge.call({caseless:k},f,w):ee.isPlainObject(w)?ee.merge({},w):ee.isArray(w)?w.slice():w}function u(f,w,v,k){if(ee.isUndefined(w)){if(!ee.isUndefined(f))return l(void 0,f,v,k)}else return l(f,w,v,k)}function h(f,w){if(!ee.isUndefined(w))return l(void 0,w)}function g(f,w){if(ee.isUndefined(w)){if(!ee.isUndefined(f))return l(void 0,f)}else return l(void 0,w)}function p(f,w,v){if(v in r)return l(f,w);if(v in n)return l(void 0,f)}const b={url:h,method:h,data:h,baseURL:g,transformRequest:g,transformResponse:g,paramsSerializer:g,timeout:g,timeoutMessage:g,withCredentials:g,withXSRFToken:g,adapter:g,responseType:g,xsrfCookieName:g,xsrfHeaderName:g,onUploadProgress:g,onDownloadProgress:g,decompress:g,maxContentLength:g,maxBodyLength:g,beforeRedirect:g,transport:g,httpAgent:g,httpsAgent:g,cancelToken:g,socketPath:g,responseEncoding:g,validateStatus:p,headers:(f,w,v)=>u(Ol(f),Ol(w),v,!0)};return ee.forEach(Object.keys({...n,...r}),function(w){const v=b[w]||u,k=v(n[w],r[w],w);ee.isUndefined(k)&&v!==p||(a[w]=k)}),a}const pd=n=>{const r=Ls({},n);let{data:a,withXSRFToken:l,xsrfHeaderName:u,xsrfCookieName:h,headers:g,auth:p}=r;if(r.headers=g=vr.from(g),r.url=ud(xd(r.baseURL,r.url,r.allowAbsoluteUrls),n.params,n.paramsSerializer),p&&g.set("Authorization","Basic "+btoa((p.username||"")+":"+(p.password?unescape(encodeURIComponent(p.password)):""))),ee.isFormData(a)){if(ir.hasStandardBrowserEnv||ir.hasStandardBrowserWebWorkerEnv)g.setContentType(void 0);else if(ee.isFunction(a.getHeaders)){const b=a.getHeaders(),f=["content-type","content-length"];Object.entries(b).forEach(([w,v])=>{f.includes(w.toLowerCase())&&g.set(w,v)})}}if(ir.hasStandardBrowserEnv&&(l&&ee.isFunction(l)&&(l=l(r)),l||l!==!1&&Eg(r.url))){const b=u&&h&&Ag.read(h);b&&g.set(u,b)}return r},Rg=typeof XMLHttpRequest<"u",_g=Rg&&function(n){return new Promise(function(a,l){const u=pd(n);let h=u.data;const g=vr.from(u.headers).normalize();let{responseType:p,onUploadProgress:b,onDownloadProgress:f}=u,w,v,k,A,C;function T(){A&&A(),C&&C(),u.cancelToken&&u.cancelToken.unsubscribe(w),u.signal&&u.signal.removeEventListener("abort",w)}let I=new XMLHttpRequest;I.open(u.method.toUpperCase(),u.url,!0),I.timeout=u.timeout;function R(){if(!I)return;const P=vr.from("getAllResponseHeaders"in I&&I.getAllResponseHeaders()),Q={data:!p||p==="text"||p==="json"?I.responseText:I.response,status:I.status,statusText:I.statusText,headers:P,config:n,request:I};fd(function(B){a(B),T()},function(B){l(B),T()},Q),I=null}"onloadend"in I?I.onloadend=R:I.onreadystatechange=function(){!I||I.readyState!==4||I.status===0&&!(I.responseURL&&I.responseURL.indexOf("file:")===0)||setTimeout(R)},I.onabort=function(){I&&(l(new $e("Request aborted",$e.ECONNABORTED,n,I)),I=null)},I.onerror=function(G){const Q=G&&G.message?G.message:"Network Error",D=new $e(Q,$e.ERR_NETWORK,n,I);D.event=G||null,l(D),I=null},I.ontimeout=function(){let G=u.timeout?"timeout of "+u.timeout+"ms exceeded":"timeout exceeded";const Q=u.transitional||hd;u.timeoutErrorMessage&&(G=u.timeoutErrorMessage),l(new $e(G,Q.clarifyTimeoutError?$e.ETIMEDOUT:$e.ECONNABORTED,n,I)),I=null},h===void 0&&g.setContentType(null),"setRequestHeader"in I&&ee.forEach(g.toJSON(),function(G,Q){I.setRequestHeader(Q,G)}),ee.isUndefined(u.withCredentials)||(I.withCredentials=!!u.withCredentials),p&&p!=="json"&&(I.responseType=u.responseType),f&&([k,C]=Pn(f,!0),I.addEventListener("progress",k)),b&&I.upload&&([v,A]=Pn(b),I.upload.addEventListener("progress",v),I.upload.addEventListener("loadend",A)),(u.cancelToken||u.signal)&&(w=P=>{I&&(l(!P||P.type?new va(null,n,I):P),I.abort(),I=null)},u.cancelToken&&u.cancelToken.subscribe(w),u.signal&&(u.signal.aborted?w():u.signal.addEventListener("abort",w)));const O=jg(u.url);if(O&&ir.protocols.indexOf(O)===-1){l(new $e("Unsupported protocol "+O+":",$e.ERR_BAD_REQUEST,n));return}I.send(h||null)})},Og=(n,r)=>{const{length:a}=n=n?n.filter(Boolean):[];if(r||a){let l=new AbortController,u;const h=function(f){if(!u){u=!0,p();const w=f instanceof Error?f:this.reason;l.abort(w instanceof $e?w:new va(w instanceof Error?w.message:w))}};let g=r&&setTimeout(()=>{g=null,h(new $e(`timeout ${r} of ms exceeded`,$e.ETIMEDOUT))},r);const p=()=>{n&&(g&&clearTimeout(g),g=null,n.forEach(f=>{f.unsubscribe?f.unsubscribe(h):f.removeEventListener("abort",h)}),n=null)};n.forEach(f=>f.addEventListener("abort",h));const{signal:b}=l;return b.unsubscribe=()=>ee.asap(p),b}},Pg=function*(n,r){let a=n.byteLength;if(a<r){yield n;return}let l=0,u;for(;l<a;)u=l+r,yield n.slice(l,u),l=u},Dg=async function*(n,r){for await(const a of Mg(n))yield*Pg(a,r)},Mg=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const r=n.getReader();try{for(;;){const{done:a,value:l}=await r.read();if(a)break;yield l}}finally{await r.cancel()}},Pl=(n,r,a,l)=>{const u=Dg(n,r);let h=0,g,p=b=>{g||(g=!0,l&&l(b))};return new ReadableStream({async pull(b){try{const{done:f,value:w}=await u.next();if(f){p(),b.close();return}let v=w.byteLength;if(a){let k=h+=v;a(k)}b.enqueue(new Uint8Array(w))}catch(f){throw p(f),f}},cancel(b){return p(b),u.return()}},{highWaterMark:2})},Dl=64*1024,{isFunction:fn}=ee,Bg=(({Request:n,Response:r})=>({Request:n,Response:r}))(ee.global),{ReadableStream:Ml,TextEncoder:Bl}=ee.global,Ll=(n,...r)=>{try{return!!n(...r)}catch{return!1}},Lg=n=>{n=ee.merge.call({skipUndefined:!0},Bg,n);const{fetch:r,Request:a,Response:l}=n,u=r?fn(r):typeof fetch=="function",h=fn(a),g=fn(l);if(!u)return!1;const p=u&&fn(Ml),b=u&&(typeof Bl=="function"?(C=>T=>C.encode(T))(new Bl):async C=>new Uint8Array(await new a(C).arrayBuffer())),f=h&&p&&Ll(()=>{let C=!1;const T=new a(ir.origin,{body:new Ml,method:"POST",get duplex(){return C=!0,"half"}}).headers.has("Content-Type");return C&&!T}),w=g&&p&&Ll(()=>ee.isReadableStream(new l("").body)),v={stream:w&&(C=>C.body)};u&&["text","arrayBuffer","blob","formData","stream"].forEach(C=>{!v[C]&&(v[C]=(T,I)=>{let R=T&&T[C];if(R)return R.call(T);throw new $e(`Response type '${C}' is not supported`,$e.ERR_NOT_SUPPORT,I)})});const k=async C=>{if(C==null)return 0;if(ee.isBlob(C))return C.size;if(ee.isSpecCompliantForm(C))return(await new a(ir.origin,{method:"POST",body:C}).arrayBuffer()).byteLength;if(ee.isArrayBufferView(C)||ee.isArrayBuffer(C))return C.byteLength;if(ee.isURLSearchParams(C)&&(C=C+""),ee.isString(C))return(await b(C)).byteLength},A=async(C,T)=>{const I=ee.toFiniteNumber(C.getContentLength());return I??k(T)};return async C=>{let{url:T,method:I,data:R,signal:O,cancelToken:P,timeout:G,onDownloadProgress:Q,onUploadProgress:D,responseType:B,headers:$,withCredentials:z="same-origin",fetchOptions:K}=pd(C),re=r||fetch;B=B?(B+"").toLowerCase():"text";let F=Og([O,P&&P.toAbortSignal()],G),X=null;const ae=F&&F.unsubscribe&&(()=>{F.unsubscribe()});let H;try{if(D&&f&&I!=="get"&&I!=="head"&&(H=await A($,R))!==0){let le=new a(T,{method:"POST",body:R,duplex:"half"}),de;if(ee.isFormData(R)&&(de=le.headers.get("content-type"))&&$.setContentType(de),le.body){const[ge,Ce]=Rl(H,Pn(_l(D)));R=Pl(le.body,Dl,ge,Ce)}}ee.isString(z)||(z=z?"include":"omit");const ve=h&&"credentials"in a.prototype,me={...K,signal:F,method:I.toUpperCase(),headers:$.normalize().toJSON(),body:R,duplex:"half",credentials:ve?z:void 0};X=h&&new a(T,me);let ie=await(h?re(X,K):re(T,me));const je=w&&(B==="stream"||B==="response");if(w&&(Q||je&&ae)){const le={};["status","statusText","headers"].forEach(Ie=>{le[Ie]=ie[Ie]});const de=ee.toFiniteNumber(ie.headers.get("content-length")),[ge,Ce]=Q&&Rl(de,Pn(_l(Q),!0))||[];ie=new l(Pl(ie.body,Dl,ge,()=>{Ce&&Ce(),ae&&ae()}),le)}B=B||"text";let se=await v[ee.findKey(v,B)||"text"](ie,C);return!je&&ae&&ae(),await new Promise((le,de)=>{fd(le,de,{data:se,headers:vr.from(ie.headers),status:ie.status,statusText:ie.statusText,config:C,request:X})})}catch(ve){throw ae&&ae(),ve&&ve.name==="TypeError"&&/Load failed|fetch/i.test(ve.message)?Object.assign(new $e("Network Error",$e.ERR_NETWORK,C,X),{cause:ve.cause||ve}):$e.from(ve,ve&&ve.code,C,X)}}},Fg=new Map,bd=n=>{let r=n&&n.env||{};const{fetch:a,Request:l,Response:u}=r,h=[l,u,a];let g=h.length,p=g,b,f,w=Fg;for(;p--;)b=h[p],f=w.get(b),f===void 0&&w.set(b,f=p?new Map:Lg(r)),w=f;return f};bd();const So={http:rg,xhr:_g,fetch:{get:bd}};ee.forEach(So,(n,r)=>{if(n){try{Object.defineProperty(n,"name",{value:r})}catch{}Object.defineProperty(n,"adapterName",{value:r})}});const Fl=n=>`- ${n}`,Ug=n=>ee.isFunction(n)||n===null||n===!1;function Vg(n,r){n=ee.isArray(n)?n:[n];const{length:a}=n;let l,u;const h={};for(let g=0;g<a;g++){l=n[g];let p;if(u=l,!Ug(l)&&(u=So[(p=String(l)).toLowerCase()],u===void 0))throw new $e(`Unknown adapter '${p}'`);if(u&&(ee.isFunction(u)||(u=u.get(r))))break;h[p||"#"+g]=u}if(!u){const g=Object.entries(h).map(([b,f])=>`adapter ${b} `+(f===!1?"is not supported by the environment":"is not available in the build"));let p=a?g.length>1?`since :
`+g.map(Fl).join(`
`):" "+Fl(g[0]):"as no adapter specified";throw new $e("There is no suitable adapter to dispatch the request "+p,"ERR_NOT_SUPPORT")}return u}const yd={getAdapter:Vg,adapters:So};function Ii(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new va(null,n)}function Ul(n){return Ii(n),n.headers=vr.from(n.headers),n.data=Ti.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),yd.getAdapter(n.adapter||Za.adapter,n)(n).then(function(l){return Ii(n),l.data=Ti.call(n,n.transformResponse,l),l.headers=vr.from(l.headers),l},function(l){return gd(l)||(Ii(n),l&&l.response&&(l.response.data=Ti.call(n,n.transformResponse,l.response),l.response.headers=vr.from(l.response.headers))),Promise.reject(l)})}const wd="1.13.2",Zn={};["object","boolean","number","function","string","symbol"].forEach((n,r)=>{Zn[n]=function(l){return typeof l===n||"a"+(r<1?"n ":" ")+n}});const Vl={};Zn.transitional=function(r,a,l){function u(h,g){return"[Axios v"+wd+"] Transitional option '"+h+"'"+g+(l?". "+l:"")}return(h,g,p)=>{if(r===!1)throw new $e(u(g," has been removed"+(a?" in "+a:"")),$e.ERR_DEPRECATED);return a&&!Vl[g]&&(Vl[g]=!0,console.warn(u(g," has been deprecated since v"+a+" and will be removed in the near future"))),r?r(h,g,p):!0}};Zn.spelling=function(r){return(a,l)=>(console.warn(`${l} is likely a misspelling of ${r}`),!0)};function $g(n,r,a){if(typeof n!="object")throw new $e("options must be an object",$e.ERR_BAD_OPTION_VALUE);const l=Object.keys(n);let u=l.length;for(;u-- >0;){const h=l[u],g=r[h];if(g){const p=n[h],b=p===void 0||g(p,h,n);if(b!==!0)throw new $e("option "+h+" must be "+b,$e.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new $e("Unknown option "+h,$e.ERR_BAD_OPTION)}}const En={assertOptions:$g,validators:Zn},Zr=En.validators;let Ds=class{constructor(r){this.defaults=r||{},this.interceptors={request:new Tl,response:new Tl}}async request(r,a){try{return await this._request(r,a)}catch(l){if(l instanceof Error){let u={};Error.captureStackTrace?Error.captureStackTrace(u):u=new Error;const h=u.stack?u.stack.replace(/^.+\n/,""):"";try{l.stack?h&&!String(l.stack).endsWith(h.replace(/^.+\n.+\n/,""))&&(l.stack+=`
`+h):l.stack=h}catch{}}throw l}}_request(r,a){typeof r=="string"?(a=a||{},a.url=r):a=r||{},a=Ls(this.defaults,a);const{transitional:l,paramsSerializer:u,headers:h}=a;l!==void 0&&En.assertOptions(l,{silentJSONParsing:Zr.transitional(Zr.boolean),forcedJSONParsing:Zr.transitional(Zr.boolean),clarifyTimeoutError:Zr.transitional(Zr.boolean)},!1),u!=null&&(ee.isFunction(u)?a.paramsSerializer={serialize:u}:En.assertOptions(u,{encode:Zr.function,serialize:Zr.function},!0)),a.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?a.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:a.allowAbsoluteUrls=!0),En.assertOptions(a,{baseUrl:Zr.spelling("baseURL"),withXsrfToken:Zr.spelling("withXSRFToken")},!0),a.method=(a.method||this.defaults.method||"get").toLowerCase();let g=h&&ee.merge(h.common,h[a.method]);h&&ee.forEach(["delete","get","head","post","put","patch","common"],C=>{delete h[C]}),a.headers=vr.concat(g,h);const p=[];let b=!0;this.interceptors.request.forEach(function(T){typeof T.runWhen=="function"&&T.runWhen(a)===!1||(b=b&&T.synchronous,p.unshift(T.fulfilled,T.rejected))});const f=[];this.interceptors.response.forEach(function(T){f.push(T.fulfilled,T.rejected)});let w,v=0,k;if(!b){const C=[Ul.bind(this),void 0];for(C.unshift(...p),C.push(...f),k=C.length,w=Promise.resolve(a);v<k;)w=w.then(C[v++],C[v++]);return w}k=p.length;let A=a;for(;v<k;){const C=p[v++],T=p[v++];try{A=C(A)}catch(I){T.call(this,I);break}}try{w=Ul.call(this,A)}catch(C){return Promise.reject(C)}for(v=0,k=f.length;v<k;)w=w.then(f[v++],f[v++]);return w}getUri(r){r=Ls(this.defaults,r);const a=xd(r.baseURL,r.url,r.allowAbsoluteUrls);return ud(a,r.params,r.paramsSerializer)}};ee.forEach(["delete","get","head","options"],function(r){Ds.prototype[r]=function(a,l){return this.request(Ls(l||{},{method:r,url:a,data:(l||{}).data}))}});ee.forEach(["post","put","patch"],function(r){function a(l){return function(h,g,p){return this.request(Ls(p||{},{method:r,headers:l?{"Content-Type":"multipart/form-data"}:{},url:h,data:g}))}}Ds.prototype[r]=a(),Ds.prototype[r+"Form"]=a(!0)});let zg=class vd{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(h){a=h});const l=this;this.promise.then(u=>{if(!l._listeners)return;let h=l._listeners.length;for(;h-- >0;)l._listeners[h](u);l._listeners=null}),this.promise.then=u=>{let h;const g=new Promise(p=>{l.subscribe(p),h=p}).then(u);return g.cancel=function(){l.unsubscribe(h)},g},r(function(h,g,p){l.reason||(l.reason=new va(h,g,p),a(l.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const a=this._listeners.indexOf(r);a!==-1&&this._listeners.splice(a,1)}toAbortSignal(){const r=new AbortController,a=l=>{r.abort(l)};return this.subscribe(a),r.signal.unsubscribe=()=>this.unsubscribe(a),r.signal}static source(){let r;return{token:new vd(function(u){r=u}),cancel:r}}};function Hg(n){return function(a){return n.apply(null,a)}}function Wg(n){return ee.isObject(n)&&n.isAxiosError===!0}const ro={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(ro).forEach(([n,r])=>{ro[r]=n});function Nd(n){const r=new Ds(n),a=Jc(Ds.prototype.request,r);return ee.extend(a,Ds.prototype,r,{allOwnKeys:!0}),ee.extend(a,r,null,{allOwnKeys:!0}),a.create=function(u){return Nd(Ls(n,u))},a}const xt=Nd(Za);xt.Axios=Ds;xt.CanceledError=va;xt.CancelToken=zg;xt.isCancel=gd;xt.VERSION=wd;xt.toFormData=Yn;xt.AxiosError=$e;xt.Cancel=xt.CanceledError;xt.all=function(r){return Promise.all(r)};xt.spread=Hg;xt.isAxiosError=Wg;xt.mergeConfig=Ls;xt.AxiosHeaders=vr;xt.formToJSON=n=>md(ee.isHTMLForm(n)?new FormData(n):n);xt.getAdapter=yd.getAdapter;xt.HttpStatusCode=ro;xt.default=xt;const{Axios:xv,AxiosError:pv,CanceledError:bv,isCancel:yv,CancelToken:wv,VERSION:vv,all:Nv,Cancel:kv,isAxiosError:jv,spread:Cv,toFormData:Sv,AxiosHeaders:Ev,HttpStatusCode:Av,formToJSON:Tv,getAdapter:Iv,mergeConfig:Rv}=xt,Gt={name:"HOLD Wallet",version:"1.0.0",description:"Carteira digital P2P com sistema de chat e reputao",api:{baseUrl:"http://127.0.0.1:8000",wsUrl:"ws://127.0.0.1:8000",endpoints:{auth:"",users:"/users",wallets:"/wallets",p2p:"/p2p",chat:"/chat",notifications:"/notifications"}},pagination:{defaultPageSize:20,maxPageSize:100},upload:{maxFileSize:10*1024*1024,allowedTypes:{images:["image/jpeg","image/png","image/webp"],documents:["application/pdf","text/plain"],all:["image/jpeg","image/png","image/webp","application/pdf","text/plain"]}},crypto:{supportedCoins:["BTC","ETH","USDT","BNB","ADA","SOL","DOT","MATIC"],networks:{BTC:"bitcoin",ETH:"ethereum",USDT:"ethereum",BNB:"bsc",ADA:"cardano",SOL:"solana",DOT:"polkadot",MATIC:"polygon"}},chat:{maxMessageLength:1e3,typingTimeout:3e3,reconnectAttempts:5,reconnectInterval:2e3},security:{sessionTimeout:30*60*1e3,passwordMinLength:8,maxLoginAttempts:5,lockoutDuration:15*60*1e3},notifications:{position:"top-right",duration:4e3,maxNotifications:5},theme:{default:"light",storageKey:"hold-wallet-theme"},i18n:{default:"pt-BR",storageKey:"hold-wallet-language",fallback:"en-US",supported:["pt-BR","en-US","es-ES","zh-CN","ja-JP","ko-KR"]},storage:{prefix:"hold-wallet-",keys:{auth:"auth",theme:"theme",language:"language",settings:"settings"}},external:{website:"https://holdwallet.com",support:"https://support.holdwallet.com",docs:"https://docs.holdwallet.com",terms:"https://holdwallet.com/terms",privacy:"https://holdwallet.com/privacy",github:"https://github.com/holdwallet"},development:{enableDevTools:!1,debugMode:!1,mockData:!1}};class qg{client;constructor(){this.client=xt.create({baseURL:Gt.api.baseUrl,timeout:6e4,headers:{"Content-Type":"application/json"}}),this.setupInterceptors()}debugLogRequest(r,a){const l={url:r.url,method:r.method,hasToken:!!a,token:a?a.substring(0,20)+"...":"NO TOKEN",timestamp:new Date().toISOString(),storageKey:`${Gt.storage.prefix}${Gt.storage.keys.auth}`};console.log("[API]  Request:",l),r.url?.includes("/wallets/create")&&console.log("[API]  Wallet creation request detected")}debugCheckStorageToken(){const r=`${Gt.storage.prefix}${Gt.storage.keys.auth}`;console.warn("[API] Checking localStorage for key:",r);const a=localStorage.getItem(r);if(console.warn("[API] Raw localStorage data:",a?"(exists)":"(NOT FOUND)"),a)try{const l=JSON.parse(a);console.warn("[API] Parsed storage structure:",Object.keys(l)),l.state&&(console.warn("[API] State keys:",Object.keys(l.state)),console.warn("[API] Has token in state?",!!l.state.token))}catch(l){console.warn("[API] Failed to parse localStorage:",l)}}setupInterceptors(){this.client.interceptors.request.use(r=>{const a=this.getStoredToken();return this.debugLogRequest(r,a),a?(r.headers.Authorization=`Bearer ${a}`,console.log("[API]  Authorization header set with token")):(console.warn("[API]  No token found for request to:",r.url),this.debugCheckStorageToken()),r.headers["X-Request-ID"]=this.generateRequestId(),r},r=>(console.error("[API] Request interceptor error:",r),Promise.reject(r))),this.client.interceptors.response.use(r=>r,async r=>{console.error("[API] Response error:",{url:r.config?.url,status:r.response?.status,statusText:r.response?.statusText,data:r.response?.data,message:r.message});const a=r.config;if(r.response?.status===401&&!a._retry){a._retry=!0;try{const l=this.getStoredToken();if(l)return await this.refreshToken(l),this.client(a)}catch(l){throw this.handleAuthError(),l}}throw r.response?.status===403&&(console.warn("[API] 403 Forbidden - Token may be invalid or missing"),this.getStoredToken()||(console.warn("[API] No token found - redirecting to login"),this.handleAuthError())),this.handleApiError(r)})}getStoredToken(){try{const r=Vt.getState().token;if(r)return console.log("[API]  Token found in Zustand store (in-memory)"),r;const a=`${Gt.storage.prefix}${Gt.storage.keys.auth}`,l=localStorage.getItem(a);if(l){const h=this.extractTokenFromData(l);if(h){console.log("[API]  Token found in localStorage (Zustand format)");try{const g=JSON.parse(l);g.state?.user&&Vt.getState().setAuthData(g.state.user,h)}catch{console.warn("[API] Could not restore auth to memory")}return h}}const u=this.findTokenInAllKeys();return u||(console.warn("[API]  No token found - user not logged in or session expired"),null)}catch(r){return console.error("[API] Error retrieving token:",r),null}}extractTokenFromData(r){if(!r)return null;try{const a=JSON.parse(r);return a.state?.token&&typeof a.state.token=="string"?a.state.token:a.token&&typeof a.token=="string"?a.token:null}catch(a){return console.warn("[API] Failed to parse token data:",a),null}}findTokenInAllKeys(){try{for(let r=0;r<localStorage.length;r++){const a=localStorage.key(r);if(a&&(a.includes("auth")||a.includes("token"))){const l=localStorage.getItem(a);if(!l)continue;const u=this.extractTokenFromData(l);if(u&&u.length>10)return console.log(`[API]  Token found in fallback key: ${a}`),u}}}catch(r){console.warn("[API] Error searching localStorage:",r)}return null}generateRequestId(){return`${Date.now()}-${Math.random().toString(36).substring(2,11)}`}async refreshToken(r){try{const l=(await xt.post(`${Gt.api.baseUrl}/auth/refresh`,{token:r})).data.access_token;this.updateStoredToken(l)}catch(a){throw console.error("[API] Token refresh failed:",a),a}}updateStoredToken(r){try{const a=`${Gt.storage.prefix}${Gt.storage.keys.auth}`,l=localStorage.getItem(a);if(l){const u=JSON.parse(l);u.state&&(u.state.token=r,localStorage.setItem(a,JSON.stringify(u)))}}catch(a){console.error("Failed to update stored token:",a)}}handleAuthError(){localStorage.removeItem(`${Gt.storage.prefix}${Gt.storage.keys.auth}`),globalThis.window!==void 0&&(globalThis.window.location.href="/login")}handleApiError(r){if(r.response){const{status:a,data:l}=r.response,u=l?.message||`Request failed with status ${a}`,h=new Error(u);return h.status=a,h.code=l?.code,h.details=l?.details,h}else return r.request?new Error("Network error: No response from server"):new Error(`Request error: ${r.message}`)}async get(r,a){return this.client.get(r,a)}async post(r,a,l){return this.client.post(r,a,l)}async put(r,a,l){return this.client.put(r,a,l)}async patch(r,a,l){return this.client.patch(r,a,l)}async delete(r,a){return this.client.delete(r,a)}async uploadFile(r,a,l){const u=new FormData;return u.append("file",a),this.client.post(r,u,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:h=>{if(l&&h.total){const g=h.loaded/h.total*100;l(Math.round(g))}}})}getInstance(){return this.client}}const Ne=new qg;class Gg{async login(r){return(await Ne.post("/auth/login",r)).data}async register(r){return(await Ne.post("/auth/register",r)).data}async logout(){try{console.log("[AuthService]  Sending logout request to server");const r=await Ne.post("/auth/logout");console.log("[AuthService]  Logout response:",r.status)}catch(r){console.warn("[AuthService]  Logout request failed:",{status:r.response?.status,message:r.message})}}async refreshToken(r){return(await Ne.post("/auth/refresh",{token:r})).data}async getCurrentUser(r){return(await Ne.get("/auth/me",{headers:{Authorization:`Bearer ${r}`}})).data}async updateProfile(r){return(await Ne.put("/users/me",r)).data}async changePassword(r,a){await Ne.post("/auth/change-password",{currentPassword:r,newPassword:a})}async forgotPassword(r){await Ne.post("/auth/forgot-password",{email:r})}async resetPassword(r,a){await Ne.post("/auth/reset-password",{token:r,newPassword:a})}async verifyEmail(r){await Ne.post("/auth/verify-email",{token:r})}async resendEmailVerification(r){await Ne.post("/auth/resend-verification",{email:r})}async enable2FA(){return(await Ne.post("/auth/2fa/setup")).data}async verify2FA(r){return(await Ne.post("/auth/2fa/verify",{token:r})).data}async disable2FA(r){return(await Ne.post("/auth/2fa/disable",{token:r})).data}async get2FAStatus(){return(await Ne.get("/auth/2fa/status")).data}async validate2FA(r,a){return(await Ne.post("/auth/2fa/validate",{token:r,code:a})).data}}const Xt=new Gg,Vt=qn()(Gn((n,r)=>({user:null,token:null,isAuthenticated:!1,isLoading:!1,error:null,login:async a=>{n({isLoading:!0,error:null});try{const l=await Xt.login(a);n({user:l.user,token:l.access_token,isAuthenticated:!0,isLoading:!1,error:null})}catch(l){throw n({user:null,token:null,isAuthenticated:!1,isLoading:!1,error:l.message||"Login failed"}),l}},setAuthData:(a,l)=>{n({user:a,token:l,isAuthenticated:!0,isLoading:!1,error:null})},register:async a=>{n({isLoading:!0,error:null});try{const l=await Xt.register(a);n({user:l.user,token:l.access_token,isAuthenticated:!0,isLoading:!1,error:null})}catch(l){throw n({user:null,token:null,isAuthenticated:!1,isLoading:!1,error:l.message||"Registration failed"}),l}},logout:async()=>{if(r().token)try{console.log("[AuthStore]  Calling logout service with token"),await Xt.logout(),console.log("[AuthStore]  Logout successful on server")}catch(l){console.error("[AuthStore]  Logout request failed (will clear locally anyway):",l)}n({user:null,token:null,isAuthenticated:!1,isLoading:!1,error:null}),console.log("[AuthStore]  Local state cleared")},refreshToken:async()=>{const a=r().token;if(!a)throw new Error("No token available");try{const l=await Xt.refreshToken(a);n({user:l.user,token:l.access_token,isAuthenticated:!0,error:null})}catch(l){throw r().logout(),l}},updateUser:a=>{const l=r().user;l&&n({user:{...l,...a}})},clearError:()=>{n({error:null})},initializeAuth:async()=>{const a=r().token;if(!a){n({isLoading:!1});return}n({isLoading:!0});try{const l=await Xt.getCurrentUser(a);n({user:l,isAuthenticated:!0,isLoading:!1,error:null})}catch(l){console.error("[AuthStore] Token validation failed:",l.message),n({user:null,token:null,isAuthenticated:!1,isLoading:!1,error:null})}}}),{name:`${Gt.storage.prefix}${Gt.storage.keys.auth}`,partialize:n=>({user:n.user,token:n.token,isAuthenticated:n.isAuthenticated}),onRehydrateStorage:()=>n=>{n?.token&&n?.user&&n.initializeAuth()}})),Xg=()=>typeof window>"u"?"light":window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",Ri=(n,r)=>n==="system"?r==="dark":n==="dark",kd=qn()(Gn((n,r)=>({theme:"system",systemTheme:"light",isDark:!1,setTheme:a=>{const l=r().systemTheme,u=Ri(a,l);n({theme:a,isDark:u}),u?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},toggleTheme:()=>{const l=r().theme==="dark"?"light":"dark";r().setTheme(l)},initializeTheme:()=>{const a=r().theme,l=Xg(),u=Ri(a,l);if(n({systemTheme:l,isDark:u}),u?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),typeof window<"u"){const h=window.matchMedia("(prefers-color-scheme: dark)"),g=p=>{const b=p.matches?"dark":"light",f=r().theme,w=Ri(f,b);n({systemTheme:b,isDark:w}),f==="system"&&(w?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"))};return h.addEventListener("change",g),()=>h.removeEventListener("change",g)}}}),{name:`${Gt.storage.prefix}${Gt.storage.keys.theme}`,partialize:n=>({theme:n.theme}),onRehydrateStorage:()=>n=>{n&&setTimeout(()=>n.initializeTheme(),0)}})),jd=qn()(Gn(n=>({language:"pt",setLanguage:r=>{n({language:r})}}),{name:"language-store"}));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qg=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Kg=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,a,l)=>l?l.toUpperCase():a.toLowerCase()),$l=n=>{const r=Kg(n);return r.charAt(0).toUpperCase()+r.slice(1)},Cd=(...n)=>n.filter((r,a,l)=>!!r&&r.trim()!==""&&l.indexOf(r)===a).join(" ").trim(),Yg=n=>{for(const r in n)if(r.startsWith("aria-")||r==="role"||r==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Zg={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jg=j.forwardRef(({color:n="currentColor",size:r=24,strokeWidth:a=2,absoluteStrokeWidth:l,className:u="",children:h,iconNode:g,...p},b)=>j.createElement("svg",{ref:b,...Zg,width:r,height:r,stroke:n,strokeWidth:l?Number(a)*24/Number(r):a,className:Cd("lucide",u),...!h&&!Yg(p)&&{"aria-hidden":"true"},...p},[...g.map(([f,w])=>j.createElement(f,w)),...Array.isArray(h)?h:[h]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=(n,r)=>{const a=j.forwardRef(({className:l,...u},h)=>j.createElement(Jg,{ref:h,iconNode:r,className:Cd(`lucide-${Qg($l(n))}`,`lucide-${n}`,l),...u}));return a.displayName=$l(n),a};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ef=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],so=ne("activity",ef);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tf=[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]],Sd=ne("arrow-down-left",tf);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rf=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],sf=ne("arrow-left-right",rf);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const af=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],rs=ne("arrow-left",af);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nf=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Ed=ne("arrow-right",nf);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const of=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],ws=ne("arrow-up-right",of);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lf=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],os=ne("award",lf);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cf=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],Eo=ne("banknote",cf);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const df=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Dn=ne("bell",df);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uf=[["path",{d:"M11.767 19.089c4.924.868 6.14-6.025 1.216-6.894m-1.216 6.894L5.86 18.047m5.908 1.042-.347 1.97m1.563-8.864c4.924.869 6.14-6.025 1.215-6.893m-1.215 6.893-3.94-.694m5.155-6.2L8.29 4.26m5.908 1.042.348-1.97M7.48 20.364l3.126-17.727",key:"yr8idg"}]],hf=ne("bitcoin",uf);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mf=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Mn=ne("book-open",mf);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gf=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],ff=ne("bookmark",gf);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xf=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],pf=ne("briefcase",xf);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bf=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],Na=ne("building-2",bf);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yf=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],ma=ne("building",yf);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wf=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],pa=ne("calendar",wf);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vf=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Ao=ne("camera",vf);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nf=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Bn=ne("chart-column",Nf);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kf=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],jf=ne("chart-pie",kf);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cf=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],zl=ne("check-check",Cf);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sf=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],nr=ne("check",Sf);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ef=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Fs=ne("chevron-down",Ef);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Af=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Ad=ne("chevron-left",Af);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ka=ne("chevron-right",Tf);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const If=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Rf=ne("chevron-up",If);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _f=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],rt=ne("circle-alert",_f);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Of=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Pe=ne("circle-check-big",Of);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pf=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ra=ne("circle-check",Pf);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Df=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Td=ne("circle-play",Df);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mf=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Bf=ne("circle-question-mark",Mf);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lf=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Ns=ne("circle-x",Lf);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ff=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Et=ne("clock",Ff);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uf=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],Id=ne("code",Uf);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vf=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],To=ne("coins",Vf);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $f=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Fr=ne("copy",$f);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zf=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Mr=ne("credit-card",zf);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hf=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Io=ne("database",Hf);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wf=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],ss=ne("dollar-sign",Wf);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],ds=ne("download",qf);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gf=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Xf=ne("ellipsis-vertical",Gf);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qf=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Ro=ne("external-link",Qf);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kf=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],$r=ne("eye-off",Kf);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yf=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],lr=ne("eye",Yf);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zf=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],Jf=ne("file-braces",Zf);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Cr=ne("file-text",ex);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}]],rx=ne("file",tx);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],ax=ne("flag",sx);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Jn=ne("funnel",nx);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],ls=ne("globe",ix);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],_o=ne("graduation-cap",ox);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],cx=ne("grid-3x3",lx);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],Us=ne("headphones",dx);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],hx=ne("heart",ux);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],ao=ne("history",mx);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Hl=ne("house",gx);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Ur=ne("info",fx);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],px=ne("key",xx);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],yx=ne("layout-dashboard",bx);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],hr=ne("loader-circle",wx);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],Oo=ne("loader",vx);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Or=ne("lock",Nx);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],no=ne("log-out",kx);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Wa=ne("mail",jx);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Po=ne("map-pin",Cx);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Rd=ne("menu",Sx);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Vs=ne("message-circle",Ex);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],qa=ne("message-square",Ax);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],Ix=ne("mic-off",Tx);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],Do=ne("mic",Rx);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=[["path",{d:"M5 12h14",key:"1ays0h"}]],Ox=ne("minus",_x);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],_d=ne("moon",Px);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],Mx=ne("network",Dx);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bx=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],Wl=ne("palette",Bx);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],Fx=ne("paperclip",Lx);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],Ua=ne("pause",Ux);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vx=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Od=ne("pen-line",Vx);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],ql=ne("pen",$x);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zx=[["path",{d:"M10.1 13.9a14 14 0 0 0 3.732 2.668 1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2 18 18 0 0 1-12.728-5.272",key:"1wngk7"}],["path",{d:"M22 2 2 22",key:"y4kqgn"}],["path",{d:"M4.76 13.582A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 .244.473",key:"10hv5p"}]],Pd=ne("phone-off",zx);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hx=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],zr=ne("phone",Hx);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wx=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Mo=ne("play",Wx);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qx=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Sr=ne("plus",qx);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gx=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Xx=ne("printer",Gx);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],ga=ne("qr-code",Qx);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ws=ne("refresh-cw",Kx);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yx=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],Zx=ne("rocket",Yx);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],ep=ne("rotate-ccw",Jx);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tp=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Dd=ne("save",tp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rp=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],us=ne("search",rp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sp=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Pr=ne("send",sp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ap=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],hs=ne("settings",ap);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const np=[["path",{d:"M12 2v13",key:"1km8f5"}],["path",{d:"m16 6-4-4-4 4",key:"13yo43"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}]],ip=ne("share",np);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const op=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Gl=ne("shield-check",op);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lp=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],dt=ne("shield",lp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cp=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],dp=ne("shopping-bag",cp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const up=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],ei=ne("smartphone",up);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hp=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],mp=ne("smile",hp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gp=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],fp=ne("sparkles",gp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xp=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Md=ne("square-pen",xp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pp=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],bp=ne("square",pp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yp=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Qt=ne("star",yp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wp=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Bd=ne("sun",wp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vp=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],io=ne("target",vp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Np=[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]],kp=ne("thumbs-down",Np);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jp=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],Ld=ne("thumbs-up",jp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cp=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],Sp=ne("timer",Cp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ep=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ti=ne("trash-2",Ep);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ap=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],ba=ne("trending-down",Ap);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tp=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],er=ne("trending-up",Tp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ip=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Nr=ne("triangle-alert",Ip);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rp=[["path",{d:"m12 10 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a8 8 0 1 0-16 0v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3l2-4h4Z",key:"1lbbv7"}],["path",{d:"M4.82 7.9 8 10",key:"m9wose"}],["path",{d:"M15.18 7.9 12 10",key:"p8dp2u"}],["path",{d:"M16.93 10H20a2 2 0 0 1 0 4H2",key:"12nsm7"}]],_p=ne("turtle",Rp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Op=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Ln=ne("upload",Op);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pp=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Dp=ne("user-check",Pp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mp=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Bp=ne("user-plus",Mp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lp=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ts=ne("user",Lp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fp=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Vr=ne("users",Fp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Up=[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Vp=ne("video-off",Up);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $p=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],$s=ne("video",$p);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zp=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Hp=ne("volume-2",zp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wp=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],qp=ne("volume-x",Wp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gp=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Ht=ne("wallet",Gp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xp=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Dr=ne("x",Xp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qp=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],ct=ne("zap",Qp),Kp=[{name:"dashboard",href:"/dashboard",icon:yx,group:"dashboard"},{name:"wallet",href:"/wallet",icon:Ht,group:"trading"},{name:"instantTrade",href:"/instant-trade",icon:ct,group:"trading"},{name:"marketplace",href:"/p2p",icon:dp,group:"trading"},{name:"chat",href:"/chat",icon:qa,group:"communication"},{name:"services",href:"/services",icon:cx,group:"services"},{name:"contact",href:"/contact",icon:zr,group:"services"},{name:"support",href:"/support",icon:Us,group:"services"},{name:"portfolio",href:"/portfolio",icon:Bn,group:"services"},{name:"institutional",href:"/institutional",icon:Na,group:"services"},{name:"education",href:"/education",icon:_o,group:"services"},{name:"profile",href:"/profile",icon:ts,group:"account"},{name:"settings",href:"/settings",icon:hs,group:"account"}],Yp=()=>{const{t:n}=cr(),r=bc(),{logout:a,user:l}=Vt(),[u,h]=j.useState(!1),[g,p]=j.useState(!0),[b,f]=j.useState({dashboard:!0,trading:!0,communication:!1,services:!1,account:!1}),w=()=>{a()},v=C=>{f(T=>({...T,[C]:!T[C]}))},k=Kp.reduce((C,T)=>(C[T.group]||(C[T.group]=[]),C[T.group]?.push(T),C),{}),A={dashboard:"",trading:"Carteira",communication:"Comunicao",services:"Servios",account:"Conta & Configuraes"};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"lg:hidden fixed top-4 left-4 z-50",children:e.jsx("button",{onClick:()=>h(!u),className:"p-2 bg-white dark:bg-gray-800 rounded-lg shadow-md",children:u?e.jsx(Dr,{className:"w-6 h-6"}):e.jsx(Rd,{className:"w-6 h-6"})})}),u&&e.jsx("div",{className:"lg:hidden fixed inset-0 bg-gray-600 bg-opacity-75 z-40",onClick:()=>h(!1)}),e.jsxs("div",{className:`fixed lg:static inset-y-0 left-0 z-50 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 transition-all duration-300 ease-in-out flex flex-col ${u?"translate-x-0":"-translate-x-full"} lg:translate-x-0 ${g?"lg:w-64":"lg:w-20"}`,children:[e.jsxs("div",{className:"flex items-center justify-between px-3 lg:px-6 py-6 border-b border-gray-200 dark:border-gray-700",children:[g&&e.jsxs(e.Fragment,{children:[e.jsx("img",{src:"/images/logos/hw-icon.png",alt:"HOLD Wallet Logo",className:"h-10 w-10 rounded-lg object-contain"}),e.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-white ml-2",children:"HOLD WALLET"})]}),!g&&e.jsx("img",{src:"/images/logos/hw-icon.png",alt:"HOLD Wallet Logo",className:"h-10 w-10 rounded-lg object-contain mx-auto"}),e.jsx("button",{onClick:()=>p(!g),className:"hidden lg:flex items-center justify-center p-1 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",title:g?"Recolher":"Expandir",children:e.jsx("svg",{className:"w-4 h-4 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:g?"M15 19l-7-7 7-7":"M9 5l7 7-7 7"})})})]}),e.jsx("nav",{className:"flex-1 px-2 lg:px-3 py-4 space-y-2 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-gray-600 scrollbar-track-transparent",children:Object.entries(k).map(([C,T])=>e.jsxs("div",{className:"space-y-1",children:[C!=="dashboard"&&g?e.jsxs("button",{onClick:()=>v(C),className:"w-full flex items-center justify-between px-3 py-2 text-xs font-semibold uppercase tracking-wide text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-300 transition-colors",children:[e.jsx("span",{children:A[C]||C}),e.jsx("svg",{className:`w-4 h-4 transition-transform ${b[C]?"rotate-180":"rotate-270"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})]}):null,g&&(C==="dashboard"||b[C])&&e.jsx("div",{className:"space-y-1 pl-1",children:T.map(I=>{const R=r.pathname.startsWith(I.href);return e.jsxs(St,{to:I.href,onClick:()=>h(!1),className:`flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${R?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 border border-blue-200 dark:border-blue-800":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[e.jsx(I.icon,{className:`w-5 h-5 flex-shrink-0 ${R?"text-blue-600 dark:text-blue-400":""}`}),e.jsx("span",{className:"truncate",children:n(`navigation.${I.name}`)})]},I.name)})}),!g&&e.jsx("div",{className:"space-y-1",children:T.map(I=>{const R=r.pathname.startsWith(I.href);return e.jsx(St,{to:I.href,onClick:()=>h(!1),title:n(`navigation.${I.name}`),className:`flex items-center justify-center p-3 rounded-lg transition-colors ${R?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:e.jsx(I.icon,{className:`w-5 h-5 ${R?"text-blue-600 dark:text-blue-400":""}`})},I.name)})})]},C))}),e.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 p-2 lg:p-3 space-y-2 lg:space-y-3",children:g?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold text-sm flex-shrink-0",children:(l?.firstName||l?.username||"U").split(" ").map(I=>I.charAt(0).toUpperCase()).slice(0,2).join("")}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:l?.firstName||l?.username||"Usurio"}),e.jsx("div",{className:"flex items-center gap-1",children:e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300",children:`HW${l?.id?String(l.id).replaceAll(/\D/g,"").substring(0,5):"00000"}`})})]})]}),e.jsxs("button",{onClick:w,className:"w-full flex items-center justify-center gap-2 px-3 py-2 text-sm font-medium text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:[e.jsx(no,{className:"w-4 h-4"}),n("navigation.logout")]})]}):e.jsx("button",{onClick:w,title:n("navigation.logout"),className:"flex items-center justify-center p-2 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors w-full",children:e.jsx(no,{className:"w-5 h-5"})})})]})]})},Zp=()=>{const{t:n,i18n:r}=cr(),{theme:a,toggleTheme:l}=kd(),[u,h]=j.useState(""),g=p=>{r.changeLanguage(p)};return e.jsx("header",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between gap-6",children:[e.jsx("div",{className:"hidden md:flex flex-1 max-w-md",children:e.jsxs("div",{className:"relative w-full",children:[e.jsx(us,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Buscar carteiras, transaes...",value:u,onChange:p=>h(p.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg text-sm text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 transition-all"})]})}),e.jsxs("div",{className:"flex items-center gap-4 ml-auto",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:r.language,onChange:p=>g(p.target.value),className:"appearance-none bg-transparent border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-1 pr-8 text-sm text-gray-700 dark:text-gray-300 focus:outline-none focus:ring-2 focus:ring-primary-500",title:"Selecionar idioma",children:[e.jsx("option",{value:"pt-BR",children:"PT"}),e.jsx("option",{value:"en-US",children:"EN"}),e.jsx("option",{value:"es-ES",children:"ES"}),e.jsx("option",{value:"zh-CN",children:""}),e.jsx("option",{value:"ja-JP",children:""}),e.jsx("option",{value:"ko-KR",children:""})]}),e.jsx(ls,{className:"absolute right-2 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"})]}),e.jsxs("button",{className:"relative p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",title:"Notificaes",children:[e.jsx(Dn,{className:"w-5 h-5"}),e.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),e.jsx("button",{onClick:l,className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",title:a==="dark"?"Modo claro":"Modo escuro",children:a==="dark"?e.jsx(Bd,{className:"w-5 h-5"}):e.jsx(_d,{className:"w-5 h-5"})})]})]})})},Jp=()=>e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"flex h-screen",children:[e.jsx(Yp,{}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsx(Zp,{}),e.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-gray-50 dark:bg-gray-900",children:e.jsx("div",{className:"container mx-auto px-6 py-8",children:e.jsx($0,{})})})]})]})}),Bo=({message:n="Carregando...",fullScreen:r=!0})=>r?e.jsx("div",{className:"fixed inset-0 bg-white dark:bg-gray-900 flex items-center justify-center z-50",children:e.jsxs("div",{className:"flex flex-col items-center gap-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"h-16 w-16 rounded-full bg-gradient-to-r from-blue-500 to-blue-600 flex items-center justify-center",children:e.jsx("span",{className:"text-2xl font-bold text-white",children:"H"})}),e.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-blue-500 to-blue-600 animate-pulse opacity-75"})]}),e.jsx("div",{className:"relative",children:e.jsx("div",{className:"h-8 w-8 border-2 border-blue-200 border-t-blue-600 rounded-full animate-spin"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"HOLD Wallet"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:n})]}),e.jsx("div",{className:"flex gap-1",children:[0,1,2].map(a=>e.jsx("div",{className:"h-2 w-2 rounded-full bg-blue-200 dark:bg-blue-800 animate-pulse",style:{animationDelay:`${a*200}ms`,animationDuration:"1s"}},a))})]})}):e.jsx("div",{className:"flex items-center justify-center p-8",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("div",{className:"h-8 w-8 border-2 border-blue-200 border-t-blue-600 rounded-full animate-spin"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:n})]})});class e1 extends j.Component{constructor(r){super(r),this.state={hasError:!1,error:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,a){console.error("ErrorBoundary caught an error:",r,a)}handleRetry=()=>{this.setState({hasError:!1,error:null})};render(){return this.state.hasError?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:e.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6 text-center",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-4",children:e.jsx("span",{className:"text-2xl",children:""})}),e.jsx("h1",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Algo deu errado"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Encontramos um erro inesperado. Por favor, tente novamente."}),e.jsx("button",{onClick:this.handleRetry,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"Tentar novamente"})]})}):this.props.children}}let t1=class{async getWallets(){try{const r=await Ne.get("/wallets");console.log(" Wallets response:",r.data);const a=r.data?.data||r.data||[];return console.log(" Wallets parsed:",a),Array.isArray(a)?a:[]}catch(r){return console.error(" Error fetching wallets:",r),[]}}async getWallet(r){return(await Ne.get(`/wallets/${r}`)).data.data}async createWallet(r){return(await Ne.post("/wallets",r)).data.data}async importWallet(r){return(await Ne.post("/wallets/import",r)).data.data}async updateWallet(r,a){return(await Ne.put(`/wallets/${r}`,a)).data.data}async deleteWallet(r){await Ne.delete(`/wallets/${r}`)}async getWalletBalance(r,a){const l=a?{refresh:"true"}:{};return(await Ne.get(`/wallets/${r}/balance`,{params:l})).data.data}async getWalletBalancesByNetwork(r){console.log(`[DEBUG] Service: Fetching /wallets/${r}/balances with include_tokens=true`);const a=await Ne.get(`/wallets/${r}/balances?include_tokens=true`);console.log("[DEBUG] Service: Response received:",a.data);const l=a.data.balances||{};return console.log("[DEBUG] Service: Extracted balances:",l),l}async getReceiveAddress(r){return(await Ne.get(`/wallets/${r}/receive`)).data.data}async sendTransaction(r){return(await Ne.post("/transactions/send",r)).data.data}async estimateFee(r,a,l,u="medium"){return(await Ne.post("/transactions/estimate-fee",{walletId:r,toAddress:a,amount:l,priority:u})).data.data}async getWalletTransactions(r,a=1,l=20,u){const h={page:a.toString(),limit:l.toString(),...u};return(await Ne.get(`/wallets/${r}/transactions`,{params:h})).data}async getTransactions(r=1,a=20,l){const u={page:r.toString(),limit:a.toString(),...l};return(await Ne.get("/transactions",{params:u})).data}async getTransaction(r){return(await Ne.get(`/transactions/${r}`)).data.data}async cancelTransaction(r){return(await Ne.post(`/transactions/${r}/cancel`)).data.data}async resendTransaction(r){return(await Ne.post(`/transactions/${r}/resend`)).data.data}async getSupportedCoins(){return(await Ne.get("/wallets/supported-coins")).data.data}async validateAddress(r,a){return(await Ne.post("/wallets/validate-address",{coin:r,address:a})).data.data}async exportWallet(r,a){return(await Ne.post(`/wallets/${r}/export`,{password:a})).data.data}async backupWallet(r){return(await Ne.get(`/wallets/${r}/backup`)).data.data}async restoreWallet(r,a,l){return(await Ne.post("/wallets/restore",{backupData:r,checksum:a,name:l})).data.data}async getWalletStats(r,a="30d"){return(await Ne.get(`/wallets/${r}/stats`,{params:{period:a}})).data.data}};const Fd=new t1;class r1{async getOrders(r=1,a=20,l){const u={page:r.toString(),limit:a.toString()};return l&&(l.type&&(u.type=l.type),l.coin&&(u.coin=l.coin),l.paymentMethod&&(u.paymentMethod=l.paymentMethod),l.minAmount&&(u.minAmount=l.minAmount),l.maxAmount&&(u.maxAmount=l.maxAmount),l.verified!==void 0&&(u.verified=l.verified.toString()),l.online!==void 0&&(u.online=l.online.toString())),(await Ne.get("/p2p/orders",{params:u})).data}async getMyOrders(r=1,a=20,l){const u={page:r.toString(),limit:a.toString()};return l&&(u.status=l),(await Ne.get("/p2p/my-orders",{params:u})).data}async getOrder(r){return(await Ne.get(`/p2p/orders/${r}`)).data.data}async createOrder(r){return(await Ne.post("/p2p/orders",r)).data.data}async updateOrder(r,a){return(await Ne.put(`/p2p/orders/${r}`,a)).data.data}async cancelOrder(r){await Ne.delete(`/p2p/orders/${r}`)}async toggleOrderStatus(r){return(await Ne.post(`/p2p/orders/${r}/toggle`)).data.data}async startTrade(r){return(await Ne.post("/p2p/trades",r)).data.data}async getTrades(r=1,a=20,l){const u={page:r.toString(),limit:a.toString(),...l};return(await Ne.get("/p2p/trades",{params:u})).data}async getTrade(r){return(await Ne.get(`/p2p/trades/${r}`)).data.data}async acceptTrade(r){return(await Ne.post(`/p2p/trades/${r}/accept`)).data.data}async markPaymentSent(r,a){return(await Ne.post(`/p2p/trades/${r}/payment-sent`,{message:a})).data.data}async confirmPaymentReceived(r){return(await Ne.post(`/p2p/trades/${r}/payment-confirmed`)).data.data}async releaseEscrow(r){return(await Ne.post(`/p2p/trades/${r}/release`)).data.data}async cancelTrade(r,a){return(await Ne.post(`/p2p/trades/${r}/cancel`,{reason:a})).data.data}async disputeTrade(r,a,l,u){const h=new FormData;return h.append("reason",a),h.append("description",l),u&&u.forEach((p,b)=>{h.append(`evidence_${b}`,p)}),(await Ne.post(`/p2p/trades/${r}/dispute`,h,{headers:{"Content-Type":"multipart/form-data"}})).data.data}async sendTradeMessage(r){if(r.attachments&&r.attachments.length>0){const a=new FormData;a.append("message",r.message),a.append("type",r.type||"text"),r.attachments.forEach((l,u)=>{a.append(`attachments_${u}`,l)}),await Ne.post(`/p2p/trades/${r.tradeId}/messages`,a,{headers:{"Content-Type":"multipart/form-data"}})}else await Ne.post(`/p2p/trades/${r.tradeId}/messages`,{message:r.message,type:r.type||"text"})}async getTradeMessages(r){return(await Ne.get(`/p2p/trades/${r}/messages`)).data.data}async getPaymentMethods(){return(await Ne.get("/p2p/payment-methods")).data.data}async createPaymentMethod(r){return(await Ne.post("/p2p/payment-methods",r)).data.data}async updatePaymentMethod(r,a){return(await Ne.put(`/p2p/payment-methods/${r}`,a)).data.data}async deletePaymentMethod(r){await Ne.delete(`/p2p/payment-methods/${r}`)}async getUserProfile(r){return(await Ne.get(`/p2p/users/${r}`)).data.data}async getUserFeedback(r,a=1,l=20){const u={page:a.toString(),limit:l.toString()};return(await Ne.get(`/p2p/users/${r}/feedback`,{params:u})).data}async leaveFeedback(r,a,l,u){await Ne.post(`/p2p/trades/${r}/feedback`,{rating:a,comment:l,type:u})}async getMarketStats(r){const a=r?{coin:r}:{};return(await Ne.get("/p2p/market-stats",{params:a})).data.data}async getPriceSuggestions(r,a,l){return(await Ne.get("/p2p/price-suggestions",{params:{coin:r,type:a,amount:l}})).data.data}async getRecentTrades(r,a=10){return(await Ne.get(`/p2p/recent-trades/${r}`,{params:{limit:a.toString()}})).data.data}}const Bt=new r1;class s1{peers=new Map;localStream=null;callListeners=[];streamListeners=new Map;config={iceServers:[{urls:["stun:stun.l.google.com:19302"]},{urls:["stun:stun1.l.google.com:19302"]},{urls:["stun:stun2.l.google.com:19302"]},{urls:["stun:stun3.l.google.com:19302"]},{urls:["stun:stun4.l.google.com:19302"]}]};currentCallId=null;currentCallType=null;isCallActive=!1;async getLocalStream(r){try{return console.log(" Requesting media access:",r),this.localStream=await navigator.mediaDevices.getUserMedia(r),console.log(" Local stream obtained"),this.localStream}catch(a){throw console.error(" Failed to get local stream:",a),new Error("No foi possvel acessar cmera/microfone. Verifique as permisses.")}}stopLocalStream(){this.localStream&&(this.localStream.getTracks().forEach(r=>r.stop()),this.localStream=null,console.log(" Local stream stopped"))}getLocalStreamTracks(){return this.localStream}createPeerConnection(r){console.log(` Creating peer connection for ${r}`);const a=new globalThis.RTCPeerConnection(this.config);return this.localStream&&this.localStream.getTracks().forEach(l=>{a.addTrack(l,this.localStream)}),a.onicecandidate=l=>{l.candidate&&this.sendICECandidate(r,l.candidate)},a.ontrack=l=>{console.log(" Received remote track:",l.track.kind),l.streams[0]&&this.notifyStream(r,l.streams[0])},a.onconnectionstatechange=()=>{console.log(` Connection state (${r}):`,a.connectionState),(a.connectionState==="failed"||a.connectionState==="disconnected")&&this.endCall(r).catch(console.error)},a.oniceconnectionstatechange=()=>{console.log(` ICE connection state (${r}):`,a.iceConnectionState)},this.peers.set(r,{pc:a}),a}async initiateCall(r,a,l,u){try{console.log(` Initiating ${a} call to ${r}`);const h={audio:!0,video:a==="video"?{width:{max:1280},height:{max:720}}:!1};await this.getLocalStream(h),this.currentCallId=l,this.currentCallType=a;const g=this.createPeerConnection(r),p=await g.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:a==="video"});await g.setLocalDescription(p);const b={type:"call_offer",call_id:l,caller_id:this.getCurrentUserId(),caller_name:u,call_type:a,sdp:p.sdp||""};await this.sendCallSignal(r,b),console.log(" Call offer sent")}catch(h){throw console.error(" Failed to initiate call:",h),this.endCall(r),h}}async acceptCall(r,a){try{console.log(` Accepting ${a.call_type} call from ${r}`),this.currentCallId=a.call_id,this.currentCallType=a.call_type;const l={audio:!0,video:a.call_type==="video"?{width:{max:1280},height:{max:720}}:!1};await this.getLocalStream(l);const u=this.createPeerConnection(r),h=new RTCSessionDescription({type:"offer",sdp:a.sdp});await u.setRemoteDescription(h);const g=await u.createAnswer();await u.setLocalDescription(g);const p={type:"call_answer",call_id:a.call_id,answerer_id:this.getCurrentUserId(),sdp:g.sdp||""};await this.sendCallSignal(r,p),console.log(" Call answer sent"),this.isCallActive=!0}catch(l){throw console.error(" Failed to accept call:",l),l}}async rejectCall(r,a){console.log(` Rejecting call from ${r}`),await this.sendCallSignal(r,{type:"call_rejected",call_id:a}),this.endCall(r)}async handleCallAnswer(r,a){try{const l=this.peers.get(r);if(!l)throw new Error(`Peer connection not found for ${r}`);const u=new RTCSessionDescription({type:"answer",sdp:a.sdp});await l.pc.setRemoteDescription(u),this.isCallActive=!0,console.log(" Call answer processed")}catch(l){throw console.error(" Failed to handle call answer:",l),l}}async handleICECandidate(r,a){try{const l=this.peers.get(r);if(!l){console.warn(`Peer connection not found for ${r}`);return}await l.pc.addIceCandidate(a)}catch(l){console.error(" Failed to add ICE candidate:",l)}}async endCall(r){console.log(` Ending call with ${r}`);const a=this.peers.get(r);a&&(a.pc.close(),this.peers.delete(r)),this.isCallActive=!1,this.currentCallId=null,this.currentCallType=null,this.stopLocalStream(),this.notifyCallEvent({type:"call_ended",call_id:this.currentCallId??""}),console.log(" Call ended")}toggleAudio(r){this.localStream&&(this.localStream.getAudioTracks().forEach(a=>{a.enabled=r}),console.log(` Audio ${r?"enabled":"disabled"}`))}toggleVideo(r){this.localStream&&(this.localStream.getVideoTracks().forEach(a=>{a.enabled=r}),console.log(` Video ${r?"enabled":"disabled"}`))}isCallInProgress(){return this.isCallActive}getCurrentCallId(){return this.currentCallId}getCurrentCallType(){return this.currentCallType}async sendCallSignal(r,a){try{console.log(" Sending call signal:",a.type)}catch(l){console.error(" Failed to send call signal:",l)}}sendICECandidate(r,a){try{const l={type:"ice_candidate",call_id:this.currentCallId??"",candidate:a};this.sendCallSignal(r,l)}catch(l){console.error(" Failed to send ICE candidate:",l)}}onCallEvent(r){return this.callListeners.push(r),()=>{const a=this.callListeners.indexOf(r);a>-1&&this.callListeners.splice(a,1)}}onRemoteStream(r,a){this.streamListeners.has(r)||this.streamListeners.set(r,[]);const l=this.streamListeners.get(r);return l.push(a),()=>{const u=l.indexOf(a);u>-1&&l.splice(u,1)}}notifyCallEvent(r){this.callListeners.forEach(a=>a(r))}notifyStream(r,a){(this.streamListeners.get(r)||[]).forEach(u=>u(a))}getCurrentUserId(){return localStorage.getItem("user_id")||"unknown"}cleanup(){this.peers.forEach((r,a)=>{this.endCall(a)}),this.stopLocalStream(),this.peers.clear(),this.streamListeners.clear()}}const Ba=new s1,ja={all:["auth"],user:()=>[...ja.all,"user"]};function Ud(){const{token:n,isAuthenticated:r}=Vt();return Hr({queryKey:ja.user(),queryFn:()=>Xt.getCurrentUser(n),enabled:r&&!!n,staleTime:5*60*1e3,retry:(a,l)=>l?.status===401?!1:a<3})}function a1(){const n=mr(),{setAuthData:r}=Vt();return ht({mutationFn:a=>Xt.login(a),onSuccess:a=>{r(a.user,a.access_token),n("/dashboard")},onError:a=>{console.error("Login error:",a)}})}function n1(){const n=mr(),{setAuthData:r}=Vt();return ht({mutationFn:a=>Xt.register(a),onSuccess:a=>{r(a.user,a.access_token),n("/dashboard")}})}function i1(){const n=Ut();return ht({mutationFn:r=>Xt.updateProfile(r),onSuccess:r=>{n.setQueryData(ja.user(),r);const{user:a,updateUser:l}=Vt.getState();a&&l({...a,...r})}})}function o1(){return ht({mutationFn:({currentPassword:n,newPassword:r})=>Xt.changePassword(n,r)})}function l1(){return ht({mutationFn:n=>Xt.forgotPassword(n)})}function c1(){return ht({mutationFn:({token:n,newPassword:r})=>Xt.resetPassword(n,r)})}function d1(){const{isAuthenticated:n}=Vt();return Hr({queryKey:[...ja.all,"2fa-status"],queryFn:()=>Xt.get2FAStatus(),enabled:n,staleTime:1*60*1e3})}function u1(){return ht({mutationFn:()=>Xt.enable2FA()})}function h1(){const n=Ut();return ht({mutationFn:r=>Xt.verify2FA(r),onSuccess:()=>{n.invalidateQueries({queryKey:[...ja.all,"2fa-status"]})}})}function m1(){const n=Ut();return ht({mutationFn:r=>Xt.disable2FA(r),onSuccess:()=>{n.invalidateQueries({queryKey:[...ja.all,"2fa-status"]})}})}function g1(){return ht({mutationFn:({token:n,code:r})=>Xt.validate2FA(n,r)})}const f1=()=>{const{t:n}=cr(),r=mr(),a=a1(),l=g1(),[u,h]=j.useState("login"),[g,p]=j.useState(""),[b,f]=j.useState({email:"",password:"",rememberMe:!1}),[w,v]=j.useState({code:""}),[k,A]=j.useState({}),[C,T]=j.useState(!1),I=$=>$?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test($)?"":n("validation.emailInvalid","E-mail invlido"):n("validation.emailRequired","E-mail  obrigatrio"),R=$=>$?$.length<6?n("validation.passwordTooShort","Senha deve ter pelo menos 6 caracteres"):"":n("validation.passwordRequired","Senha  obrigatria"),O=()=>{const $={};return $.email=I(b.email),$.password=R(b.password),Object.keys($).forEach(z=>{$[z]||delete $[z]}),A($),Object.keys($).length===0},P=async $=>{if($.preventDefault(),!!O())try{await a.mutateAsync({email:b.email,password:b.password,rememberMe:b.rememberMe})}catch(z){console.error("Login failed:",z)}},G=async $=>{if($.preventDefault(),!w.code){A({code:n("validation.2faRequired","Cdigo 2FA  obrigatrio")});return}try{await l.mutateAsync({token:g,code:w.code}),r("/dashboard")}catch{A({code:n("validation.2faInvalid","Cdigo 2FA invlido")})}},Q=$=>{const{name:z,value:K,type:re,checked:F}=$.target;f(X=>({...X,[z]:re==="checkbox"?F:K})),k[z]&&A(X=>({...X,[z]:""}))},D=$=>{const{value:z}=$.target,K=z.replace(/\D/g,"").slice(0,6);v({code:K}),k.code&&A(re=>({...re,code:""}))},B=a.isPending||l.isPending;return B?e.jsx(Bo,{message:u==="login"?n("auth.loggingIn","Fazendo login..."):n("auth.validating2FA","Validando cdigo 2FA...")}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-primary-100 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto h-20 w-20 rounded-2xl bg-white dark:bg-gray-800 shadow-lg flex items-center justify-center mb-6 p-3",children:e.jsx("img",{src:"/images/logos/hw-icon.png",alt:"HOLD Wallet Logo",className:"h-16 w-16 object-contain"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:u==="login"?n("auth.login","Entrar"):n("auth.2fa","Autenticao de Dois Fatores")}),e.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-300",children:u==="login"?"Entre na sua conta HOLD Wallet":"Digite o cdigo de 6 dgitos do seu app autenticador"})]}),u==="login"&&e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:P,children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 space-y-4",children:[a.error&&e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(dt,{className:"w-4 h-4 text-red-400 mr-2"}),e.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:a.error.message||"Erro no login"})]})}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:n("auth.email","E-mail")}),e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:`mt-1 block w-full px-3 py-2 border rounded-lg shadow-sm placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500 ${k.email?"border-red-300 dark:border-red-600 focus:border-red-500":"border-gray-300 dark:border-gray-600 focus:border-primary-500"}`,placeholder:"seu@email.com",value:b.email,onChange:Q}),k.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:k.email})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:n("auth.password","Senha")}),e.jsxs("div",{className:"mt-1 relative",children:[e.jsx("input",{id:"password",name:"password",type:C?"text":"password",autoComplete:"current-password",required:!0,className:`block w-full px-3 py-2 pr-10 border rounded-lg shadow-sm placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500 ${k.password?"border-red-300 dark:border-red-600 focus:border-red-500":"border-gray-300 dark:border-gray-600 focus:border-primary-500"}`,placeholder:"",value:b.password,onChange:Q}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>T(!C),children:C?e.jsx($r,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):e.jsx(lr,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),k.password&&e.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:k.password})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"rememberMe",name:"rememberMe",type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded",checked:b.rememberMe,onChange:Q}),e.jsx("label",{htmlFor:"rememberMe",className:"ml-2 block text-sm text-gray-700 dark:text-gray-300",children:n("auth.rememberMe","Lembrar de mim")})]}),e.jsx(St,{to:"/forgot-password",className:"text-sm text-primary-600 hover:text-primary-500 dark:text-primary-400",children:n("auth.forgotPassword","Esqueci a senha")})]}),e.jsx("button",{type:"submit",disabled:B,className:"w-full flex justify-center items-center py-2 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:B?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n("auth.loggingIn","Entrando...")]}):n("auth.login","Entrar")})]}),e.jsx("div",{className:"text-center",children:e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:["No tem uma conta?"," ",e.jsx(St,{to:"/register",className:"font-medium text-primary-600 hover:text-primary-500 dark:text-primary-400",children:n("auth.register","Registre-se")})]})})]}),u==="2fa"&&e.jsx("form",{className:"mt-8 space-y-6",onSubmit:G,children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 space-y-4",children:[k.code&&e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(dt,{className:"w-4 h-4 text-red-400 mr-2"}),e.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:k.code})]})}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"code",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:n("auth.2faCode","Cdigo de Verificao")}),e.jsx("input",{id:"code",name:"code",type:"text",inputMode:"numeric",pattern:"[0-9]*",maxLength:6,required:!0,className:`mt-1 block w-full px-3 py-2 text-center text-2xl font-mono tracking-widest border rounded-lg shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500 ${k.code?"border-red-300 dark:border-red-600 focus:border-red-500":"border-gray-300 dark:border-gray-600 focus:border-primary-500"}`,placeholder:"000000",value:w.code,onChange:D}),e.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400 text-center",children:"Digite o cdigo de 6 dgitos do seu aplicativo autenticador"})]}),e.jsx("button",{type:"submit",disabled:B||w.code.length!==6,className:"w-full flex justify-center items-center py-2 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:B?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n("auth.validating","Validando...")]}):n("auth.verify","Verificar")}),e.jsx("button",{type:"button",onClick:()=>h("login"),className:"w-full text-sm text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200",children:" Voltar ao login"})]})})]})})},x1=()=>{const{t:n}=cr(),r=mr(),a=n1(),[l,u]=j.useState({email:"",username:"",password:"",confirmPassword:"",acceptTerms:!1,acceptPrivacy:!1,acceptMarketing:!1}),[h,g]=j.useState({}),[p,b]=j.useState(!1),[f,w]=j.useState(!1),[v,k]=j.useState(0),A=Q=>Q?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(Q)?"":n("validation.emailInvalid","E-mail invlido"):n("validation.emailRequired","E-mail  obrigatrio"),C=Q=>{if(!Q)return n("validation.passwordRequired","Senha  obrigatria");if(Q.length<8)return n("validation.passwordTooShort","Senha deve ter pelo menos 8 caracteres");let D=0;return/[a-z]/.test(Q)&&D++,/[A-Z]/.test(Q)&&D++,/\d/.test(Q)&&D++,/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(Q)&&D++,Q.length>=12&&D++,k(D),D<3?n("validation.passwordWeak","Senha muito fraca. Use maiscula, minscula, nmero e smbolo"):""},T=Q=>Q?Q.length<3?n("validation.usernameTooShort","Nome de usurio deve ter pelo menos 3 caracteres"):Q.length>50?n("validation.usernameTooLong","Nome de usurio deve ter menos de 50 caracteres"):/^[a-zA-Z0-9_-]+$/.test(Q)?"":n("validation.usernameInvalid","Nome de usurio pode conter apenas letras, nmeros, hfens e underscores"):n("validation.usernameRequired","Nome de usurio  obrigatrio"),I=()=>{const Q={};return Q.email=A(l.email),Q.username=T(l.username),Q.password=C(l.password),l.confirmPassword?l.password!==l.confirmPassword&&(Q.confirmPassword=n("validation.passwordMismatch","Senhas no coincidem")):Q.confirmPassword=n("validation.confirmPasswordRequired","Confirmao de senha  obrigatria"),l.acceptTerms||(Q.acceptTerms=n("validation.termsRequired","Voc deve aceitar os termos de uso")),l.acceptPrivacy||(Q.acceptPrivacy=n("validation.privacyRequired","Voc deve aceitar a poltica de privacidade")),Object.keys(Q).forEach(D=>{Q[D]||delete Q[D]}),g(Q),Object.keys(Q).length===0},R=async Q=>{if(Q.preventDefault(),!!I())try{await a.mutateAsync({email:l.email,username:l.username,password:l.password}),r("/dashboard")}catch(D){console.error("Registration failed:",D)}},O=Q=>{const{name:D,value:B,type:$,checked:z}=Q.target;u(K=>({...K,[D]:$==="checkbox"?z:B})),h[D]&&g(K=>({...K,[D]:""})),D==="password"&&C(B)},P=Q=>{switch(Q){case 0:case 1:return{label:"Muito fraca",color:"text-red-500"};case 2:return{label:"Fraca",color:"text-orange-500"};case 3:return{label:"Mdia",color:"text-yellow-500"};case 4:return{label:"Forte",color:"text-green-500"};case 5:return{label:"Muito forte",color:"text-green-600"};default:return{label:"",color:""}}},G=a.isPending;return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-primary-100 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto h-20 w-20 rounded-2xl bg-white dark:bg-gray-800 shadow-lg flex items-center justify-center mb-6 p-3",children:e.jsx("img",{src:"/images/logos/hw-icon.png",alt:"HOLD Wallet Logo",className:"h-16 w-16 object-contain"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:n("auth.register","Criar Conta")}),e.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-300",children:"Registre-se na HOLD Wallet e comece a negociar"})]}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:R,children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 space-y-4",children:[a.error&&e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-red-400 mr-2",children:""}),e.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:a.error.message||"Erro no registro"})]})}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:n("auth.username","Nome de usurio")}),e.jsx("input",{id:"username",name:"username",type:"text",autoComplete:"username",required:!0,className:`mt-1 block w-full px-3 py-2 border rounded-lg shadow-sm placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500 ${h.username?"border-red-300 dark:border-red-600 focus:border-red-500":"border-gray-300 dark:border-gray-600 focus:border-primary-500"}`,placeholder:"joaosilva",value:l.username,onChange:O}),h.username&&e.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:h.username})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:n("auth.email","E-mail")}),e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:`mt-1 block w-full px-3 py-2 border rounded-lg shadow-sm placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500 ${h.email?"border-red-300 dark:border-red-600 focus:border-red-500":"border-gray-300 dark:border-gray-600 focus:border-primary-500"}`,placeholder:"joao@exemplo.com",value:l.email,onChange:O}),h.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:h.email})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:n("auth.password","Senha")}),e.jsxs("div",{className:"mt-1 relative",children:[e.jsx("input",{id:"password",name:"password",type:p?"text":"password",autoComplete:"new-password",required:!0,className:`block w-full px-3 py-2 pr-10 border rounded-lg shadow-sm placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500 ${h.password?"border-red-300 dark:border-red-600 focus:border-red-500":"border-gray-300 dark:border-gray-600 focus:border-primary-500"}`,placeholder:"",value:l.password,onChange:O}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>b(!p),children:p?e.jsx($r,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):e.jsx(lr,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),l.password&&e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"flex-1 bg-gray-200 dark:bg-gray-600 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${v<=2?"bg-red-500":v<=3?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(v/5*100,100)}%`}})}),e.jsx("span",{className:`text-xs font-medium ${P(v).color}`,children:P(v).label})]}),e.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Use maiscula, minscula, nmero e smbolos"})]}),h.password&&e.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:h.password})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:n("auth.confirmPassword","Confirmar Senha")}),e.jsxs("div",{className:"mt-1 relative",children:[e.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:f?"text":"password",autoComplete:"new-password",required:!0,className:`block w-full px-3 py-2 pr-10 border rounded-lg shadow-sm placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500 ${h.confirmPassword?"border-red-300 dark:border-red-600 focus:border-red-500":"border-gray-300 dark:border-gray-600 focus:border-primary-500"}`,placeholder:"",value:l.confirmPassword,onChange:O}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>w(!f),children:f?e.jsx($r,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):e.jsx(lr,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),h.confirmPassword&&e.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:h.confirmPassword})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{id:"acceptTerms",name:"acceptTerms",type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded mt-1",checked:l.acceptTerms,onChange:O}),e.jsxs("label",{htmlFor:"acceptTerms",className:"ml-2 block text-sm text-gray-700 dark:text-gray-300",children:["Eu aceito os"," ",e.jsx(St,{to:"/terms",className:"text-primary-600 hover:text-primary-500",target:"_blank",children:"Termos de Uso"})," ","*"]})]}),h.acceptTerms&&e.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:h.acceptTerms}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{id:"acceptPrivacy",name:"acceptPrivacy",type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded mt-1",checked:l.acceptPrivacy,onChange:O}),e.jsxs("label",{htmlFor:"acceptPrivacy",className:"ml-2 block text-sm text-gray-700 dark:text-gray-300",children:["Eu aceito a"," ",e.jsx(St,{to:"/privacy",className:"text-primary-600 hover:text-primary-500",target:"_blank",children:"Poltica de Privacidade"})," ","*"]})]}),h.acceptPrivacy&&e.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:h.acceptPrivacy}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{id:"acceptMarketing",name:"acceptMarketing",type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded mt-1",checked:l.acceptMarketing,onChange:O}),e.jsxs("label",{htmlFor:"acceptMarketing",className:"ml-2 block text-sm text-gray-700 dark:text-gray-300",children:["Desejo receber e-mails promocionais e newsletters ",e.jsx("span",{className:"text-gray-400",children:"(opcional)"})]})]})]}),e.jsx("button",{type:"submit",disabled:G,className:"w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:G?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n("auth.registering","Criando conta...")]}):n("auth.register","Criar Conta")})]}),e.jsx("div",{className:"text-center",children:e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:["J tem uma conta?"," ",e.jsx(St,{to:"/login",className:"font-medium text-primary-600 hover:text-primary-500 dark:text-primary-400",children:n("auth.login","Entrar")})]})})]})]})})},p1=()=>{const{t:n}=cr(),r=l1(),a=c1(),[l,u]=j.useState("request"),[h,g]=j.useState({email:""}),[p,b]=j.useState({token:"",newPassword:"",confirmPassword:""}),[f,w]=j.useState({}),[v,k]=j.useState(!1),[A,C]=j.useState(!1),I=new URLSearchParams(window.location.search).get("token");j.useState(()=>{I&&(b(K=>({...K,token:I})),u("reset"))});const R=K=>K?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(K)?"":n("validation.emailInvalid","E-mail invlido"):n("validation.emailRequired","E-mail  obrigatrio"),O=K=>K?K.length<8?n("validation.passwordTooShort","Senha deve ter pelo menos 8 caracteres"):/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(K)?"":n("validation.passwordWeak","Senha deve conter maiscula, minscula e nmero"):n("validation.passwordRequired","Senha  obrigatria"),P=()=>{const K={};return K.email=R(h.email),Object.keys(K).forEach(re=>{K[re]||delete K[re]}),w(K),Object.keys(K).length===0},G=()=>{const K={};return p.token||(K.token=n("validation.tokenRequired","Token de recuperao  obrigatrio")),K.newPassword=O(p.newPassword),p.confirmPassword?p.newPassword!==p.confirmPassword&&(K.confirmPassword=n("validation.passwordMismatch","Senhas no coincidem")):K.confirmPassword=n("validation.confirmPasswordRequired","Confirmao de senha  obrigatria"),Object.keys(K).forEach(re=>{K[re]||delete K[re]}),w(K),Object.keys(K).length===0},Q=async K=>{if(K.preventDefault(),!!P())try{await r.mutateAsync(h.email),u("success")}catch(re){w({email:re.message||"Erro ao enviar e-mail de recuperao"})}},D=async K=>{if(K.preventDefault(),!!G())try{await a.mutateAsync({token:p.token,newPassword:p.newPassword}),u("success")}catch(re){w({token:re.message||"Token invlido ou expirado"})}},B=K=>{const{name:re,value:F}=K.target;g(X=>({...X,[re]:F})),f[re]&&w(X=>({...X,[re]:""}))},$=K=>{const{name:re,value:F}=K.target;b(X=>({...X,[re]:F})),f[re]&&w(X=>({...X,[re]:""}))},z=r.isPending||a.isPending;return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-primary-100 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"mx-auto h-16 w-16 rounded-full bg-gradient-to-r from-primary-500 to-primary-600 flex items-center justify-center mb-4",children:[l==="success"&&e.jsx(Pe,{className:"h-8 w-8 text-white"}),l==="reset"&&e.jsx(Or,{className:"h-8 w-8 text-white"}),l==="request"&&e.jsx(Ed,{className:"h-8 w-8 text-white"})]}),e.jsxs("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:[l==="request"&&n("auth.forgotPassword","Recuperar Senha"),l==="reset"&&n("auth.resetPassword","Redefinir Senha"),l==="success"&&n("auth.success","Sucesso!")]}),e.jsxs("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-300",children:[l==="request"&&"Digite seu e-mail para receber instrues de recuperao",l==="reset"&&"Digite sua nova senha",l==="success"&&"Operao realizada com sucesso"]})]}),l==="request"&&e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:Q,children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 space-y-4",children:[f.email&&e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Nr,{className:"w-4 h-4 text-red-400 mr-2"}),e.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:f.email})]})}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:n("auth.email","E-mail")}),e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:`mt-1 block w-full px-3 py-2 border rounded-lg shadow-sm placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500 ${f.email?"border-red-300 dark:border-red-600 focus:border-red-500":"border-gray-300 dark:border-gray-600 focus:border-primary-500"}`,placeholder:"seu@email.com",value:h.email,onChange:B})]}),e.jsx("button",{type:"submit",disabled:z,className:"w-full flex justify-center items-center py-2 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:z?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Enviando..."]}):"Enviar E-mail de Recuperao"})]}),e.jsx("div",{className:"text-center",children:e.jsx(St,{to:"/login",className:"text-sm text-primary-600 hover:text-primary-500 dark:text-primary-400",children:" Voltar ao login"})})]}),l==="reset"&&e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:D,children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 space-y-4",children:[(f.token||f.newPassword||f.confirmPassword)&&e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Nr,{className:"w-4 h-4 text-red-400 mr-2"}),e.jsx("div",{className:"text-sm text-red-600 dark:text-red-400",children:f.token||f.newPassword||f.confirmPassword})]})}),!I&&e.jsxs("div",{children:[e.jsx("label",{htmlFor:"token",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Token de Recuperao"}),e.jsx("input",{id:"token",name:"token",type:"text",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"Token do e-mail",value:p.token,onChange:$}),e.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Verifique seu e-mail pelo token de recuperao"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Nova Senha"}),e.jsxs("div",{className:"mt-1 relative",children:[e.jsx("input",{id:"newPassword",name:"newPassword",type:v?"text":"password",required:!0,className:"block w-full px-3 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"",value:p.newPassword,onChange:$}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>k(!v),children:v?e.jsx($r,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):e.jsx(lr,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),e.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Mnimo 8 caracteres com maiscula, minscula e nmero"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Confirmar Nova Senha"}),e.jsxs("div",{className:"mt-1 relative",children:[e.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:A?"text":"password",required:!0,className:"block w-full px-3 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"",value:p.confirmPassword,onChange:$}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>C(!A),children:A?e.jsx($r,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):e.jsx(lr,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]})]}),e.jsx("button",{type:"submit",disabled:z,className:"w-full flex justify-center items-center py-2 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:z?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Redefinindo..."]}):"Redefinir Senha"})]}),e.jsx("div",{className:"text-center",children:e.jsx(St,{to:"/login",className:"text-sm text-primary-600 hover:text-primary-500 dark:text-primary-400",children:" Voltar ao login"})})]}),l==="success"&&e.jsx("div",{className:"mt-8 space-y-6",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 space-y-4 text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center mb-4",children:e.jsx(Pe,{className:"h-8 w-8 text-green-600 dark:text-green-400"})}),l==="success"&&r.isSuccess&&e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"E-mail Enviado!"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Verifique sua caixa de entrada e clique no link para redefinir sua senha."})]}),l==="success"&&a.isSuccess&&e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Senha Redefinida!"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Sua senha foi alterada com sucesso. Voc pode fazer login com sua nova senha."})]}),e.jsx(St,{to:"/login",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-lg text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Fazer Login"})]})})]})})},Jr={all:["wallets"],lists:()=>[...Jr.all,"list"],list:n=>[...Jr.lists(),n],details:()=>[...Jr.all,"detail"],detail:n=>[...Jr.details(),n],balance:n=>[...Jr.detail(n),"balance"],balancesByNetwork:n=>[...Jr.detail(n),"balances-by-network"],transactions:n=>[...Jr.detail(n),"transactions"],stats:(n,r)=>[...Jr.detail(n),"stats",r]};function b1(){return Hr({queryKey:Jr.list(),queryFn:()=>Fd.getWallets(),staleTime:30*1e3,placeholderData:[]})}function ri(n){return ku({queries:n.map(r=>({queryKey:Jr.balancesByNetwork(r),queryFn:()=>Fd.getWalletBalancesByNetwork(r),staleTime:60*1e3,gcTime:10*60*1e3,refetchInterval:120*1e3}))})}const _i="crypto_prices_cache",Xl=5*60*1e3;class la{static getCache(){try{const r=localStorage.getItem(_i);return r?JSON.parse(r):{}}catch{return{}}}static setCache(r){try{localStorage.setItem(_i,JSON.stringify(r))}catch(a){console.warn("[PriceCache] Failed to save cache to localStorage:",a)}}static getPrice(r,a="USD"){const l=this.getCache(),u=a.toUpperCase(),h=r.toUpperCase(),g=l[u]?.[h];return g&&Date.now()-g.timestamp<Xl?(console.log(`[PriceCache] Cache hit for ${h} in ${u}:`,g.price),g):null}static getPrices(r,a="USD"){const l={};for(const u of r)l[u.toUpperCase()]=this.getPrice(u,a);return l}static setPrice(r,a,l="USD"){const u=this.getCache(),h=l.toUpperCase(),g=r.toUpperCase();u[h]??={},u[h][g]={price:a,timestamp:Date.now(),currency:h},this.setCache(u),console.log(`[PriceCache] Cached ${g} = ${a} ${h}`)}static setPrices(r,a="USD"){for(const[l,u]of Object.entries(r))this.setPrice(l,u,a)}static clear(){try{localStorage.removeItem(_i),console.log("[PriceCache] Cache cleared")}catch(r){console.warn("[PriceCache] Failed to clear cache:",r)}}static getStatus(r="USD"){const a=this.getCache(),l=r.toUpperCase(),u=a[l]||{},h=Date.now();let g=0,p=0;for(const b of Object.values(u))h-b.timestamp<Xl?g++:p++;return{cached:g,expired:p}}}class y1{static requestQueue=new Map;static lastRequestTime=new Map;static MIN_REQUEST_INTERVAL=5e3;static async getPrice(r,a="USD"){const l=r.toUpperCase(),u=a.toUpperCase(),h=`${l}_${u}`,g=la.getPrice(l,a);if(g)return console.log(`[PriceService] Cache hit for ${l}:`,g.price),{price:g.price,change_24h:0};if(this.requestQueue.has(h))return console.log(`[PriceService] Request in progress for ${l}, waiting...`),(await this.requestQueue.get(h))?.[l]||{price:0};const p=this.lastRequestTime.get(h)||0;Date.now()-p<this.MIN_REQUEST_INTERVAL&&(console.log(`[PriceService] Rate limit: waiting ${this.MIN_REQUEST_INTERVAL}ms between requests`),await new Promise(f=>setTimeout(f,this.MIN_REQUEST_INTERVAL-(Date.now()-p))));const b=this.fetchFromBackend([l],a).then(f=>(this.requestQueue.delete(h),this.lastRequestTime.set(h,Date.now()),f));this.requestQueue.set(h,b);try{return(await b)?.[l]||{price:0}}catch(f){return console.error(`[PriceService] Error fetching price for ${l}:`,f),{price:0}}}static async getPrices(r,a="USD"){const l=r.map(p=>p.toUpperCase()),u={},h=[];for(const p of l){const b=la.getPrice(p,a);b?u[p]={price:b.price}:h.push(p)}if(h.length===0)return console.log("[PriceService] All prices in cache, returning immediately"),u;console.log(`[PriceService] Fetching ${h.length} prices from backend`);const g=await this.fetchFromBackend(h,a);return{...u,...g}}static async fetchFromBackend(r,a="USD"){if(r.length===0)return{};const l=r.join(","),u=a.toLowerCase(),h=xt.create({baseURL:Gt.api.baseUrl,timeout:1e4,headers:{"Content-Type":"application/json"}});try{console.log(`[PriceService] Fetching from /api/v1/prices/batch: ${l}`);const p=(await h.get("/api/v1/prices/batch",{params:{symbols:l,fiat:u}})).data;if(p.prices&&typeof p.prices=="object"){const b=this.parseResponse(p.prices,a);return console.log("[PriceService] Prices fetched successfully:",b),this.cacheResults(b,a),b}return console.warn("[PriceService] Response has no prices:",p),{}}catch(g){return xt.isAxiosError(g)?console.error(`[PriceService] Failed to fetch prices (${g.response?.status}):`,g.message):console.error("[PriceService] Failed to fetch prices:",g),{}}}static parseResponse(r,a){const l={};for(const[u,h]of Object.entries(r)){const g=u.toUpperCase(),p=h;l[g]={price:p.price||p.value||0,change_24h:p.change_24h||0,high_24h:p.high_24h||0,low_24h:p.low_24h||0}}return l}static cacheResults(r,a){for(const[l,u]of Object.entries(r))la.setPrice(l,u.price,a)}static clearCache(){la.clear(),this.requestQueue.clear(),this.lastRequestTime.clear()}static getStatus(){return{queuedRequests:this.requestQueue.size,lastRequests:Array.from(this.lastRequestTime.entries())}}}function Ja(n,r="USD"){const[a,l]=j.useState({}),[u,h]=j.useState(!1),[g,p]=j.useState(null);j.useEffect(()=>{const f={};for(const w of n){const v=la.getPrice(w,r);v&&(f[w.toUpperCase()]={price:v.price,change_24h:0,high_24h:0,low_24h:0})}Object.keys(f).length>0&&(console.log("[usePrices] Loading cached prices:",Object.keys(f)),l(f))},[n.join(","),r]);const b=j.useCallback(async()=>{if(!n||n.length===0){l({});return}h(!0),p(null);try{console.log("[usePrices] Fetching prices for:",n,"currency:",r);const f=await y1.getPrices(n,r),w={};for(const[k,A]of Object.entries(f)){const C=A;w[k]={price:C.price||0,change_24h:C.change_24h||0,high_24h:C.high_24h||0,low_24h:C.low_24h||0}}console.log("[usePrices] Prices fetched successfully:",Object.keys(w)),l(w);const v={};for(const[k,A]of Object.entries(w))v[k]=A.price;la.setPrices(v,r)}catch(f){const w=f instanceof Error?f:new Error("Unknown error occurred");p(w),console.error("[usePrices] Error fetching prices:",w),l({})}finally{h(!1)}},[n.join(","),r]);return j.useEffect(()=>{b();const f=setInterval(()=>{console.log("[usePrices] Auto-refreshing prices..."),b()},5e3);return()=>clearInterval(f)},[b]),{prices:a,loading:u,error:g}}const w1={BTC:"Bitcoin",ETH:"Ethereum",USDT:"Tether",USDC:"USD Coin",XRP:"Ripple",ADA:"Cardano",SOL:"Solana",DOT:"Polkadot",LINK:"Chainlink",MATIC:"Polygon",BNB:"Binance Coin",LTC:"Litecoin",DOGE:"Dogecoin",AVAX:"Avalanche",SHIB:"Shiba Inu"},Vd=(n=[],r="USD")=>{const{prices:a,loading:l,error:u}=Ja(n,r);return{prices:j.useMemo(()=>{const g={};for(const p of n){const b=p.toUpperCase(),f=a[b];if(f){const w=f.price||0,v=f.change_24h||0;g[b]={symbol:b,name:w1[b]||b,price:w,priceUSD:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:w<1?6:2,maximumFractionDigits:w<1?6:2}).format(w),change24h:v,change24hPercent:`${v>=0?"+":""}${v.toFixed(2)}%`,updatedAt:new Date}}}return g},[a,n]),isLoading:l,isError:!!u,error:u,refetch:()=>{}}},v1="/assets/base-BAsqJXxQ.png",N1={BTC:"btc",ETH:"eth",USDT:"usdt",USDC:"usdc",BNB:"bnb",MATIC:"matic",TRX:"trx",BASE:"base",SOL:"sol",LTC:"ltc",DOGE:"doge",ADA:"ada",AVAX:"avax",DOT:"dot",LINK:"link",SHIB:"shib",XRP:"xrp",DAI:"dai",BUSD:"busd"},k1={base:v1},or=({symbol:n,size:r=24,className:a="",...l})=>{const u=N1[n?.toUpperCase()]||"btc",h=k1[u],g=`https://raw.githubusercontent.com/spothq/cryptocurrency-icons/master/svg/color/${u}.svg`,p=h||g,[b,f]=j.useState(p);return j.useEffect(()=>{f(p)},[p]),e.jsx("img",{src:b,alt:`${n} logo`,width:r,height:r,className:`${a} object-contain`,onError:()=>{if(h&&b===h){f(g);return}f('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"%3E%3Ccircle cx="16" cy="16" r="16" fill="%236366f1"/%3E%3Ctext x="16" y="21" text-anchor="middle" fill="white" font-size="14" font-weight="bold"%3E'+encodeURIComponent(n?.[0]||"?")+"%3C/text%3E%3C/svg%3E")},...l})},sa={USD:1,BRL:5,EUR:.92},xn={convert:(n,r="USD",a="BRL")=>{if(r===a)return n;const l=sa[r]||1,u=sa[a]||1;return(r==="USD"?n:n/l)*u},getRate:(n="USD",r="BRL")=>{if(n===r)return 1;const a=sa[n]||1;return(sa[r]||1)/a},updateRates:n=>{Object.assign(sa,n)},getRates:()=>({...sa})},en=qn()(Gn((n,r)=>({currency:"USD",setCurrency:a=>n({currency:a}),convertFromBRL:a=>{const l=r().currency;return xn.convert(a,"BRL",l)},convertToBRL:(a,l)=>{const u=l||r().currency;return xn.convert(a,u,"BRL")},formatCurrency:(a,l)=>{const u=l||r().currency;let h=a,g="USD";u==="BRL"?(h=xn.convert(a,"USD","BRL"),g="BRL"):u==="EUR"&&(h=xn.convert(a,"USD","EUR"),g="EUR");const p={USD:{locale:"en-US",code:"USD"},BRL:{locale:"pt-BR",code:"BRL"},EUR:{locale:"de-DE",code:"EUR"}},{locale:b,code:f}=p[g];return new Intl.NumberFormat(b,{style:"currency",currency:f}).format(h)}}),{name:"currency-store"})),j1=()=>{const n=mr(),{data:r,isLoading:a}=Ud(),{data:l,isLoading:u}=b1(),{formatCurrency:h,currency:g}=en(),[p,b]=j.useState(new Set),f=K=>K.includes("_usdt")||K.includes("_USDT")?"USDT":K.includes("_usdc")||K.includes("_USDC")?"USDC":{bitcoin:"BTC",ethereum:"ETH",polygon:"MATIC",bsc:"BNB",tron:"TRX",base:"BASE",solana:"SOL",litecoin:"LTC",dogecoin:"DOGE",cardano:"ADA",avalanche:"AVAX",polkadot:"DOT",chainlink:"LINK",shiba:"SHIB",xrp:"XRP"}[K]||K.toUpperCase(),w=j.useMemo(()=>["BTC","ETH","USDT","USDC","SOL","BNB","MATIC","ADA","AVAX","TRX","BASE","LTC","DOGE","DOT","LINK","SHIB","XRP"],[]),{prices:v,isLoading:k}=Vd(w,g);j.useEffect(()=>{console.log("[DashboardPage] marketPrices updated:",Object.keys(v),v)},[v]);const A=j.useMemo(()=>l?.map(K=>K.id)||[],[l]),C=ri(A),T=j.useMemo(()=>{const K=localStorage.getItem("wallet_network_preferences"),re={bitcoin:!0,ethereum:!0,polygon:!0,bsc:!0,tron:!0,base:!0,solana:!0,litecoin:!0,dogecoin:!0,cardano:!0,avalanche:!0,polkadot:!0,chainlink:!0,shiba:!0,xrp:!0};return K?{...re,...JSON.parse(K)}:re},[]),I=j.useMemo(()=>{const K=localStorage.getItem("wallet_show_all_networks");return K!==null?K==="true":!0},[]),R=j.useMemo(()=>{if(!l||!Array.isArray(l))return[];if(I)return l;const K=l.filter(re=>{if(!re||!re.coin)return!1;const F=re.coin.toLowerCase();return T[F]});return K.length===0&&l.length>0?l:K},[l,T,I]),O=j.useMemo(()=>{let K=0;return C.forEach(re=>{re.data&&Object.entries(re.data).forEach(([F,X])=>{const ae=parseFloat(X.balance||"0"),H=f(F),me=v[H]?.price||parseFloat(X.price_usd||"0"),ie=ae*me;console.log(`[Dashboard] ${F} (${H}): balance=${ae}, price=${me}, total=${ie}`),K+=ie})}),console.log("[Dashboard] totalBalanceUSD:",K),K},[C,v,g]),P=K=>{b(re=>{const F=new Set(re);return F.has(K)?F.delete(K):F.add(K),F})},G=()=>{n("/p2p/create-order")},Q=()=>{n("/wallet")},D=()=>{n("/wallet")},B=()=>{n("/chat")},$=()=>{n("/wallet")},z=K=>[{network:"bitcoin",name:"Bitcoin",symbol:"BTC"},{network:"ethereum",name:"Ethereum",symbol:"ETH"},{network:"polygon",name:"Polygon",symbol:"MATIC"},{network:"bsc",name:"BSC",symbol:"BNB"},{network:"tron",name:"Tron",symbol:"TRX"},{network:"base",name:"Base",symbol:"BASE"},{network:"solana",name:"Solana",symbol:"SOL"},{network:"litecoin",name:"Litecoin",symbol:"LTC"},{network:"dogecoin",name:"Dogecoin",symbol:"DOGE"},{network:"cardano",name:"Cardano",symbol:"ADA"},{network:"avalanche",name:"Avalanche",symbol:"AVAX"},{network:"polkadot",name:"Polkadot",symbol:"DOT"},{network:"chainlink",name:"Chainlink",symbol:"LINK"},{network:"shiba",name:"Shiba Inu",symbol:"SHIB"},{network:"xrp",name:"XRP",symbol:"XRP"}];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-100 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900",children:[e.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-blue-500 rounded-full mix-blend-screen filter blur-3xl opacity-5 dark:opacity-10"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-purple-500 rounded-full mix-blend-screen filter blur-3xl opacity-5 dark:opacity-10"})]}),e.jsxs("div",{className:"relative z-10 p-4 md:p-6 lg:p-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-1.5 h-12 bg-gradient-to-b from-blue-500 via-purple-500 to-pink-500 rounded-full"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-black bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 dark:from-blue-400 dark:via-purple-400 dark:to-pink-400 bg-clip-text text-transparent",children:"Dashboard"}),e.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:[new Date().toLocaleDateString("pt-BR"),r&&`  Bem-vindo de volta, ${r.username}`]})]})]})}),!a&&!u&&e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 mb-6",children:[e.jsxs("div",{className:"group relative bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg p-4 overflow-hidden hover:border-blue-400 dark:hover:border-blue-500 transition-all duration-300",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 dark:from-blue-500/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),e.jsx("div",{className:"absolute -right-8 -top-8 w-16 h-16 bg-blue-500/10 dark:bg-blue-500/20 rounded-full blur-xl group-hover:bg-blue-500/20 dark:group-hover:bg-blue-500/40 transition-all"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs font-semibold text-slate-600 dark:text-slate-400 uppercase tracking-widest mb-1",children:"Saldo Total"}),e.jsx("p",{className:"text-2xl font-black text-slate-900 dark:text-white",children:h(O)}),e.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-500 mt-1",children:[R?.length||0," carteira(s)"]})]}),e.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform",children:e.jsx(ss,{className:"w-5 h-5 text-white"})})]}),e.jsx("div",{className:"h-0.5 w-full bg-gradient-to-r from-blue-500 to-blue-600 rounded-full"})]})]}),e.jsxs("div",{className:"group relative bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg p-4 overflow-hidden hover:border-purple-400 dark:hover:border-purple-500 transition-all duration-300",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/5 dark:from-purple-500/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),e.jsx("div",{className:"absolute -right-8 -top-8 w-16 h-16 bg-purple-500/10 dark:bg-purple-500/20 rounded-full blur-xl group-hover:bg-purple-500/20 dark:group-hover:bg-purple-500/40 transition-all"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs font-semibold text-slate-600 dark:text-slate-400 uppercase tracking-widest mb-1",children:"Ordens Ativas"}),e.jsx("p",{className:"text-2xl font-black text-slate-900 dark:text-white",children:"0"}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-500 mt-1",children:"Pronto para negociar"})]}),e.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-purple-500 to-pink-600 flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform",children:e.jsx(er,{className:"w-5 h-5 text-white"})})]}),e.jsx("div",{className:"h-0.5 w-full bg-gradient-to-r from-purple-500 to-pink-500 rounded-full"})]})]}),e.jsxs("div",{className:"group relative bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg p-4 overflow-hidden hover:border-amber-400 dark:hover:border-amber-500 transition-all duration-300",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-500/5 dark:from-amber-500/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),e.jsx("div",{className:"absolute -right-8 -top-8 w-16 h-16 bg-amber-500/10 dark:bg-amber-500/20 rounded-full blur-xl group-hover:bg-amber-500/20 dark:group-hover:bg-amber-500/40 transition-all"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs font-semibold text-slate-600 dark:text-slate-400 uppercase tracking-widest mb-1",children:"Reputao"}),e.jsx("p",{className:"text-2xl font-black text-slate-900 dark:text-white",children:r?.isVerified?"100%":"Novo"}),e.jsx("p",{className:`text-xs mt-1 font-semibold ${r?.isVerified?"text-green-600 dark:text-green-400":"text-blue-600 dark:text-blue-400"}`,children:r?.isVerified?"Verificado":"Complete perfil"})]}),e.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-amber-500 to-orange-600 flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform",children:e.jsx(os,{className:"w-5 h-5 text-white"})})]}),e.jsx("div",{className:"h-0.5 w-full bg-gradient-to-r from-amber-500 to-orange-500 rounded-full"})]})]}),e.jsxs("div",{className:"group relative bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg p-4 overflow-hidden hover:border-orange-400 dark:hover:border-orange-500 transition-all duration-300",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-500/5 dark:from-orange-500/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),e.jsx("div",{className:"absolute -right-8 -top-8 w-16 h-16 bg-orange-500/10 dark:bg-orange-500/20 rounded-full blur-xl group-hover:bg-orange-500/20 dark:group-hover:bg-orange-500/40 transition-all"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs font-semibold text-slate-600 dark:text-slate-400 uppercase tracking-widest mb-1",children:"Bitcoin"}),e.jsx("p",{className:"text-xl font-black text-slate-900 dark:text-white",children:v.BTC?v.BTC.priceUSD:"$--"}),e.jsxs("p",{className:`text-xs font-semibold mt-1 ${v.BTC&&v.BTC.change24h>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[v.BTC&&v.BTC.change24h>=0?"":"",v.BTC?v.BTC.change24hPercent:"--%"]})]}),e.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-orange-500 to-orange-600 flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform",children:e.jsx(To,{className:"w-5 h-5 text-white"})})]}),e.jsx("div",{className:"h-0.5 w-full bg-gradient-to-r from-orange-500 to-amber-500 rounded-full"})]})]})]}),!a&&!u&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg overflow-hidden hover:border-blue-400 dark:hover:border-blue-500 transition-all",children:[e.jsxs("div",{className:"px-5 py-4 border-b border-slate-200 dark:border-slate-700 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-500/20 rounded-lg",children:e.jsx(Ht,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-slate-900 dark:text-white text-sm",children:"Suas Carteiras"}),e.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Gerencie suas criptomoedas"})]})]}),e.jsx(Sr,{className:"w-4 h-4 text-slate-400 dark:text-slate-500 hover:text-blue-600 dark:hover:text-blue-400 cursor-pointer transition-colors"})]}),e.jsx("div",{className:"p-4",children:!R||R.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"w-12 h-12 mx-auto bg-slate-200 dark:bg-slate-700 rounded-full flex items-center justify-center mb-3",children:e.jsx(Ht,{className:"w-6 h-6 text-slate-400 dark:text-slate-500"})}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm mb-3",children:"Nenhuma carteira criada"}),e.jsxs("button",{onClick:$,className:"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white px-4 py-2 rounded-lg font-medium text-sm transition-all inline-flex items-center gap-2 shadow-lg",children:[e.jsx(Sr,{className:"w-4 h-4"}),"Criar Carteira"]})]}):e.jsx("div",{className:"space-y-2",children:R.map(K=>{const re=p.has(K.id),F=z();return e.jsxs("div",{className:"bg-slate-100 dark:bg-slate-700/50 border border-slate-200 dark:border-slate-600 rounded-lg overflow-hidden hover:border-blue-400 dark:hover:border-blue-500 transition-all",children:[e.jsxs("button",{onClick:()=>P(K.id),className:"w-full flex items-center justify-between p-3 hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[e.jsx("div",{className:"w-10 h-10 flex items-center justify-center rounded-lg bg-gradient-to-br from-blue-100 to-blue-200 dark:from-blue-500/20 dark:to-blue-600/20",children:e.jsx(Ht,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h4",{className:"font-semibold text-slate-900 dark:text-white text-xs",children:K.name}),e.jsxs("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:[K.type,"  ",F.length," redes"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"text-right",children:(()=>{const X=A.indexOf(K.id),ae=C[X],H=ae?.data;if(ae?.isLoading)return e.jsxs("div",{className:"animate-pulse space-y-1",children:[e.jsx("div",{className:"h-3 bg-slate-600 rounded w-16"}),e.jsx("div",{className:"h-2 bg-slate-600 rounded w-12"})]});let ve=0,me=!1;return H&&Object.entries(H).forEach(([ie,je])=>{const se=parseFloat(je.balance||"0"),le=f(ie),de=v[le],ge=de?.price||parseFloat(je.price_usd||"0"),Ce=de===void 0||je.price_loading||!1,Ie=se*ge;ve+=Ie,Ce&&(me=!0)}),e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"font-bold text-white text-xs",children:me?e.jsx("span",{className:"animate-pulse",children:"Atualizando..."}):h(ve)}),e.jsx("p",{className:"text-xs text-slate-400",children:"Saldo"})]})})()}),e.jsx("div",{className:"text-slate-500",children:re?e.jsx(Fs,{className:"w-4 h-4"}):e.jsx(ka,{className:"w-4 h-4"})})]})]}),re&&e.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-600 bg-slate-50 dark:bg-slate-700/30 p-3",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:F.filter(X=>I?!0:T[X.network]).map(X=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 hover:border-blue-400 dark:hover:border-blue-500 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-8 h-8 flex items-center justify-center rounded-lg bg-gradient-to-br from-blue-100 to-blue-200 dark:from-blue-500/20 dark:to-blue-600/20",children:e.jsx(or,{symbol:X.symbol,size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-slate-900 dark:text-white text-xs",children:X.name}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:X.symbol})]})]}),e.jsx("div",{className:"text-right",children:(()=>{const ae=A.indexOf(K.id),H=C[ae],me=H?.data?.[X.network];if(H?.isLoading)return e.jsxs("div",{className:"animate-pulse space-y-1",children:[e.jsx("div",{className:"h-2 bg-slate-300 dark:bg-slate-600 rounded w-20"}),e.jsx("div",{className:"h-2 bg-slate-300 dark:bg-slate-600 rounded w-16 mt-1"})]});if(me){const ie=Number.parseFloat(me.balance||"0"),je=v[X.symbol],se=je?.price||Number.parseFloat(me.price_usd||"0"),le=je===void 0||!1,de=ie*se;return e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"font-semibold text-slate-900 dark:text-white text-xs",children:[ie.toFixed(6)," ",X.symbol]}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:le?e.jsx("span",{className:"animate-pulse",children:"Carregando preo..."}):h(de)})]})}return e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"font-semibold text-slate-900 dark:text-white text-xs",children:["0.000000 ",X.symbol]}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"R$ 0,00"})]})})()})]},X.network))}),e.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-200 dark:border-slate-600",children:[e.jsx("p",{className:"text-xs font-semibold text-slate-600 dark:text-slate-400 uppercase tracking-widest mb-2",children:"Stablecoins"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:(()=>{const X=A.indexOf(K.id),H=C[X]?.data||{},ve=[];for(const[me,ie]of Object.entries(H)){const je=String(me).toLowerCase();if(je.includes("usdt")){const se=je.split("_")[0]?.toUpperCase()??"UNKNOWN";ve.push({id:me,symbol:"USDT",name:`USDT (${se})`,balance:ie,color:"green"})}if(je.includes("usdc")){const se=je.split("_")[0]?.toUpperCase()??"UNKNOWN";ve.push({id:me,symbol:"USDC",name:`USDC (${se})`,balance:ie,color:"blue"})}}return ve.length===0?e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 col-span-full",children:"Nenhum stablecoin encontrado"}):ve.map(me=>{const ie="bg-green-100 dark:bg-green-600/20",je="bg-blue-100 dark:bg-blue-600/20",se="border-green-300 dark:border-green-600/50 hover:border-green-400 dark:hover:border-green-500",le="border-blue-300 dark:border-blue-600/50 hover:border-blue-400 dark:hover:border-blue-500",de=me.color==="green"?ie:je,ge=me.color==="green"?se:le,Ce=Number.parseFloat(me.balance?.balance||"0"),fe=v[me.symbol]?.price??1,ye=Ce*fe;return e.jsxs("div",{className:`flex items-center justify-between p-3 ${de} rounded-lg border ${ge} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`w-8 h-8 flex items-center justify-center rounded-lg ${me.color==="green"?"bg-gradient-to-br from-green-100 to-green-200 dark:from-green-500/20 dark:to-green-600/20":"bg-gradient-to-br from-blue-100 to-blue-200 dark:from-blue-500/20 dark:to-blue-600/20"}`,children:e.jsx(or,{symbol:me.symbol,size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-slate-900 dark:text-white text-xs",children:me.symbol}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:me.name.split("(")[1]?.replace(")","")||me.symbol})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-semibold text-slate-900 dark:text-white text-xs",children:[Ce.toFixed(2)," ",me.symbol]}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:h(ye)})]})]},me.id)})})()})]})]})]},K.id)})})})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg overflow-hidden hover:border-emerald-400 dark:hover:border-emerald-500 transition-all",children:[e.jsxs("div",{className:"px-5 py-4 border-b border-slate-200 dark:border-slate-700 flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-emerald-100 dark:bg-emerald-500/20 rounded-lg",children:e.jsx(fp,{className:"w-4 h-4 text-emerald-600 dark:text-emerald-400"})}),e.jsx("h3",{className:"font-bold text-slate-900 dark:text-white text-sm",children:"Aes Rpidas"})]}),e.jsxs("div",{className:"p-3 space-y-2",children:[e.jsxs("button",{onClick:G,className:"w-full flex items-center gap-3 p-3 bg-blue-100 dark:bg-blue-600/20 hover:bg-blue-200 dark:hover:bg-blue-600/30 rounded-lg border border-blue-300 dark:border-blue-600/50 hover:border-blue-400 dark:hover:border-blue-500 transition-all group",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform",children:e.jsx(ss,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"text-left flex-1",children:[e.jsx("p",{className:"text-xs font-bold text-blue-900 dark:text-white",children:"P2P Trading"}),e.jsx("p",{className:"text-xs text-blue-700 dark:text-slate-400",children:"Criar ordem"})]}),e.jsx(ws,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})]}),e.jsxs("button",{onClick:Q,className:"w-full flex items-center gap-3 p-3 bg-green-100 dark:bg-green-600/20 hover:bg-green-200 dark:hover:bg-green-600/30 rounded-lg border border-green-300 dark:border-green-600/50 hover:border-green-400 dark:hover:border-green-500 transition-all group",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-green-500 to-green-600 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform",children:e.jsx(Pr,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"text-left flex-1",children:[e.jsx("p",{className:"text-xs font-bold text-green-900 dark:text-white",children:"Enviar"}),e.jsx("p",{className:"text-xs text-green-700 dark:text-slate-400",children:"Transferir cripto"})]}),e.jsx(ws,{className:"w-4 h-4 text-green-600 dark:text-green-400"})]}),e.jsxs("button",{onClick:D,className:"w-full flex items-center gap-3 p-3 bg-purple-100 dark:bg-purple-600/20 hover:bg-purple-200 dark:hover:bg-purple-600/30 rounded-lg border border-purple-300 dark:border-purple-600/50 hover:border-purple-400 dark:hover:border-purple-500 transition-all group",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform",children:e.jsx(ds,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"text-left flex-1",children:[e.jsx("p",{className:"text-xs font-bold text-purple-900 dark:text-white",children:"Receber"}),e.jsx("p",{className:"text-xs text-purple-700 dark:text-slate-400",children:"Endereo de depsito"})]}),e.jsx(ws,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"})]}),e.jsxs("button",{onClick:B,className:"w-full flex items-center gap-3 p-3 bg-orange-100 dark:bg-orange-600/20 hover:bg-orange-200 dark:hover:bg-orange-600/30 rounded-lg border border-orange-300 dark:border-orange-600/50 hover:border-orange-400 dark:hover:border-orange-500 transition-all group",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform",children:e.jsx(Vs,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"text-left flex-1",children:[e.jsx("p",{className:"text-xs font-bold text-orange-900 dark:text-white",children:"Chat"}),e.jsx("p",{className:"text-xs text-orange-700 dark:text-slate-400",children:"Negociar com outros"})]}),e.jsx(ws,{className:"w-4 h-4 text-orange-600 dark:text-orange-400"})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg overflow-hidden hover:border-rose-400 dark:hover:border-rose-500 transition-all",children:[e.jsxs("div",{className:"px-5 py-4 border-b border-slate-200 dark:border-slate-700 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-rose-100 dark:bg-rose-500/20 rounded-lg",children:e.jsx(er,{className:"w-4 h-4 text-rose-600 dark:text-rose-400"})}),e.jsx("h3",{className:"font-bold text-slate-900 dark:text-white text-sm",children:"Mercado"})]}),e.jsx("button",{onClick:async()=>{},disabled:k,className:"p-1 hover:bg-slate-200 dark:hover:bg-slate-700 rounded-lg transition-colors disabled:opacity-50",title:"Preos atualizando automaticamente",children:e.jsx(Ws,{className:`w-3.5 h-3.5 text-slate-600 dark:text-slate-400 ${k?"animate-spin":""}`})})]}),e.jsx("div",{className:"p-3 space-y-2",children:[{symbol:"BTC",name:"Bitcoin",color:"bg-orange-100 dark:bg-orange-600/20",border:"border-orange-300 dark:border-orange-600/50",text:"text-orange-900 dark:text-slate-200"},{symbol:"ETH",name:"Ethereum",color:"bg-blue-100 dark:bg-blue-600/20",border:"border-blue-300 dark:border-blue-600/50",text:"text-blue-900 dark:text-slate-200"},{symbol:"BNB",name:"BNB",color:"bg-yellow-100 dark:bg-yellow-600/20",border:"border-yellow-300 dark:border-yellow-600/50",text:"text-yellow-900 dark:text-slate-200"},{symbol:"SOL",name:"Solana",color:"bg-purple-100 dark:bg-purple-600/20",border:"border-purple-300 dark:border-purple-600/50",text:"text-purple-900 dark:text-slate-200"},{symbol:"USDT",name:"USDT",color:"bg-green-100 dark:bg-green-600/20",border:"border-green-300 dark:border-green-600/50",text:"text-green-900 dark:text-slate-200"}].map(K=>e.jsx("div",{className:`p-2.5 ${K.color} rounded-lg border ${K.border} hover:border-opacity-100 transition-all`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 rounded-lg bg-slate-300 dark:bg-slate-700 flex items-center justify-center",children:e.jsx(or,{symbol:K.symbol,size:20})}),e.jsx("p",{className:`text-xs font-bold ${K.text}`,children:K.name})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:`text-xs font-bold ${K.text}`,children:v?.[K.symbol]?.priceUSD||"$--"}),e.jsx("p",{className:`text-xs font-semibold ${(v?.[K.symbol]?.change24h??0)>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:v?.[K.symbol]?.change24hPercent||"--%"})]})]})},K.symbol))})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg overflow-hidden hover:border-cyan-400 dark:hover:border-cyan-500 transition-all",children:[e.jsxs("div",{className:"px-5 py-4 border-b border-slate-200 dark:border-slate-700 flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-cyan-100 dark:bg-cyan-500/20 rounded-lg",children:e.jsx(dt,{className:"w-4 h-4 text-cyan-600 dark:text-cyan-400"})}),e.jsx("h3",{className:"font-bold text-slate-900 dark:text-white text-sm",children:"Segurana"})]}),e.jsxs("div",{className:"p-4 space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3 p-2 bg-slate-100 dark:bg-slate-700/50 rounded-lg",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs font-semibold text-slate-900 dark:text-white",children:"2FA Ativado"}),e.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:r?.isVerified?"Verificado":"Pendente"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-2 bg-slate-100 dark:bg-slate-700/50 rounded-lg",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs font-semibold text-slate-900 dark:text-white",children:"Senha Forte"}),e.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Bem protegido"})]})]})]})]})]})]})]})]})};let C1=class{apiClient=Ne;authService=Xt;async createWallet(r){try{console.log("[WalletService]  POST /wallets/create with data:",r);const a=await this.apiClient.post("/wallets/create",r);return console.log("[WalletService]  Response received:",a.data),a.data}catch(a){console.error("[WalletService]  FULL Error object:",a),console.error("[WalletService]  Error type:",typeof a,a.constructor.name),console.error("[WalletService]  Error message:",a.message),console.error("[WalletService]  Error response:",{status:a.response?.status,statusText:a.response?.statusText,data:a.response?.data});const l=a.response?.data?.detail||a.response?.data?.message||a.response?.data?.error||a.message||"Erro ao criar carteira. Tente novamente.",u=new Error(l);throw u.status=a.response?.status,u.code=a.code,u.details=a.response?.data,u.originalError=a,u}}async restoreWallet(r){try{return(await this.apiClient.post("/wallets/restore",r)).data}catch(a){throw console.error("Error restoring wallet:",a),new Error(a.response?.data?.detail||"Erro ao restaurar carteira. Verifique a frase de recuperao.")}}async getWallets(){try{return(await this.apiClient.get("/wallets/")).data}catch(r){throw console.error("Error fetching wallets:",r),new Error(r.response?.data?.detail||"Erro ao carregar carteiras.")}}async getWallet(r){try{return(await this.apiClient.get(`/wallets/${r}`)).data}catch(a){throw console.error("Error fetching wallet:",a),a.response?.status===404?new Error("Carteira no encontrada."):new Error(a.response?.data?.detail||"Erro ao carregar carteira.")}}async updateWallet(r,a){try{return(await this.apiClient.put(`/wallets/${r}`,a)).data}catch(l){throw console.error("Error updating wallet:",l),l.response?.status===404?new Error("Carteira no encontrada."):new Error(l.response?.data?.detail||"Erro ao atualizar carteira.")}}async deleteWallet(r){try{await this.apiClient.delete(`/wallets/${r}`)}catch(a){throw console.error("Error deleting wallet:",a),a.response?.status===404?new Error("Carteira no encontrada."):new Error(a.response?.data?.detail||"Erro ao excluir carteira.")}}async createAddress(r,a="receiving",l){try{const u=new URLSearchParams({address_type:a,...l&&{network:l}}).toString();console.log(`[WalletService]  Creating address for wallet ${r} on network ${l||"auto"}`);const h=await this.apiClient.post(`/wallets/${r}/addresses?${u}`,{});return console.log(`[WalletService]  Address created: ${h.data.address.substring(0,10)}...`),h.data}catch(u){throw console.error("Error creating address:",u),new Error(u.response?.data?.detail||"Erro ao gerar novo endereo.")}}async getAddresses(r){try{return(await this.apiClient.get(`/wallets/${r}/addresses`)).data}catch(a){throw console.error("Error fetching addresses:",a),new Error(a.response?.data?.detail||"Erro ao carregar endereos.")}}async getNetworkAddress(r,a){try{console.log(`[WalletService]  Fetching ${a} address for wallet ${r}`);const u=(await this.apiClient.get(`/wallets/${r}/addresses`)).data.find(h=>h.network===a&&h.is_active);if(u)return console.log(`[WalletService]  Found existing ${a} address: ${u.address.substring(0,10)}...`),u.address;console.warn(`[WalletService]  No ${a} address found for wallet ${r}, generating new one...`);try{const h=await this.createAddress(r,"receiving",a);return console.log(`[WalletService]  Generated new ${a} address: ${h.address.substring(0,10)}...`),h.address}catch(h){return console.error(`[WalletService]  Failed to generate ${a} address:`,h),""}}catch(l){return console.error(`[WalletService]  Error fetching ${a} address:`,l),""}}getSupportedNetworks(){return[{id:"multi",name:"Carteira Multi-Rede",symbol:"MULTI",icon:"",description:"Suporta mltiplas criptomoedas com uma nica seed phrase"},{id:"bitcoin",name:"Bitcoin",symbol:"BTC",icon:""},{id:"ethereum",name:"Ethereum",symbol:"ETH",icon:""},{id:"polygon",name:"Polygon",symbol:"MATIC",icon:""},{id:"bsc",name:"Binance Smart Chain",symbol:"BNB",icon:""},{id:"solana",name:"Solana",symbol:"SOL",icon:""},{id:"litecoin",name:"Litecoin",symbol:"LTC",icon:""},{id:"dogecoin",name:"Dogecoin",symbol:"DOGE",icon:""},{id:"cardano",name:"Cardano",symbol:"ADA",icon:""},{id:"avalanche",name:"Avalanche",symbol:"AVAX",icon:""},{id:"polkadot",name:"Polkadot",symbol:"DOT",icon:""},{id:"chainlink",name:"Chainlink",symbol:"LINK",icon:""},{id:"xrp",name:"XRP",symbol:"XRP",icon:""}]}};const Rs=new C1,tn=()=>{const[n,r]=j.useState([]),[a,l]=j.useState(null),[u,h]=j.useState(!1),[g,p]=j.useState(!1),[b,f]=j.useState(null),w=j.useRef(!0),{isAuthenticated:v,user:k}=Vt(),A=j.useCallback(async()=>{if(!(!v||!k||!w.current)){h(!0),f(null);try{console.log("Loading wallets...");const D=await Rs.getWallets();console.log("Wallets loaded:",D),r(D),!a&&D.length>0&&l(D[0]||null)}catch(D){console.error("Error loading wallets:",D),f(D.message||"Erro ao carregar carteiras")}finally{h(!1)}}},[v,k,a]),C=j.useCallback(async D=>{p(!0),f(null);try{console.log("[useWallets]  createWallet called with:",D),console.log("[useWallets]  Current auth status:",{isAuthenticated:v,user:k?.email,token:v?"(exists)":"(missing)"});const B=await Rs.createWallet(D);return console.log("[useWallets]  Wallet created:",B),await A(),B}catch(B){throw console.error("[useWallets]  Error creating wallet:",B),console.error("[useWallets]  Error details:",{message:B.message,status:B.status,response:B.response?.data}),f(B.message||"Erro ao criar carteira"),B}finally{p(!1)}},[A]),T=j.useCallback(async D=>{p(!0),f(null);try{console.log("Restoring wallet:",{...D,mnemonic:"[HIDDEN]"}),await Rs.restoreWallet(D),console.log("Wallet restored successfully"),await A()}catch(B){throw console.error("Error restoring wallet:",B),f(B.message||"Erro ao restaurar carteira"),B}finally{p(!1)}},[A]),I=j.useCallback(D=>{console.log("Selecting wallet:",D.id,D.name),l(D)},[]),R=j.useCallback(async()=>{await A()},[A]),O=j.useCallback(async D=>{f(null);try{if(console.log("Deleting wallet:",D),await Rs.deleteWallet(D),console.log("Wallet deleted successfully"),r(B=>B.filter($=>$.id!==D)),a?.id===D){const B=n.filter($=>$.id!==D);l(B.length>0&&B[0]||null)}}catch(B){throw console.error("Error deleting wallet:",B),f(B.message||"Erro ao excluir carteira"),B}},[a,n]),P=j.useCallback(async(D,B)=>{f(null);try{console.log("Updating wallet name:",D,B);const $=await Rs.updateWallet(D,{name:B});console.log("Wallet name updated:",$),r(z=>z.map(K=>K.id===D?{...K,name:$.name}:K)),a?.id===D&&l(z=>z?{...z,name:$.name}:null)}catch($){throw console.error("Error updating wallet name:",$),f($.message||"Erro ao atualizar nome da carteira"),$}},[a]),G=j.useCallback(()=>{f(null)},[]),Q=j.useCallback(()=>Rs.getSupportedNetworks(),[]);return j.useEffect(()=>{let D=!0;return w.current=!0,(async()=>{v&&k&&D&&await A()})(),()=>{D=!1,w.current=!1}},[v,k]),{wallets:n,selectedWallet:a,isLoading:u,isCreating:g,error:b,createWallet:C,restoreWallet:T,selectWallet:I,refreshWallets:R,deleteWallet:O,updateWalletName:P,clearError:G,getSupportedNetworks:Q}},Lo=(n,r)=>{const[a,l]=j.useState({}),[u,h]=j.useState(!0),[g,p]=j.useState(null);return j.useEffect(()=>{if(!n||r.length===0){h(!1);return}(async()=>{h(!0),p(null);try{const f=r.map(async k=>{const A=await Rs.getNetworkAddress(n,k);return{network:k,address:A}}),w=await Promise.all(f),v={};w.forEach(({network:k,address:A})=>{v[k]=A}),l(v)}catch(f){console.error("Error fetching network addresses:",f),p(f.message||"Erro ao carregar endereos")}finally{h(!1)}})()},[n,r.join(",")]),{addresses:a,isLoading:u,error:g}};var Ee;(function(n){n[n.QR_CODE=0]="QR_CODE",n[n.AZTEC=1]="AZTEC",n[n.CODABAR=2]="CODABAR",n[n.CODE_39=3]="CODE_39",n[n.CODE_93=4]="CODE_93",n[n.CODE_128=5]="CODE_128",n[n.DATA_MATRIX=6]="DATA_MATRIX",n[n.MAXICODE=7]="MAXICODE",n[n.ITF=8]="ITF",n[n.EAN_13=9]="EAN_13",n[n.EAN_8=10]="EAN_8",n[n.PDF_417=11]="PDF_417",n[n.RSS_14=12]="RSS_14",n[n.RSS_EXPANDED=13]="RSS_EXPANDED",n[n.UPC_A=14]="UPC_A",n[n.UPC_E=15]="UPC_E",n[n.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ee||(Ee={}));var Ql=new Map([[Ee.QR_CODE,"QR_CODE"],[Ee.AZTEC,"AZTEC"],[Ee.CODABAR,"CODABAR"],[Ee.CODE_39,"CODE_39"],[Ee.CODE_93,"CODE_93"],[Ee.CODE_128,"CODE_128"],[Ee.DATA_MATRIX,"DATA_MATRIX"],[Ee.MAXICODE,"MAXICODE"],[Ee.ITF,"ITF"],[Ee.EAN_13,"EAN_13"],[Ee.EAN_8,"EAN_8"],[Ee.PDF_417,"PDF_417"],[Ee.RSS_14,"RSS_14"],[Ee.RSS_EXPANDED,"RSS_EXPANDED"],[Ee.UPC_A,"UPC_A"],[Ee.UPC_E,"UPC_E"],[Ee.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Kl;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.URL=1]="URL"})(Kl||(Kl={}));function S1(n){return Object.values(Ee).includes(n)}var Fn;(function(n){n[n.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",n[n.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Fn||(Fn={}));var E1=function(){function n(){}return n.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",n.SCAN_DEFAULT_FPS=2,n.DEFAULT_DISABLE_FLIP=!1,n.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,n.DEFAULT_SUPPORTED_SCAN_TYPE=[Fn.SCAN_TYPE_CAMERA,Fn.SCAN_TYPE_FILE],n}(),$d=function(){function n(r,a){this.format=r,this.formatName=a}return n.prototype.toString=function(){return this.formatName},n.create=function(r){if(!Ql.has(r))throw"".concat(r," not in html5QrcodeSupportedFormatsTextMap");return new n(r,Ql.get(r))},n}(),Yl=function(){function n(){}return n.createFromText=function(r){var a={text:r};return{decodedText:r,result:a}},n.createFromQrcodeResult=function(r){return{decodedText:r.text,result:r}},n}(),oo;(function(n){n[n.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",n[n.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",n[n.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(oo||(oo={}));var A1=function(){function n(){}return n.createFrom=function(r){return{errorMessage:r,type:oo.UNKWOWN_ERROR}},n}(),T1=function(){function n(r){this.verbose=r}return n.prototype.log=function(r){this.verbose&&console.log(r)},n.prototype.warn=function(r){this.verbose&&console.warn(r)},n.prototype.logError=function(r,a){(this.verbose||a===!0)&&console.error(r)},n.prototype.logErrors=function(r){if(r.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(r)},n}();function is(n){return typeof n>"u"||n===null}var ca=function(){function n(){}return n.codeParseError=function(r){return"QR code parse error, error = ".concat(r)},n.errorGettingUserMedia=function(r){return"Error getting userMedia, error = ".concat(r)},n.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},n.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},n.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},n.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},n.scannerPaused=function(){return"Scanner paused"},n}(),zd=function(){function n(){}return n.isMediaStreamConstraintsValid=function(r,a){if(typeof r!="object"){var l=typeof r;return a.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(l,"."),!0),!1}for(var u=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],h=new Set(u),g=Object.keys(r),p=0,b=g;p<b.length;p++){var f=b[p];if(h.has(f))return a.logError("".concat(f," is not supported videoConstaints."),!0),!1}return!0},n}(),lo={exports:{}};(function(n,r){(function(a,l){l(r)})(z0,function(a){function l(S){return S==null}var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,t){S.__proto__=t}||function(S,t){for(var s in t)t.hasOwnProperty(s)&&(S[s]=t[s])};function h(S,t){u(S,t);function s(){this.constructor=S}S.prototype=t===null?Object.create(t):(s.prototype=t.prototype,new s)}function g(S,t){var s=Object.setPrototypeOf;s?s(S,t):S.__proto__=t}function p(S,t){t===void 0&&(t=S.constructor);var s=Error.captureStackTrace;s&&s(S,t)}var b=function(S){h(t,S);function t(s){var i=this.constructor,o=S.call(this,s)||this;return Object.defineProperty(o,"name",{value:i.name,enumerable:!1}),g(o,i.prototype),p(o),o}return t}(Error);class f extends b{constructor(t=void 0){super(t),this.message=t}getKind(){return this.constructor.kind}}f.kind="Exception";class w extends f{}w.kind="ArgumentException";class v extends f{}v.kind="IllegalArgumentException";class k{constructor(t){if(this.binarizer=t,t===null)throw new v("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(t,s){return this.binarizer.getBlackRow(t,s)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(t,s,i,o){const c=this.binarizer.getLuminanceSource().crop(t,s,i,o);return new k(this.binarizer.createBinarizer(c))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new k(this.binarizer.createBinarizer(t))}rotateCounterClockwise45(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new k(this.binarizer.createBinarizer(t))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class A extends f{static getChecksumInstance(){return new A}}A.kind="ChecksumException";class C{constructor(t){this.source=t}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class T{static arraycopy(t,s,i,o,c){for(;c--;)i[o++]=t[s++]}static currentTimeMillis(){return Date.now()}}class I extends f{}I.kind="IndexOutOfBoundsException";class R extends I{constructor(t=void 0,s=void 0){super(s),this.index=t,this.message=s}}R.kind="ArrayIndexOutOfBoundsException";class O{static fill(t,s){for(let i=0,o=t.length;i<o;i++)t[i]=s}static fillWithin(t,s,i,o){O.rangeCheck(t.length,s,i);for(let c=s;c<i;c++)t[c]=o}static rangeCheck(t,s,i){if(s>i)throw new v("fromIndex("+s+") > toIndex("+i+")");if(s<0)throw new R(s);if(i>t)throw new R(i)}static asList(...t){return t}static create(t,s,i){return Array.from({length:t}).map(c=>Array.from({length:s}).fill(i))}static createInt32Array(t,s,i){return Array.from({length:t}).map(c=>Int32Array.from({length:s}).fill(i))}static equals(t,s){if(!t||!s||!t.length||!s.length||t.length!==s.length)return!1;for(let i=0,o=t.length;i<o;i++)if(t[i]!==s[i])return!1;return!0}static hashCode(t){if(t===null)return 0;let s=1;for(const i of t)s=31*s+i;return s}static fillUint8Array(t,s){for(let i=0;i!==t.length;i++)t[i]=s}static copyOf(t,s){return t.slice(0,s)}static copyOfUint8Array(t,s){if(t.length<=s){const i=new Uint8Array(s);return i.set(t),i}return t.slice(0,s)}static copyOfRange(t,s,i){const o=i-s,c=new Int32Array(o);return T.arraycopy(t,s,c,0,o),c}static binarySearch(t,s,i){i===void 0&&(i=O.numberComparator);let o=0,c=t.length-1;for(;o<=c;){const d=c+o>>1,m=i(s,t[d]);if(m>0)o=d+1;else if(m<0)c=d-1;else return d}return-o-1}static numberComparator(t,s){return t-s}}class P{static numberOfTrailingZeros(t){let s;if(t===0)return 32;let i=31;return s=t<<16,s!==0&&(i-=16,t=s),s=t<<8,s!==0&&(i-=8,t=s),s=t<<4,s!==0&&(i-=4,t=s),s=t<<2,s!==0&&(i-=2,t=s),i-(t<<1>>>31)}static numberOfLeadingZeros(t){if(t===0)return 32;let s=1;return t>>>16||(s+=16,t<<=16),t>>>24||(s+=8,t<<=8),t>>>28||(s+=4,t<<=4),t>>>30||(s+=2,t<<=2),s-=t>>>31,s}static toHexString(t){return t.toString(16)}static toBinaryString(t){return String(parseInt(String(t),2))}static bitCount(t){return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),t=t+(t>>>4)&252645135,t=t+(t>>>8),t=t+(t>>>16),t&63}static truncDivision(t,s){return Math.trunc(t/s)}static parseInt(t,s=void 0){return parseInt(t,s)}}P.MIN_VALUE_32_BITS=-2147483648,P.MAX_VALUE=Number.MAX_SAFE_INTEGER;class G{constructor(t,s){t===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,s==null?this.bits=G.makeArray(t):this.bits=s)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(t){if(t>this.bits.length*32){const s=G.makeArray(t);T.arraycopy(this.bits,0,s,0,this.bits.length),this.bits=s}}get(t){return(this.bits[Math.floor(t/32)]&1<<(t&31))!==0}set(t){this.bits[Math.floor(t/32)]|=1<<(t&31)}flip(t){this.bits[Math.floor(t/32)]^=1<<(t&31)}getNextSet(t){const s=this.size;if(t>=s)return s;const i=this.bits;let o=Math.floor(t/32),c=i[o];c&=~((1<<(t&31))-1);const d=i.length;for(;c===0;){if(++o===d)return s;c=i[o]}const m=o*32+P.numberOfTrailingZeros(c);return m>s?s:m}getNextUnset(t){const s=this.size;if(t>=s)return s;const i=this.bits;let o=Math.floor(t/32),c=~i[o];c&=~((1<<(t&31))-1);const d=i.length;for(;c===0;){if(++o===d)return s;c=~i[o]}const m=o*32+P.numberOfTrailingZeros(c);return m>s?s:m}setBulk(t,s){this.bits[Math.floor(t/32)]=s}setRange(t,s){if(s<t||t<0||s>this.size)throw new v;if(s===t)return;s--;const i=Math.floor(t/32),o=Math.floor(s/32),c=this.bits;for(let d=i;d<=o;d++){const m=d>i?0:t&31,y=(2<<(d<o?31:s&31))-(1<<m);c[d]|=y}}clear(){const t=this.bits.length,s=this.bits;for(let i=0;i<t;i++)s[i]=0}isRange(t,s,i){if(s<t||t<0||s>this.size)throw new v;if(s===t)return!0;s--;const o=Math.floor(t/32),c=Math.floor(s/32),d=this.bits;for(let m=o;m<=c;m++){const x=m>o?0:t&31,N=(2<<(m<c?31:s&31))-(1<<x)&4294967295;if((d[m]&N)!==(i?N:0))return!1}return!0}appendBit(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(t,s){if(s<0||s>32)throw new v("Num bits must be between 0 and 32");this.ensureCapacity(this.size+s);for(let i=s;i>0;i--)this.appendBit((t>>i-1&1)===1)}appendBitArray(t){const s=t.size;this.ensureCapacity(this.size+s);for(let i=0;i<s;i++)this.appendBit(t.get(i))}xor(t){if(this.size!==t.size)throw new v("Sizes don't match");const s=this.bits;for(let i=0,o=s.length;i<o;i++)s[i]^=t.bits[i]}toBytes(t,s,i,o){for(let c=0;c<o;c++){let d=0;for(let m=0;m<8;m++)this.get(t)&&(d|=1<<7-m),t++;s[i+c]=d}}getBitArray(){return this.bits}reverse(){const t=new Int32Array(this.bits.length),s=Math.floor((this.size-1)/32),i=s+1,o=this.bits;for(let c=0;c<i;c++){let d=o[c];d=d>>1&1431655765|(d&1431655765)<<1,d=d>>2&858993459|(d&858993459)<<2,d=d>>4&252645135|(d&252645135)<<4,d=d>>8&16711935|(d&16711935)<<8,d=d>>16&65535|(d&65535)<<16,t[s-c]=d}if(this.size!==i*32){const c=i*32-this.size;let d=t[0]>>>c;for(let m=1;m<i;m++){const x=t[m];d|=x<<32-c,t[m-1]=d,d=x>>>c}t[i-1]=d}this.bits=t}static makeArray(t){return new Int32Array(Math.floor((t+31)/32))}equals(t){if(!(t instanceof G))return!1;const s=t;return this.size===s.size&&O.equals(this.bits,s.bits)}hashCode(){return 31*this.size+O.hashCode(this.bits)}toString(){let t="";for(let s=0,i=this.size;s<i;s++)s&7||(t+=" "),t+=this.get(s)?"X":".";return t}clone(){return new G(this.size,this.bits.slice())}}var Q;(function(S){S[S.OTHER=0]="OTHER",S[S.PURE_BARCODE=1]="PURE_BARCODE",S[S.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",S[S.TRY_HARDER=3]="TRY_HARDER",S[S.CHARACTER_SET=4]="CHARACTER_SET",S[S.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",S[S.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",S[S.ASSUME_GS1=7]="ASSUME_GS1",S[S.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",S[S.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",S[S.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Q||(Q={}));var D=Q;class B extends f{static getFormatInstance(){return new B}}B.kind="FormatException";var $;(function(S){S[S.Cp437=0]="Cp437",S[S.ISO8859_1=1]="ISO8859_1",S[S.ISO8859_2=2]="ISO8859_2",S[S.ISO8859_3=3]="ISO8859_3",S[S.ISO8859_4=4]="ISO8859_4",S[S.ISO8859_5=5]="ISO8859_5",S[S.ISO8859_6=6]="ISO8859_6",S[S.ISO8859_7=7]="ISO8859_7",S[S.ISO8859_8=8]="ISO8859_8",S[S.ISO8859_9=9]="ISO8859_9",S[S.ISO8859_10=10]="ISO8859_10",S[S.ISO8859_11=11]="ISO8859_11",S[S.ISO8859_13=12]="ISO8859_13",S[S.ISO8859_14=13]="ISO8859_14",S[S.ISO8859_15=14]="ISO8859_15",S[S.ISO8859_16=15]="ISO8859_16",S[S.SJIS=16]="SJIS",S[S.Cp1250=17]="Cp1250",S[S.Cp1251=18]="Cp1251",S[S.Cp1252=19]="Cp1252",S[S.Cp1256=20]="Cp1256",S[S.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",S[S.UTF8=22]="UTF8",S[S.ASCII=23]="ASCII",S[S.Big5=24]="Big5",S[S.GB18030=25]="GB18030",S[S.EUC_KR=26]="EUC_KR"})($||($={}));class z{constructor(t,s,i,...o){this.valueIdentifier=t,this.name=i,typeof s=="number"?this.values=Int32Array.from([s]):this.values=s,this.otherEncodingNames=o,z.VALUE_IDENTIFIER_TO_ECI.set(t,this),z.NAME_TO_ECI.set(i,this);const c=this.values;for(let d=0,m=c.length;d!==m;d++){const x=c[d];z.VALUES_TO_ECI.set(x,this)}for(const d of o)z.NAME_TO_ECI.set(d,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(t){if(t<0||t>=900)throw new B("incorect value");const s=z.VALUES_TO_ECI.get(t);if(s===void 0)throw new B("incorect value");return s}static getCharacterSetECIByName(t){const s=z.NAME_TO_ECI.get(t);if(s===void 0)throw new B("incorect value");return s}equals(t){if(!(t instanceof z))return!1;const s=t;return this.getName()===s.getName()}}z.VALUE_IDENTIFIER_TO_ECI=new Map,z.VALUES_TO_ECI=new Map,z.NAME_TO_ECI=new Map,z.Cp437=new z($.Cp437,Int32Array.from([0,2]),"Cp437"),z.ISO8859_1=new z($.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),z.ISO8859_2=new z($.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),z.ISO8859_3=new z($.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),z.ISO8859_4=new z($.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),z.ISO8859_5=new z($.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),z.ISO8859_6=new z($.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),z.ISO8859_7=new z($.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),z.ISO8859_8=new z($.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),z.ISO8859_9=new z($.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),z.ISO8859_10=new z($.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),z.ISO8859_11=new z($.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),z.ISO8859_13=new z($.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),z.ISO8859_14=new z($.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),z.ISO8859_15=new z($.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),z.ISO8859_16=new z($.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),z.SJIS=new z($.SJIS,20,"SJIS","Shift_JIS"),z.Cp1250=new z($.Cp1250,21,"Cp1250","windows-1250"),z.Cp1251=new z($.Cp1251,22,"Cp1251","windows-1251"),z.Cp1252=new z($.Cp1252,23,"Cp1252","windows-1252"),z.Cp1256=new z($.Cp1256,24,"Cp1256","windows-1256"),z.UnicodeBigUnmarked=new z($.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),z.UTF8=new z($.UTF8,26,"UTF8","UTF-8"),z.ASCII=new z($.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),z.Big5=new z($.Big5,28,"Big5"),z.GB18030=new z($.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),z.EUC_KR=new z($.EUC_KR,30,"EUC_KR","EUC-KR");class K extends f{}K.kind="UnsupportedOperationException";class re{static decode(t,s){const i=this.encodingName(s);return this.customDecoder?this.customDecoder(t,i):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(i)?this.decodeFallback(t,i):new TextDecoder(i).decode(t)}static shouldDecodeOnFallback(t){return!re.isBrowser()&&t==="ISO-8859-1"}static encode(t,s){const i=this.encodingName(s);return this.customEncoder?this.customEncoder(t,i):typeof TextEncoder>"u"?this.encodeFallback(t):new TextEncoder().encode(t)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(t){return typeof t=="string"?t:t.getName()}static encodingCharacterSet(t){return t instanceof z?t:z.getCharacterSetECIByName(t)}static decodeFallback(t,s){const i=this.encodingCharacterSet(s);if(re.isDecodeFallbackSupported(i)){let o="";for(let c=0,d=t.length;c<d;c++){let m=t[c].toString(16);m.length<2&&(m="0"+m),o+="%"+m}return decodeURIComponent(o)}if(i.equals(z.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new K(`Encoding ${this.encodingName(s)} not supported by fallback.`)}static isDecodeFallbackSupported(t){return t.equals(z.UTF8)||t.equals(z.ISO8859_1)||t.equals(z.ASCII)}static encodeFallback(t){const i=btoa(unescape(encodeURIComponent(t))).split(""),o=[];for(let c=0;c<i.length;c++)o.push(i[c].charCodeAt(0));return new Uint8Array(o)}}class F{static castAsNonUtf8Char(t,s=null){const i=s?s.getName():this.ISO88591;return re.decode(new Uint8Array([t]),i)}static guessEncoding(t,s){if(s!=null&&s.get(D.CHARACTER_SET)!==void 0)return s.get(D.CHARACTER_SET).toString();const i=t.length;let o=!0,c=!0,d=!0,m=0,x=0,y=0,N=0,E=0,_=0,L=0,U=0,V=0,Y=0,te=0;const be=t.length>3&&t[0]===239&&t[1]===187&&t[2]===191;for(let we=0;we<i&&(o||c||d);we++){const xe=t[we]&255;d&&(m>0?xe&128?m--:d=!1:xe&128&&(xe&64?(m++,xe&32?(m++,xe&16?(m++,xe&8?d=!1:N++):y++):x++):d=!1)),o&&(xe>127&&xe<160?o=!1:xe>159&&(xe<192||xe===215||xe===247)&&te++),c&&(E>0?xe<64||xe===127||xe>252?c=!1:E--:xe===128||xe===160||xe>239?c=!1:xe>160&&xe<224?(_++,U=0,L++,L>V&&(V=L)):xe>127?(E++,L=0,U++,U>Y&&(Y=U)):(L=0,U=0))}return d&&m>0&&(d=!1),c&&E>0&&(c=!1),d&&(be||x+y+N>0)?F.UTF8:c&&(F.ASSUME_SHIFT_JIS||V>=3||Y>=3)?F.SHIFT_JIS:o&&c?V===2&&_===2||te*10>=i?F.SHIFT_JIS:F.ISO88591:o?F.ISO88591:c?F.SHIFT_JIS:d?F.UTF8:F.PLATFORM_DEFAULT_ENCODING}static format(t,...s){let i=-1;function o(d,m,x,y,N,E){if(d==="%%")return"%";if(s[++i]===void 0)return;d=y?parseInt(y.substr(1)):void 0;let _=N?parseInt(N.substr(1)):void 0,L;switch(E){case"s":L=s[i];break;case"c":L=s[i][0];break;case"f":L=parseFloat(s[i]).toFixed(d);break;case"p":L=parseFloat(s[i]).toPrecision(d);break;case"e":L=parseFloat(s[i]).toExponential(d);break;case"x":L=parseInt(s[i]).toString(_||16);break;case"d":L=parseFloat(parseInt(s[i],_||10).toPrecision(d)).toFixed(0);break}L=typeof L=="object"?JSON.stringify(L):(+L).toString(_);let U=parseInt(x),V=x&&x[0]+""=="0"?"0":" ";for(;L.length<U;)L=m!==void 0?L+V:V+L;return L}let c=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(c,o)}static getBytes(t,s){return re.encode(t,s)}static getCharCode(t,s=0){return t.charCodeAt(s)}static getCharAt(t){return String.fromCharCode(t)}}F.SHIFT_JIS=z.SJIS.getName(),F.GB2312="GB2312",F.ISO88591=z.ISO8859_1.getName(),F.EUC_JP="EUC_JP",F.UTF8=z.UTF8.getName(),F.PLATFORM_DEFAULT_ENCODING=F.UTF8,F.ASSUME_SHIFT_JIS=!1;class X{constructor(t=""){this.value=t}enableDecoding(t){return this.encoding=t,this}append(t){return typeof t=="string"?this.value+=t.toString():this.encoding?this.value+=F.castAsNonUtf8Char(t,this.encoding):this.value+=String.fromCharCode(t),this}appendChars(t,s,i){for(let o=s;s<s+i;o++)this.append(t[o]);return this}length(){return this.value.length}charAt(t){return this.value.charAt(t)}deleteCharAt(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)}setCharAt(t,s){this.value=this.value.substr(0,t)+s+this.value.substr(t+1)}substring(t,s){return this.value.substring(t,s)}setLengthToZero(){this.value=""}toString(){return this.value}insert(t,s){this.value=this.value.substr(0,t)+s+this.value.substr(t+s.length)}}class ae{constructor(t,s,i,o){if(this.width=t,this.height=s,this.rowSize=i,this.bits=o,s==null&&(s=t),this.height=s,t<1||s<1)throw new v("Both dimensions must be greater than 0");i==null&&(i=Math.floor((t+31)/32)),this.rowSize=i,o==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(t){const s=t.length,i=t[0].length,o=new ae(i,s);for(let c=0;c<s;c++){const d=t[c];for(let m=0;m<i;m++)d[m]&&o.set(m,c)}return o}static parseFromString(t,s,i){if(t===null)throw new v("stringRepresentation cannot be null");const o=new Array(t.length);let c=0,d=0,m=-1,x=0,y=0;for(;y<t.length;)if(t.charAt(y)===`
`||t.charAt(y)==="\r"){if(c>d){if(m===-1)m=c-d;else if(c-d!==m)throw new v("row lengths do not match");d=c,x++}y++}else if(t.substring(y,y+s.length)===s)y+=s.length,o[c]=!0,c++;else if(t.substring(y,y+i.length)===i)y+=i.length,o[c]=!1,c++;else throw new v("illegal character encountered: "+t.substring(y));if(c>d){if(m===-1)m=c-d;else if(c-d!==m)throw new v("row lengths do not match");x++}const N=new ae(m,x);for(let E=0;E<c;E++)o[E]&&N.set(Math.floor(E%m),Math.floor(E/m));return N}get(t,s){const i=s*this.rowSize+Math.floor(t/32);return(this.bits[i]>>>(t&31)&1)!==0}set(t,s){const i=s*this.rowSize+Math.floor(t/32);this.bits[i]|=1<<(t&31)&4294967295}unset(t,s){const i=s*this.rowSize+Math.floor(t/32);this.bits[i]&=~(1<<(t&31)&4294967295)}flip(t,s){const i=s*this.rowSize+Math.floor(t/32);this.bits[i]^=1<<(t&31)&4294967295}xor(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new v("input matrix dimensions do not match");const s=new G(Math.floor(this.width/32)+1),i=this.rowSize,o=this.bits;for(let c=0,d=this.height;c<d;c++){const m=c*i,x=t.getRow(c,s).getBitArray();for(let y=0;y<i;y++)o[m+y]^=x[y]}}clear(){const t=this.bits,s=t.length;for(let i=0;i<s;i++)t[i]=0}setRegion(t,s,i,o){if(s<0||t<0)throw new v("Left and top must be nonnegative");if(o<1||i<1)throw new v("Height and width must be at least 1");const c=t+i,d=s+o;if(d>this.height||c>this.width)throw new v("The region must fit inside the matrix");const m=this.rowSize,x=this.bits;for(let y=s;y<d;y++){const N=y*m;for(let E=t;E<c;E++)x[N+Math.floor(E/32)]|=1<<(E&31)&4294967295}}getRow(t,s){s==null||s.getSize()<this.width?s=new G(this.width):s.clear();const i=this.rowSize,o=this.bits,c=t*i;for(let d=0;d<i;d++)s.setBulk(d*32,o[c+d]);return s}setRow(t,s){T.arraycopy(s.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)}rotate180(){const t=this.getWidth(),s=this.getHeight();let i=new G(t),o=new G(t);for(let c=0,d=Math.floor((s+1)/2);c<d;c++)i=this.getRow(c,i),o=this.getRow(s-1-c,o),i.reverse(),o.reverse(),this.setRow(c,o),this.setRow(s-1-c,i)}getEnclosingRectangle(){const t=this.width,s=this.height,i=this.rowSize,o=this.bits;let c=t,d=s,m=-1,x=-1;for(let y=0;y<s;y++)for(let N=0;N<i;N++){const E=o[y*i+N];if(E!==0){if(y<d&&(d=y),y>x&&(x=y),N*32<c){let _=0;for(;!(E<<31-_&4294967295);)_++;N*32+_<c&&(c=N*32+_)}if(N*32+31>m){let _=31;for(;!(E>>>_);)_--;N*32+_>m&&(m=N*32+_)}}}return m<c||x<d?null:Int32Array.from([c,d,m-c+1,x-d+1])}getTopLeftOnBit(){const t=this.rowSize,s=this.bits;let i=0;for(;i<s.length&&s[i]===0;)i++;if(i===s.length)return null;const o=i/t;let c=i%t*32;const d=s[i];let m=0;for(;!(d<<31-m&4294967295);)m++;return c+=m,Int32Array.from([c,o])}getBottomRightOnBit(){const t=this.rowSize,s=this.bits;let i=s.length-1;for(;i>=0&&s[i]===0;)i--;if(i<0)return null;const o=Math.floor(i/t);let c=Math.floor(i%t)*32;const d=s[i];let m=31;for(;!(d>>>m);)m--;return c+=m,Int32Array.from([c,o])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(t){if(!(t instanceof ae))return!1;const s=t;return this.width===s.width&&this.height===s.height&&this.rowSize===s.rowSize&&O.equals(this.bits,s.bits)}hashCode(){let t=this.width;return t=31*t+this.width,t=31*t+this.height,t=31*t+this.rowSize,t=31*t+O.hashCode(this.bits),t}toString(t="X ",s="  ",i=`
`){return this.buildToString(t,s,i)}buildToString(t,s,i){let o=new X;for(let c=0,d=this.height;c<d;c++){for(let m=0,x=this.width;m<x;m++)o.append(this.get(m,c)?t:s);o.append(i)}return o.toString()}clone(){return new ae(this.width,this.height,this.rowSize,this.bits.slice())}}class H extends f{static getNotFoundInstance(){return new H}}H.kind="NotFoundException";class ve extends C{constructor(t){super(t),this.luminances=ve.EMPTY,this.buckets=new Int32Array(ve.LUMINANCE_BUCKETS)}getBlackRow(t,s){const i=this.getLuminanceSource(),o=i.getWidth();s==null||s.getSize()<o?s=new G(o):s.clear(),this.initArrays(o);const c=i.getRow(t,this.luminances),d=this.buckets;for(let x=0;x<o;x++)d[(c[x]&255)>>ve.LUMINANCE_SHIFT]++;const m=ve.estimateBlackPoint(d);if(o<3)for(let x=0;x<o;x++)(c[x]&255)<m&&s.set(x);else{let x=c[0]&255,y=c[1]&255;for(let N=1;N<o-1;N++){const E=c[N+1]&255;(y*4-x-E)/2<m&&s.set(N),x=y,y=E}}return s}getBlackMatrix(){const t=this.getLuminanceSource(),s=t.getWidth(),i=t.getHeight(),o=new ae(s,i);this.initArrays(s);const c=this.buckets;for(let x=1;x<5;x++){const y=Math.floor(i*x/5),N=t.getRow(y,this.luminances),E=Math.floor(s*4/5);for(let _=Math.floor(s/5);_<E;_++){const L=N[_]&255;c[L>>ve.LUMINANCE_SHIFT]++}}const d=ve.estimateBlackPoint(c),m=t.getMatrix();for(let x=0;x<i;x++){const y=x*s;for(let N=0;N<s;N++)(m[y+N]&255)<d&&o.set(N,x)}return o}createBinarizer(t){return new ve(t)}initArrays(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));const s=this.buckets;for(let i=0;i<ve.LUMINANCE_BUCKETS;i++)s[i]=0}static estimateBlackPoint(t){const s=t.length;let i=0,o=0,c=0;for(let N=0;N<s;N++)t[N]>c&&(o=N,c=t[N]),t[N]>i&&(i=t[N]);let d=0,m=0;for(let N=0;N<s;N++){const E=N-o,_=t[N]*E*E;_>m&&(d=N,m=_)}if(o>d){const N=o;o=d,d=N}if(d-o<=s/16)throw new H;let x=d-1,y=-1;for(let N=d-1;N>o;N--){const E=N-o,_=E*E*(d-N)*(i-t[N]);_>y&&(x=N,y=_)}return x<<ve.LUMINANCE_SHIFT}}ve.LUMINANCE_BITS=5,ve.LUMINANCE_SHIFT=8-ve.LUMINANCE_BITS,ve.LUMINANCE_BUCKETS=1<<ve.LUMINANCE_BITS,ve.EMPTY=Uint8ClampedArray.from([0]);class me extends ve{constructor(t){super(t),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const t=this.getLuminanceSource(),s=t.getWidth(),i=t.getHeight();if(s>=me.MINIMUM_DIMENSION&&i>=me.MINIMUM_DIMENSION){const o=t.getMatrix();let c=s>>me.BLOCK_SIZE_POWER;s&me.BLOCK_SIZE_MASK&&c++;let d=i>>me.BLOCK_SIZE_POWER;i&me.BLOCK_SIZE_MASK&&d++;const m=me.calculateBlackPoints(o,c,d,s,i),x=new ae(s,i);me.calculateThresholdForBlock(o,c,d,s,i,m,x),this.matrix=x}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(t){return new me(t)}static calculateThresholdForBlock(t,s,i,o,c,d,m){const x=c-me.BLOCK_SIZE,y=o-me.BLOCK_SIZE;for(let N=0;N<i;N++){let E=N<<me.BLOCK_SIZE_POWER;E>x&&(E=x);const _=me.cap(N,2,i-3);for(let L=0;L<s;L++){let U=L<<me.BLOCK_SIZE_POWER;U>y&&(U=y);const V=me.cap(L,2,s-3);let Y=0;for(let be=-2;be<=2;be++){const we=d[_+be];Y+=we[V-2]+we[V-1]+we[V]+we[V+1]+we[V+2]}const te=Y/25;me.thresholdBlock(t,U,E,te,o,m)}}}static cap(t,s,i){return t<s?s:t>i?i:t}static thresholdBlock(t,s,i,o,c,d){for(let m=0,x=i*c+s;m<me.BLOCK_SIZE;m++,x+=c)for(let y=0;y<me.BLOCK_SIZE;y++)(t[x+y]&255)<=o&&d.set(s+y,i+m)}static calculateBlackPoints(t,s,i,o,c){const d=c-me.BLOCK_SIZE,m=o-me.BLOCK_SIZE,x=new Array(i);for(let y=0;y<i;y++){x[y]=new Int32Array(s);let N=y<<me.BLOCK_SIZE_POWER;N>d&&(N=d);for(let E=0;E<s;E++){let _=E<<me.BLOCK_SIZE_POWER;_>m&&(_=m);let L=0,U=255,V=0;for(let te=0,be=N*o+_;te<me.BLOCK_SIZE;te++,be+=o){for(let we=0;we<me.BLOCK_SIZE;we++){const xe=t[be+we]&255;L+=xe,xe<U&&(U=xe),xe>V&&(V=xe)}if(V-U>me.MIN_DYNAMIC_RANGE)for(te++,be+=o;te<me.BLOCK_SIZE;te++,be+=o)for(let we=0;we<me.BLOCK_SIZE;we++)L+=t[be+we]&255}let Y=L>>me.BLOCK_SIZE_POWER*2;if(V-U<=me.MIN_DYNAMIC_RANGE&&(Y=U/2,y>0&&E>0)){const te=(x[y-1][E]+2*x[y][E-1]+x[y-1][E-1])/4;U<te&&(Y=te)}x[y][E]=Y}}return x}}me.BLOCK_SIZE_POWER=3,me.BLOCK_SIZE=1<<me.BLOCK_SIZE_POWER,me.BLOCK_SIZE_MASK=me.BLOCK_SIZE-1,me.MINIMUM_DIMENSION=me.BLOCK_SIZE*5,me.MIN_DYNAMIC_RANGE=24;class ie{constructor(t,s){this.width=t,this.height=s}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(t,s,i,o){throw new K("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new K("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new K("This luminance source does not support rotation by 45 degrees.")}toString(){const t=new Uint8ClampedArray(this.width);let s=new X;for(let i=0;i<this.height;i++){const o=this.getRow(i,t);for(let c=0;c<this.width;c++){const d=o[c]&255;let m;d<64?m="#":d<128?m="+":d<192?m=".":m=" ",s.append(m)}s.append(`
`)}return s.toString()}}class je extends ie{constructor(t){super(t.getWidth(),t.getHeight()),this.delegate=t}getRow(t,s){const i=this.delegate.getRow(t,s),o=this.getWidth();for(let c=0;c<o;c++)i[c]=255-(i[c]&255);return i}getMatrix(){const t=this.delegate.getMatrix(),s=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(s);for(let o=0;o<s;o++)i[o]=255-(t[o]&255);return i}isCropSupported(){return this.delegate.isCropSupported()}crop(t,s,i,o){return new je(this.delegate.crop(t,s,i,o))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new je(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new je(this.delegate.rotateCounterClockwise45())}}class se extends ie{constructor(t){super(t.width,t.height),this.canvas=t,this.tempCanvasElement=null,this.buffer=se.makeBufferFromCanvasImageData(t)}static makeBufferFromCanvasImageData(t){const s=t.getContext("2d").getImageData(0,0,t.width,t.height);return se.toGrayscaleBuffer(s.data,t.width,t.height)}static toGrayscaleBuffer(t,s,i){const o=new Uint8ClampedArray(s*i);for(let c=0,d=0,m=t.length;c<m;c+=4,d++){let x;if(t[c+3]===0)x=255;else{const N=t[c],E=t[c+1],_=t[c+2];x=306*N+601*E+117*_+512>>10}o[d]=x}return o}getRow(t,s){if(t<0||t>=this.getHeight())throw new v("Requested row is outside the image: "+t);const i=this.getWidth(),o=t*i;return s===null?s=this.buffer.slice(o,o+i):(s.length<i&&(s=new Uint8ClampedArray(i)),s.set(this.buffer.slice(o,o+i))),s}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(t,s,i,o){return super.crop(t,s,i,o),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement}rotate(t){const s=this.getTempCanvasElement(),i=s.getContext("2d"),o=t*se.DEGREE_TO_RADIANS,c=this.canvas.width,d=this.canvas.height,m=Math.ceil(Math.abs(Math.cos(o))*c+Math.abs(Math.sin(o))*d),x=Math.ceil(Math.abs(Math.sin(o))*c+Math.abs(Math.cos(o))*d);return s.width=m,s.height=x,i.translate(m/2,x/2),i.rotate(o),i.drawImage(this.canvas,c/-2,d/-2),this.buffer=se.makeBufferFromCanvasImageData(s),this}invert(){return new je(this)}}se.DEGREE_TO_RADIANS=Math.PI/180;class le{constructor(t,s,i){this.deviceId=t,this.label=s,this.kind="videoinput",this.groupId=i||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var de=(globalThis||globalThis||self||window||void 0)&&(globalThis||globalThis||self||window||void 0).__awaiter||function(S,t,s,i){function o(c){return c instanceof s?c:new s(function(d){d(c)})}return new(s||(s=Promise))(function(c,d){function m(N){try{y(i.next(N))}catch(E){d(E)}}function x(N){try{y(i.throw(N))}catch(E){d(E)}}function y(N){N.done?c(N.value):o(N.value).then(m,x)}y((i=i.apply(S,t||[])).next())})};class ge{constructor(t,s=500,i){this.reader=t,this.timeBetweenScansMillis=s,this._hints=i,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(t){this._timeBetweenDecodingAttempts=t<0?0:t}set hints(t){this._hints=t||null}get hints(){return this._hints}listVideoInputDevices(){return de(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const t=yield navigator.mediaDevices.enumerateDevices(),s=[];for(const i of t){const o=i.kind==="video"?"videoinput":i.kind;if(o!=="videoinput")continue;const c=i.deviceId||i.id,d=i.label||`Video device ${s.length+1}`,m=i.groupId,x={deviceId:c,label:d,kind:o,groupId:m};s.push(x)}return s})}getVideoInputDevices(){return de(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(s=>new le(s.deviceId,s.label))})}findDeviceById(t){return de(this,void 0,void 0,function*(){const s=yield this.listVideoInputDevices();return s?s.find(i=>i.deviceId===t):null})}decodeFromInputVideoDevice(t,s){return de(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(t,s)})}decodeOnceFromVideoDevice(t,s){return de(this,void 0,void 0,function*(){this.reset();let i;t?i={deviceId:{exact:t}}:i={facingMode:"environment"};const o={video:i};return yield this.decodeOnceFromConstraints(o,s)})}decodeOnceFromConstraints(t,s){return de(this,void 0,void 0,function*(){const i=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeOnceFromStream(i,s)})}decodeOnceFromStream(t,s){return de(this,void 0,void 0,function*(){this.reset();const i=yield this.attachStreamToVideo(t,s);return yield this.decodeOnce(i)})}decodeFromInputVideoDeviceContinuously(t,s,i){return de(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(t,s,i)})}decodeFromVideoDevice(t,s,i){return de(this,void 0,void 0,function*(){let o;t?o={deviceId:{exact:t}}:o={facingMode:"environment"};const c={video:o};return yield this.decodeFromConstraints(c,s,i)})}decodeFromConstraints(t,s,i){return de(this,void 0,void 0,function*(){const o=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeFromStream(o,s,i)})}decodeFromStream(t,s,i){return de(this,void 0,void 0,function*(){this.reset();const o=yield this.attachStreamToVideo(t,s);return yield this.decodeContinuously(o,i)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(t,s){return de(this,void 0,void 0,function*(){const i=this.prepareVideoElement(s);return this.addVideoSource(i,t),this.videoElement=i,this.stream=t,yield this.playVideoOnLoadAsync(i),i})}playVideoOnLoadAsync(t){return new Promise((s,i)=>this.playVideoOnLoad(t,()=>s()))}playVideoOnLoad(t,s){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(t),t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",s),this.tryPlayVideo(t)}isVideoPlaying(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2}tryPlayVideo(t){return de(this,void 0,void 0,function*(){if(this.isVideoPlaying(t)){console.warn("Trying to play video that is already playing.");return}try{yield t.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(t,s){const i=document.getElementById(t);if(!i)throw new w(`element with id '${t}' not found`);if(i.nodeName.toLowerCase()!==s.toLowerCase())throw new w(`element with id '${t}' must be an ${s} element`);return i}decodeFromImage(t,s){if(!t&&!s)throw new w("either imageElement with a src set or an url must be provided");return s&&!t?this.decodeFromImageUrl(s):this.decodeFromImageElement(t)}decodeFromVideo(t,s){if(!t&&!s)throw new w("Either an element with a src set or an URL must be provided");return s&&!t?this.decodeFromVideoUrl(s):this.decodeFromVideoElement(t)}decodeFromVideoContinuously(t,s,i){if(t===void 0&&s===void 0)throw new w("Either an element with a src set or an URL must be provided");return s&&!t?this.decodeFromVideoUrlContinuously(s,i):this.decodeFromVideoElementContinuously(t,i)}decodeFromImageElement(t){if(!t)throw new w("An image element must be provided.");this.reset();const s=this.prepareImageElement(t);this.imageElement=s;let i;return this.isImageLoaded(s)?i=this.decodeOnce(s,!1,!0):i=this._decodeOnLoadImage(s),i}decodeFromVideoElement(t){const s=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(s)}decodeFromVideoElementContinuously(t,s){const i=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(i,s)}_decodeFromVideoElementSetup(t){if(!t)throw new w("A video element must be provided.");this.reset();const s=this.prepareVideoElement(t);return this.videoElement=s,s}decodeFromImageUrl(t){if(!t)throw new w("An URL must be provided.");this.reset();const s=this.prepareImageElement();this.imageElement=s;const i=this._decodeOnLoadImage(s);return s.src=t,i}decodeFromVideoUrl(t){if(!t)throw new w("An URL must be provided.");this.reset();const s=this.prepareVideoElement(),i=this.decodeFromVideoElement(s);return s.src=t,i}decodeFromVideoUrlContinuously(t,s){if(!t)throw new w("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),o=this.decodeFromVideoElementContinuously(i,s);return i.src=t,o}_decodeOnLoadImage(t){return new Promise((s,i)=>{this.imageLoadedListener=()=>this.decodeOnce(t,!1,!0).then(s,i),t.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(t){return de(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(t),yield this.decodeOnce(t)})}_decodeOnLoadVideoContinuously(t,s){return de(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(t),this.decodeContinuously(t,s)})}isImageLoaded(t){return!(!t.complete||t.naturalWidth===0)}prepareImageElement(t){let s;return typeof t>"u"&&(s=document.createElement("img"),s.width=200,s.height=200),typeof t=="string"&&(s=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(s=t),s}prepareVideoElement(t){let s;return!t&&typeof document<"u"&&(s=document.createElement("video"),s.width=200,s.height=200),typeof t=="string"&&(s=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(s=t),s.setAttribute("autoplay","true"),s.setAttribute("muted","true"),s.setAttribute("playsinline","true"),s}decodeOnce(t,s=!0,i=!0){this._stopAsyncDecode=!1;const o=(c,d)=>{if(this._stopAsyncDecode){d(new H("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const m=this.decode(t);c(m)}catch(m){const x=s&&m instanceof H,N=(m instanceof A||m instanceof B)&&i;if(x||N)return setTimeout(o,this._timeBetweenDecodingAttempts,c,d);d(m)}};return new Promise((c,d)=>o(c,d))}decodeContinuously(t,s){this._stopContinuousDecode=!1;const i=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const o=this.decode(t);s(o,null),setTimeout(i,this.timeBetweenScansMillis)}catch(o){s(null,o);const c=o instanceof A||o instanceof B,d=o instanceof H;(c||d)&&setTimeout(i,this._timeBetweenDecodingAttempts)}};i()}decode(t){const s=this.createBinaryBitmap(t);return this.decodeBitmap(s)}_isHTMLVideoElement(t){return t.videoWidth!==0}drawFrameOnCanvas(t,s,i){s||(s={sx:0,sy:0,sWidth:t.videoWidth,sHeight:t.videoHeight,dx:0,dy:0,dWidth:t.videoWidth,dHeight:t.videoHeight}),i||(i=this.captureCanvasContext),i.drawImage(t,s.sx,s.sy,s.sWidth,s.sHeight,s.dx,s.dy,s.dWidth,s.dHeight)}drawImageOnCanvas(t,s,i=this.captureCanvasContext){s||(s={sx:0,sy:0,sWidth:t.naturalWidth,sHeight:t.naturalHeight,dx:0,dy:0,dWidth:t.naturalWidth,dHeight:t.naturalHeight}),i||(i=this.captureCanvasContext),i.drawImage(t,s.sx,s.sy,s.sWidth,s.sHeight,s.dx,s.dy,s.dWidth,s.dHeight)}createBinaryBitmap(t){this.getCaptureCanvasContext(t),this._isHTMLVideoElement(t)?this.drawFrameOnCanvas(t):this.drawImageOnCanvas(t);const s=this.getCaptureCanvas(t),i=new se(s),o=new me(i);return new k(o)}getCaptureCanvasContext(t){if(!this.captureCanvasContext){const i=this.getCaptureCanvas(t).getContext("2d");this.captureCanvasContext=i}return this.captureCanvasContext}getCaptureCanvas(t){if(!this.captureCanvas){const s=this.createCaptureCanvas(t);this.captureCanvas=s}return this.captureCanvas}decodeBitmap(t){return this.reader.decode(t,this._hints)}createCaptureCanvas(t){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const s=document.createElement("canvas");let i,o;return typeof t<"u"&&(t instanceof HTMLVideoElement?(i=t.videoWidth,o=t.videoHeight):t instanceof HTMLImageElement&&(i=t.naturalWidth||t.width,o=t.naturalHeight||t.height)),s.style.width=i+"px",s.style.height=o+"px",s.width=i,s.height=o,s}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(t=>t.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(t,s){try{t.srcObject=s}catch{t.src=URL.createObjectURL(s)}}cleanVideoSource(t){try{t.srcObject=null}catch{t.src=""}this.videoElement.removeAttribute("src")}}class Ce{constructor(t,s,i=s==null?0:8*s.length,o,c,d=T.currentTimeMillis()){this.text=t,this.rawBytes=s,this.numBits=i,this.resultPoints=o,this.format=c,this.timestamp=d,this.text=t,this.rawBytes=s,i==null?this.numBits=s==null?0:8*s.length:this.numBits=i,this.resultPoints=o,this.format=c,this.resultMetadata=null,d==null?this.timestamp=T.currentTimeMillis():this.timestamp=d}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(t,s){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(t,s)}putAllMetadata(t){t!==null&&(this.resultMetadata===null?this.resultMetadata=t:this.resultMetadata=new Map(t))}addResultPoints(t){const s=this.resultPoints;if(s===null)this.resultPoints=t;else if(t!==null&&t.length>0){const i=new Array(s.length+t.length);T.arraycopy(s,0,i,0,s.length),T.arraycopy(t,0,i,s.length,t.length),this.resultPoints=i}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Ie;(function(S){S[S.AZTEC=0]="AZTEC",S[S.CODABAR=1]="CODABAR",S[S.CODE_39=2]="CODE_39",S[S.CODE_93=3]="CODE_93",S[S.CODE_128=4]="CODE_128",S[S.DATA_MATRIX=5]="DATA_MATRIX",S[S.EAN_8=6]="EAN_8",S[S.EAN_13=7]="EAN_13",S[S.ITF=8]="ITF",S[S.MAXICODE=9]="MAXICODE",S[S.PDF_417=10]="PDF_417",S[S.QR_CODE=11]="QR_CODE",S[S.RSS_14=12]="RSS_14",S[S.RSS_EXPANDED=13]="RSS_EXPANDED",S[S.UPC_A=14]="UPC_A",S[S.UPC_E=15]="UPC_E",S[S.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ie||(Ie={}));var fe=Ie,ye;(function(S){S[S.OTHER=0]="OTHER",S[S.ORIENTATION=1]="ORIENTATION",S[S.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",S[S.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",S[S.ISSUE_NUMBER=4]="ISSUE_NUMBER",S[S.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",S[S.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",S[S.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",S[S.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",S[S.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",S[S.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(ye||(ye={}));var Re=ye;class ue{constructor(t,s,i,o,c=-1,d=-1){this.rawBytes=t,this.text=s,this.byteSegments=i,this.ecLevel=o,this.structuredAppendSequenceNumber=c,this.structuredAppendParity=d,this.numBits=t==null?0:8*t.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(t){this.numBits=t}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(t){this.errorsCorrected=t}getErasures(){return this.erasures}setErasures(t){this.erasures=t}getOther(){return this.other}setOther(t){this.other=t}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class ce{exp(t){return this.expTable[t]}log(t){if(t===0)throw new v;return this.logTable[t]}static addOrSubtract(t,s){return t^s}}class ke{constructor(t,s){if(s.length===0)throw new v;this.field=t;const i=s.length;if(i>1&&s[0]===0){let o=1;for(;o<i&&s[o]===0;)o++;o===i?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(i-o),T.arraycopy(s,o,this.coefficients,0,this.coefficients.length))}else this.coefficients=s}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);const s=this.coefficients;let i;if(t===1){i=0;for(let d=0,m=s.length;d!==m;d++){const x=s[d];i=ce.addOrSubtract(i,x)}return i}i=s[0];const o=s.length,c=this.field;for(let d=1;d<o;d++)i=ce.addOrSubtract(c.multiply(t,i),s[d]);return i}addOrSubtract(t){if(!this.field.equals(t.field))throw new v("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;let s=this.coefficients,i=t.coefficients;if(s.length>i.length){const d=s;s=i,i=d}let o=new Int32Array(i.length);const c=i.length-s.length;T.arraycopy(i,0,o,0,c);for(let d=c;d<i.length;d++)o[d]=ce.addOrSubtract(s[d-c],i[d]);return new ke(this.field,o)}multiply(t){if(!this.field.equals(t.field))throw new v("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();const s=this.coefficients,i=s.length,o=t.coefficients,c=o.length,d=new Int32Array(i+c-1),m=this.field;for(let x=0;x<i;x++){const y=s[x];for(let N=0;N<c;N++)d[x+N]=ce.addOrSubtract(d[x+N],m.multiply(y,o[N]))}return new ke(m,d)}multiplyScalar(t){if(t===0)return this.field.getZero();if(t===1)return this;const s=this.coefficients.length,i=this.field,o=new Int32Array(s),c=this.coefficients;for(let d=0;d<s;d++)o[d]=i.multiply(c[d],t);return new ke(i,o)}multiplyByMonomial(t,s){if(t<0)throw new v;if(s===0)return this.field.getZero();const i=this.coefficients,o=i.length,c=new Int32Array(o+t),d=this.field;for(let m=0;m<o;m++)c[m]=d.multiply(i[m],s);return new ke(d,c)}divide(t){if(!this.field.equals(t.field))throw new v("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new v("Divide by 0");const s=this.field;let i=s.getZero(),o=this;const c=t.getCoefficient(t.getDegree()),d=s.inverse(c);for(;o.getDegree()>=t.getDegree()&&!o.isZero();){const m=o.getDegree()-t.getDegree(),x=s.multiply(o.getCoefficient(o.getDegree()),d),y=t.multiplyByMonomial(m,x),N=s.buildMonomial(m,x);i=i.addOrSubtract(N),o=o.addOrSubtract(y)}return[i,o]}toString(){let t="";for(let s=this.getDegree();s>=0;s--){let i=this.getCoefficient(s);if(i!==0){if(i<0?(t+=" - ",i=-i):t.length>0&&(t+=" + "),s===0||i!==1){const o=this.field.log(i);o===0?t+="1":o===1?t+="a":(t+="a^",t+=o)}s!==0&&(s===1?t+="x":(t+="x^",t+=s))}}return t}}class Ge extends f{}Ge.kind="ArithmeticException";class _e extends ce{constructor(t,s,i){super(),this.primitive=t,this.size=s,this.generatorBase=i;const o=new Int32Array(s);let c=1;for(let m=0;m<s;m++)o[m]=c,c*=2,c>=s&&(c^=t,c&=s-1);this.expTable=o;const d=new Int32Array(s);for(let m=0;m<s-1;m++)d[o[m]]=m;this.logTable=d,this.zero=new ke(this,Int32Array.from([0])),this.one=new ke(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,s){if(t<0)throw new v;if(s===0)return this.zero;const i=new Int32Array(t+1);return i[0]=s,new ke(this,i)}inverse(t){if(t===0)throw new Ge;return this.expTable[this.size-this.logTable[t]-1]}multiply(t,s){return t===0||s===0?0:this.expTable[(this.logTable[t]+this.logTable[s])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+P.toHexString(this.primitive)+","+this.size+")"}equals(t){return t===this}}_e.AZTEC_DATA_12=new _e(4201,4096,1),_e.AZTEC_DATA_10=new _e(1033,1024,1),_e.AZTEC_DATA_6=new _e(67,64,1),_e.AZTEC_PARAM=new _e(19,16,1),_e.QR_CODE_FIELD_256=new _e(285,256,0),_e.DATA_MATRIX_FIELD_256=new _e(301,256,1),_e.AZTEC_DATA_8=_e.DATA_MATRIX_FIELD_256,_e.MAXICODE_FIELD_64=_e.AZTEC_DATA_6;class bt extends f{}bt.kind="ReedSolomonException";class yt extends f{}yt.kind="IllegalStateException";class ze{constructor(t){this.field=t}decode(t,s){const i=this.field,o=new ke(i,t),c=new Int32Array(s);let d=!0;for(let L=0;L<s;L++){const U=o.evaluateAt(i.exp(L+i.getGeneratorBase()));c[c.length-1-L]=U,U!==0&&(d=!1)}if(d)return;const m=new ke(i,c),x=this.runEuclideanAlgorithm(i.buildMonomial(s,1),m,s),y=x[0],N=x[1],E=this.findErrorLocations(y),_=this.findErrorMagnitudes(N,E);for(let L=0;L<E.length;L++){const U=t.length-1-i.log(E[L]);if(U<0)throw new bt("Bad error location");t[U]=_e.addOrSubtract(t[U],_[L])}}runEuclideanAlgorithm(t,s,i){if(t.getDegree()<s.getDegree()){const L=t;t=s,s=L}const o=this.field;let c=t,d=s,m=o.getZero(),x=o.getOne();for(;d.getDegree()>=(i/2|0);){let L=c,U=m;if(c=d,m=x,c.isZero())throw new bt("r_{i-1} was zero");d=L;let V=o.getZero();const Y=c.getCoefficient(c.getDegree()),te=o.inverse(Y);for(;d.getDegree()>=c.getDegree()&&!d.isZero();){const be=d.getDegree()-c.getDegree(),we=o.multiply(d.getCoefficient(d.getDegree()),te);V=V.addOrSubtract(o.buildMonomial(be,we)),d=d.addOrSubtract(c.multiplyByMonomial(be,we))}if(x=V.multiply(m).addOrSubtract(U),d.getDegree()>=c.getDegree())throw new yt("Division algorithm failed to reduce polynomial?")}const y=x.getCoefficient(0);if(y===0)throw new bt("sigmaTilde(0) was zero");const N=o.inverse(y),E=x.multiplyScalar(N),_=d.multiplyScalar(N);return[E,_]}findErrorLocations(t){const s=t.getDegree();if(s===1)return Int32Array.from([t.getCoefficient(1)]);const i=new Int32Array(s);let o=0;const c=this.field;for(let d=1;d<c.getSize()&&o<s;d++)t.evaluateAt(d)===0&&(i[o]=c.inverse(d),o++);if(o!==s)throw new bt("Error locator degree does not match number of roots");return i}findErrorMagnitudes(t,s){const i=s.length,o=new Int32Array(i),c=this.field;for(let d=0;d<i;d++){const m=c.inverse(s[d]);let x=1;for(let y=0;y<i;y++)if(d!==y){const N=c.multiply(s[y],m),E=N&1?N&-2:N|1;x=c.multiply(x,E)}o[d]=c.multiply(t.evaluateAt(m),c.inverse(x)),c.getGeneratorBase()!==0&&(o[d]=c.multiply(o[d],m))}return o}}var wt;(function(S){S[S.UPPER=0]="UPPER",S[S.LOWER=1]="LOWER",S[S.MIXED=2]="MIXED",S[S.DIGIT=3]="DIGIT",S[S.PUNCT=4]="PUNCT",S[S.BINARY=5]="BINARY"})(wt||(wt={}));class et{decode(t){this.ddata=t;let s=t.getBits(),i=this.extractBits(s),o=this.correctBits(i),c=et.convertBoolArrayToByteArray(o),d=et.getEncodedData(o),m=new ue(c,d,null,null);return m.setNumBits(o.length),m}static highLevelDecode(t){return this.getEncodedData(t)}static getEncodedData(t){let s=t.length,i=wt.UPPER,o=wt.UPPER,c="",d=0;for(;d<s;)if(o===wt.BINARY){if(s-d<5)break;let m=et.readCode(t,d,5);if(d+=5,m===0){if(s-d<11)break;m=et.readCode(t,d,11)+31,d+=11}for(let x=0;x<m;x++){if(s-d<8){d=s;break}const y=et.readCode(t,d,8);c+=F.castAsNonUtf8Char(y),d+=8}o=i}else{let m=o===wt.DIGIT?4:5;if(s-d<m)break;let x=et.readCode(t,d,m);d+=m;let y=et.getCharacter(o,x);y.startsWith("CTRL_")?(i=o,o=et.getTable(y.charAt(5)),y.charAt(6)==="L"&&(i=o)):(c+=y,o=i)}return c}static getTable(t){switch(t){case"L":return wt.LOWER;case"P":return wt.PUNCT;case"M":return wt.MIXED;case"D":return wt.DIGIT;case"B":return wt.BINARY;case"U":default:return wt.UPPER}}static getCharacter(t,s){switch(t){case wt.UPPER:return et.UPPER_TABLE[s];case wt.LOWER:return et.LOWER_TABLE[s];case wt.MIXED:return et.MIXED_TABLE[s];case wt.PUNCT:return et.PUNCT_TABLE[s];case wt.DIGIT:return et.DIGIT_TABLE[s];default:throw new yt("Bad table")}}correctBits(t){let s,i;this.ddata.getNbLayers()<=2?(i=6,s=_e.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(i=8,s=_e.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(i=10,s=_e.AZTEC_DATA_10):(i=12,s=_e.AZTEC_DATA_12);let o=this.ddata.getNbDatablocks(),c=t.length/i;if(c<o)throw new B;let d=t.length%i,m=new Int32Array(c);for(let _=0;_<c;_++,d+=i)m[_]=et.readCode(t,d,i);try{new ze(s).decode(m,c-o)}catch(_){throw new B(_)}let x=(1<<i)-1,y=0;for(let _=0;_<o;_++){let L=m[_];if(L===0||L===x)throw new B;(L===1||L===x-1)&&y++}let N=new Array(o*i-y),E=0;for(let _=0;_<o;_++){let L=m[_];if(L===1||L===x-1)N.fill(L>1,E,E+i-1),E+=i-1;else for(let U=i-1;U>=0;--U)N[E++]=(L&1<<U)!==0}return N}extractBits(t){let s=this.ddata.isCompact(),i=this.ddata.getNbLayers(),o=(s?11:14)+i*4,c=new Int32Array(o),d=new Array(this.totalBitsInLayer(i,s));if(s)for(let m=0;m<c.length;m++)c[m]=m;else{let m=o+1+2*P.truncDivision(P.truncDivision(o,2)-1,15),x=o/2,y=P.truncDivision(m,2);for(let N=0;N<x;N++){let E=N+P.truncDivision(N,15);c[x-N-1]=y-E-1,c[x+N]=y+E+1}}for(let m=0,x=0;m<i;m++){let y=(i-m)*4+(s?9:12),N=m*2,E=o-1-N;for(let _=0;_<y;_++){let L=_*2;for(let U=0;U<2;U++)d[x+L+U]=t.get(c[N+U],c[N+_]),d[x+2*y+L+U]=t.get(c[N+_],c[E-U]),d[x+4*y+L+U]=t.get(c[E-U],c[E-_]),d[x+6*y+L+U]=t.get(c[E-_],c[N+U])}x+=y*8}return d}static readCode(t,s,i){let o=0;for(let c=s;c<s+i;c++)o<<=1,t[c]&&(o|=1);return o}static readByte(t,s){let i=t.length-s;return i>=8?et.readCode(t,s,8):et.readCode(t,s,i)<<8-i}static convertBoolArrayToByteArray(t){let s=new Uint8Array((t.length+7)/8);for(let i=0;i<s.length;i++)s[i]=et.readByte(t,8*i);return s}totalBitsInLayer(t,s){return((s?88:112)+16*t)*t}}et.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],et.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],et.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],et.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],et.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class He{constructor(){}static round(t){return t===NaN?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0}static distance(t,s,i,o){const c=t-i,d=s-o;return Math.sqrt(c*c+d*d)}static sum(t){let s=0;for(let i=0,o=t.length;i!==o;i++){const c=t[i];s+=c}return s}}class W{static floatToIntBits(t){return t}}W.MAX_VALUE=Number.MAX_SAFE_INTEGER;class q{constructor(t,s){this.x=t,this.y=s}getX(){return this.x}getY(){return this.y}equals(t){if(t instanceof q){const s=t;return this.x===s.x&&this.y===s.y}return!1}hashCode(){return 31*W.floatToIntBits(this.x)+W.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(t){const s=this.distance(t[0],t[1]),i=this.distance(t[1],t[2]),o=this.distance(t[0],t[2]);let c,d,m;if(i>=s&&i>=o?(d=t[0],c=t[1],m=t[2]):o>=i&&o>=s?(d=t[1],c=t[0],m=t[2]):(d=t[2],c=t[0],m=t[1]),this.crossProductZ(c,d,m)<0){const x=c;c=m,m=x}t[0]=c,t[1]=d,t[2]=m}static distance(t,s){return He.distance(t.x,t.y,s.x,s.y)}static crossProductZ(t,s,i){const o=s.x,c=s.y;return(i.x-o)*(t.y-c)-(i.y-c)*(t.x-o)}}class Xe{constructor(t,s){this.bits=t,this.points=s}getBits(){return this.bits}getPoints(){return this.points}}class vt extends Xe{constructor(t,s,i,o,c){super(t,s),this.compact=i,this.nbDatablocks=o,this.nbLayers=c}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class It{constructor(t,s,i,o){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),s==null&&(s=It.INIT_SIZE),i==null&&(i=t.getWidth()/2|0),o==null&&(o=t.getHeight()/2|0);const c=s/2|0;if(this.leftInit=i-c,this.rightInit=i+c,this.upInit=o-c,this.downInit=o+c,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new H}detect(){let t=this.leftInit,s=this.rightInit,i=this.upInit,o=this.downInit,c=!1,d=!0,m=!1,x=!1,y=!1,N=!1,E=!1;const _=this.width,L=this.height;for(;d;){d=!1;let U=!0;for(;(U||!x)&&s<_;)U=this.containsBlackPoint(i,o,s,!1),U?(s++,d=!0,x=!0):x||s++;if(s>=_){c=!0;break}let V=!0;for(;(V||!y)&&o<L;)V=this.containsBlackPoint(t,s,o,!0),V?(o++,d=!0,y=!0):y||o++;if(o>=L){c=!0;break}let Y=!0;for(;(Y||!N)&&t>=0;)Y=this.containsBlackPoint(i,o,t,!1),Y?(t--,d=!0,N=!0):N||t--;if(t<0){c=!0;break}let te=!0;for(;(te||!E)&&i>=0;)te=this.containsBlackPoint(t,s,i,!0),te?(i--,d=!0,E=!0):E||i--;if(i<0){c=!0;break}d&&(m=!0)}if(!c&&m){const U=s-t;let V=null;for(let we=1;V===null&&we<U;we++)V=this.getBlackPointOnSegment(t,o-we,t+we,o);if(V==null)throw new H;let Y=null;for(let we=1;Y===null&&we<U;we++)Y=this.getBlackPointOnSegment(t,i+we,t+we,i);if(Y==null)throw new H;let te=null;for(let we=1;te===null&&we<U;we++)te=this.getBlackPointOnSegment(s,i+we,s-we,i);if(te==null)throw new H;let be=null;for(let we=1;be===null&&we<U;we++)be=this.getBlackPointOnSegment(s,o-we,s-we,o);if(be==null)throw new H;return this.centerEdges(be,V,te,Y)}else throw new H}getBlackPointOnSegment(t,s,i,o){const c=He.round(He.distance(t,s,i,o)),d=(i-t)/c,m=(o-s)/c,x=this.image;for(let y=0;y<c;y++){const N=He.round(t+y*d),E=He.round(s+y*m);if(x.get(N,E))return new q(N,E)}return null}centerEdges(t,s,i,o){const c=t.getX(),d=t.getY(),m=s.getX(),x=s.getY(),y=i.getX(),N=i.getY(),E=o.getX(),_=o.getY(),L=It.CORR;return c<this.width/2?[new q(E-L,_+L),new q(m+L,x+L),new q(y-L,N-L),new q(c+L,d-L)]:[new q(E+L,_+L),new q(m+L,x-L),new q(y-L,N+L),new q(c-L,d-L)]}containsBlackPoint(t,s,i,o){const c=this.image;if(o){for(let d=t;d<=s;d++)if(c.get(d,i))return!0}else for(let d=t;d<=s;d++)if(c.get(i,d))return!0;return!1}}It.INIT_SIZE=10,It.CORR=1;class Kt{static checkAndNudgePoints(t,s){const i=t.getWidth(),o=t.getHeight();let c=!0;for(let d=0;d<s.length&&c;d+=2){const m=Math.floor(s[d]),x=Math.floor(s[d+1]);if(m<-1||m>i||x<-1||x>o)throw new H;c=!1,m===-1?(s[d]=0,c=!0):m===i&&(s[d]=i-1,c=!0),x===-1?(s[d+1]=0,c=!0):x===o&&(s[d+1]=o-1,c=!0)}c=!0;for(let d=s.length-2;d>=0&&c;d-=2){const m=Math.floor(s[d]),x=Math.floor(s[d+1]);if(m<-1||m>i||x<-1||x>o)throw new H;c=!1,m===-1?(s[d]=0,c=!0):m===i&&(s[d]=i-1,c=!0),x===-1?(s[d+1]=0,c=!0):x===o&&(s[d+1]=o-1,c=!0)}}}class At{constructor(t,s,i,o,c,d,m,x,y){this.a11=t,this.a21=s,this.a31=i,this.a12=o,this.a22=c,this.a32=d,this.a13=m,this.a23=x,this.a33=y}static quadrilateralToQuadrilateral(t,s,i,o,c,d,m,x,y,N,E,_,L,U,V,Y){const te=At.quadrilateralToSquare(t,s,i,o,c,d,m,x);return At.squareToQuadrilateral(y,N,E,_,L,U,V,Y).times(te)}transformPoints(t){const s=t.length,i=this.a11,o=this.a12,c=this.a13,d=this.a21,m=this.a22,x=this.a23,y=this.a31,N=this.a32,E=this.a33;for(let _=0;_<s;_+=2){const L=t[_],U=t[_+1],V=c*L+x*U+E;t[_]=(i*L+d*U+y)/V,t[_+1]=(o*L+m*U+N)/V}}transformPointsWithValues(t,s){const i=this.a11,o=this.a12,c=this.a13,d=this.a21,m=this.a22,x=this.a23,y=this.a31,N=this.a32,E=this.a33,_=t.length;for(let L=0;L<_;L++){const U=t[L],V=s[L],Y=c*U+x*V+E;t[L]=(i*U+d*V+y)/Y,s[L]=(o*U+m*V+N)/Y}}static squareToQuadrilateral(t,s,i,o,c,d,m,x){const y=t-i+c-m,N=s-o+d-x;if(y===0&&N===0)return new At(i-t,c-i,t,o-s,d-o,s,0,0,1);{const E=i-c,_=m-c,L=o-d,U=x-d,V=E*U-_*L,Y=(y*U-_*N)/V,te=(E*N-y*L)/V;return new At(i-t+Y*i,m-t+te*m,t,o-s+Y*o,x-s+te*x,s,Y,te,1)}}static quadrilateralToSquare(t,s,i,o,c,d,m,x){return At.squareToQuadrilateral(t,s,i,o,c,d,m,x).buildAdjoint()}buildAdjoint(){return new At(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(t){return new At(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)}}class tr extends Kt{sampleGrid(t,s,i,o,c,d,m,x,y,N,E,_,L,U,V,Y,te,be,we){const xe=At.quadrilateralToQuadrilateral(o,c,d,m,x,y,N,E,_,L,U,V,Y,te,be,we);return this.sampleGridWithTransform(t,s,i,xe)}sampleGridWithTransform(t,s,i,o){if(s<=0||i<=0)throw new H;const c=new ae(s,i),d=new Float32Array(2*s);for(let m=0;m<i;m++){const x=d.length,y=m+.5;for(let N=0;N<x;N+=2)d[N]=N/2+.5,d[N+1]=y;o.transformPoints(d),Kt.checkAndNudgePoints(t,d);try{for(let N=0;N<x;N+=2)t.get(Math.floor(d[N]),Math.floor(d[N+1]))&&c.set(N/2,m)}catch{throw new H}}return c}}class dr{static setGridSampler(t){dr.gridSampler=t}static getInstance(){return dr.gridSampler}}dr.gridSampler=new tr;class Nt{constructor(t,s){this.x=t,this.y=s}toResultPoint(){return new q(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class oe{constructor(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}detect(){return this.detectMirror(!1)}detectMirror(t){let s=this.getMatrixCenter(),i=this.getBullsEyeCorners(s);if(t){let d=i[0];i[0]=i[2],i[2]=d}this.extractParameters(i);let o=this.sampleGrid(this.image,i[this.shift%4],i[(this.shift+1)%4],i[(this.shift+2)%4],i[(this.shift+3)%4]),c=this.getMatrixCornerPoints(i);return new vt(o,c,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(t){if(!this.isValidPoint(t[0])||!this.isValidPoint(t[1])||!this.isValidPoint(t[2])||!this.isValidPoint(t[3]))throw new H;let s=2*this.nbCenterLayers,i=new Int32Array([this.sampleLine(t[0],t[1],s),this.sampleLine(t[1],t[2],s),this.sampleLine(t[2],t[3],s),this.sampleLine(t[3],t[0],s)]);this.shift=this.getRotation(i,s);let o=0;for(let d=0;d<4;d++){let m=i[(this.shift+d)%4];this.compact?(o<<=7,o+=m>>1&127):(o<<=10,o+=(m>>2&992)+(m>>1&31))}let c=this.getCorrectedParameterData(o,this.compact);this.compact?(this.nbLayers=(c>>6)+1,this.nbDataBlocks=(c&63)+1):(this.nbLayers=(c>>11)+1,this.nbDataBlocks=(c&2047)+1)}getRotation(t,s){let i=0;t.forEach((o,c,d)=>{let m=(o>>s-2<<1)+(o&1);i=(i<<3)+m}),i=((i&1)<<11)+(i>>1);for(let o=0;o<4;o++)if(P.bitCount(i^this.EXPECTED_CORNER_BITS[o])<=2)return o;throw new H}getCorrectedParameterData(t,s){let i,o;s?(i=7,o=2):(i=10,o=4);let c=i-o,d=new Int32Array(i);for(let x=i-1;x>=0;--x)d[x]=t&15,t>>=4;try{new ze(_e.AZTEC_PARAM).decode(d,c)}catch{throw new H}let m=0;for(let x=0;x<o;x++)m=(m<<4)+d[x];return m}getBullsEyeCorners(t){let s=t,i=t,o=t,c=t,d=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let E=this.getFirstDifferent(s,d,1,-1),_=this.getFirstDifferent(i,d,1,1),L=this.getFirstDifferent(o,d,-1,1),U=this.getFirstDifferent(c,d,-1,-1);if(this.nbCenterLayers>2){let V=this.distancePoint(U,E)*this.nbCenterLayers/(this.distancePoint(c,s)*(this.nbCenterLayers+2));if(V<.75||V>1.25||!this.isWhiteOrBlackRectangle(E,_,L,U))break}s=E,i=_,o=L,c=U,d=!d}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new H;this.compact=this.nbCenterLayers===5;let m=new q(s.getX()+.5,s.getY()-.5),x=new q(i.getX()+.5,i.getY()+.5),y=new q(o.getX()-.5,o.getY()+.5),N=new q(c.getX()-.5,c.getY()-.5);return this.expandSquare([m,x,y,N],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let t,s,i,o;try{let m=new It(this.image).detect();t=m[0],s=m[1],i=m[2],o=m[3]}catch{let x=this.image.getWidth()/2,y=this.image.getHeight()/2;t=this.getFirstDifferent(new Nt(x+7,y-7),!1,1,-1).toResultPoint(),s=this.getFirstDifferent(new Nt(x+7,y+7),!1,1,1).toResultPoint(),i=this.getFirstDifferent(new Nt(x-7,y+7),!1,-1,1).toResultPoint(),o=this.getFirstDifferent(new Nt(x-7,y-7),!1,-1,-1).toResultPoint()}let c=He.round((t.getX()+o.getX()+s.getX()+i.getX())/4),d=He.round((t.getY()+o.getY()+s.getY()+i.getY())/4);try{let m=new It(this.image,15,c,d).detect();t=m[0],s=m[1],i=m[2],o=m[3]}catch{t=this.getFirstDifferent(new Nt(c+7,d-7),!1,1,-1).toResultPoint(),s=this.getFirstDifferent(new Nt(c+7,d+7),!1,1,1).toResultPoint(),i=this.getFirstDifferent(new Nt(c-7,d+7),!1,-1,1).toResultPoint(),o=this.getFirstDifferent(new Nt(c-7,d-7),!1,-1,-1).toResultPoint()}return c=He.round((t.getX()+o.getX()+s.getX()+i.getX())/4),d=He.round((t.getY()+o.getY()+s.getY()+i.getY())/4),new Nt(c,d)}getMatrixCornerPoints(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())}sampleGrid(t,s,i,o,c){let d=dr.getInstance(),m=this.getDimension(),x=m/2-this.nbCenterLayers,y=m/2+this.nbCenterLayers;return d.sampleGrid(t,m,m,x,x,y,x,y,y,x,y,s.getX(),s.getY(),i.getX(),i.getY(),o.getX(),o.getY(),c.getX(),c.getY())}sampleLine(t,s,i){let o=0,c=this.distanceResultPoint(t,s),d=c/i,m=t.getX(),x=t.getY(),y=d*(s.getX()-t.getX())/c,N=d*(s.getY()-t.getY())/c;for(let E=0;E<i;E++)this.image.get(He.round(m+E*y),He.round(x+E*N))&&(o|=1<<i-E-1);return o}isWhiteOrBlackRectangle(t,s,i,o){let c=3;t=new Nt(t.getX()-c,t.getY()+c),s=new Nt(s.getX()-c,s.getY()-c),i=new Nt(i.getX()+c,i.getY()-c),o=new Nt(o.getX()+c,o.getY()+c);let d=this.getColor(o,t);if(d===0)return!1;let m=this.getColor(t,s);return m!==d||(m=this.getColor(s,i),m!==d)?!1:(m=this.getColor(i,o),m===d)}getColor(t,s){let i=this.distancePoint(t,s),o=(s.getX()-t.getX())/i,c=(s.getY()-t.getY())/i,d=0,m=t.getX(),x=t.getY(),y=this.image.get(t.getX(),t.getY()),N=Math.ceil(i);for(let _=0;_<N;_++)m+=o,x+=c,this.image.get(He.round(m),He.round(x))!==y&&d++;let E=d/i;return E>.1&&E<.9?0:E<=.1===y?1:-1}getFirstDifferent(t,s,i,o){let c=t.getX()+i,d=t.getY()+o;for(;this.isValid(c,d)&&this.image.get(c,d)===s;)c+=i,d+=o;for(c-=i,d-=o;this.isValid(c,d)&&this.image.get(c,d)===s;)c+=i;for(c-=i;this.isValid(c,d)&&this.image.get(c,d)===s;)d+=o;return d-=o,new Nt(c,d)}expandSquare(t,s,i){let o=i/(2*s),c=t[0].getX()-t[2].getX(),d=t[0].getY()-t[2].getY(),m=(t[0].getX()+t[2].getX())/2,x=(t[0].getY()+t[2].getY())/2,y=new q(m+o*c,x+o*d),N=new q(m-o*c,x-o*d);c=t[1].getX()-t[3].getX(),d=t[1].getY()-t[3].getY(),m=(t[1].getX()+t[3].getX())/2,x=(t[1].getY()+t[3].getY())/2;let E=new q(m+o*c,x+o*d),_=new q(m-o*c,x-o*d);return[y,E,N,_]}isValid(t,s){return t>=0&&t<this.image.getWidth()&&s>0&&s<this.image.getHeight()}isValidPoint(t){let s=He.round(t.getX()),i=He.round(t.getY());return this.isValid(s,i)}distancePoint(t,s){return He.distance(t.getX(),t.getY(),s.getX(),s.getY())}distanceResultPoint(t,s){return He.distance(t.getX(),t.getY(),s.getX(),s.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(P.truncDivision(this.nbLayers-4,8)+1)+15}}class Je{decode(t,s=null){let i=null,o=new oe(t.getBlackMatrix()),c=null,d=null;try{let N=o.detectMirror(!1);c=N.getPoints(),this.reportFoundResultPoints(s,c),d=new et().decode(N)}catch(N){i=N}if(d==null)try{let N=o.detectMirror(!0);c=N.getPoints(),this.reportFoundResultPoints(s,c),d=new et().decode(N)}catch(N){throw i??N}let m=new Ce(d.getText(),d.getRawBytes(),d.getNumBits(),c,fe.AZTEC,T.currentTimeMillis()),x=d.getByteSegments();x!=null&&m.putMetadata(Re.BYTE_SEGMENTS,x);let y=d.getECLevel();return y!=null&&m.putMetadata(Re.ERROR_CORRECTION_LEVEL,y),m}reportFoundResultPoints(t,s){if(t!=null){let i=t.get(D.NEED_RESULT_POINT_CALLBACK);i!=null&&s.forEach((o,c,d)=>{i.foundPossibleResultPoint(o)})}}reset(){}}class Ue extends ge{constructor(t=500){super(new Je,t)}}class Be{decode(t,s){try{return this.doDecode(t,s)}catch{if(s&&s.get(D.TRY_HARDER)===!0&&t.isRotateSupported()){const c=t.rotateCounterClockwise(),d=this.doDecode(c,s),m=d.getResultMetadata();let x=270;m!==null&&m.get(Re.ORIENTATION)===!0&&(x=x+m.get(Re.ORIENTATION)%360),d.putMetadata(Re.ORIENTATION,x);const y=d.getResultPoints();if(y!==null){const N=c.getHeight();for(let E=0;E<y.length;E++)y[E]=new q(N-y[E].getY()-1,y[E].getX())}return d}else throw new H}}reset(){}doDecode(t,s){const i=t.getWidth(),o=t.getHeight();let c=new G(i);const d=s&&s.get(D.TRY_HARDER)===!0,m=Math.max(1,o>>(d?8:5));let x;d?x=o:x=15;const y=Math.trunc(o/2);for(let N=0;N<x;N++){const E=Math.trunc((N+1)/2),_=(N&1)===0,L=y+m*(_?E:-E);if(L<0||L>=o)break;try{c=t.getBlackRow(L,c)}catch{continue}for(let U=0;U<2;U++){if(U===1&&(c.reverse(),s&&s.get(D.NEED_RESULT_POINT_CALLBACK)===!0)){const V=new Map;s.forEach((Y,te)=>V.set(te,Y)),V.delete(D.NEED_RESULT_POINT_CALLBACK),s=V}try{const V=this.decodeRow(L,c,s);if(U===1){V.putMetadata(Re.ORIENTATION,180);const Y=V.getResultPoints();Y!==null&&(Y[0]=new q(i-Y[0].getX()-1,Y[0].getY()),Y[1]=new q(i-Y[1].getX()-1,Y[1].getY()))}return V}catch{}}}throw new H}static recordPattern(t,s,i){const o=i.length;for(let y=0;y<o;y++)i[y]=0;const c=t.getSize();if(s>=c)throw new H;let d=!t.get(s),m=0,x=s;for(;x<c;){if(t.get(x)!==d)i[m]++;else{if(++m===o)break;i[m]=1,d=!d}x++}if(!(m===o||m===o-1&&x===c))throw new H}static recordPatternInReverse(t,s,i){let o=i.length,c=t.get(s);for(;s>0&&o>=0;)t.get(--s)!==c&&(o--,c=!c);if(o>=0)throw new H;Be.recordPattern(t,s+1,i)}static patternMatchVariance(t,s,i){const o=t.length;let c=0,d=0;for(let y=0;y<o;y++)c+=t[y],d+=s[y];if(c<d)return Number.POSITIVE_INFINITY;const m=c/d;i*=m;let x=0;for(let y=0;y<o;y++){const N=t[y],E=s[y]*m,_=N>E?N-E:E-N;if(_>i)return Number.POSITIVE_INFINITY;x+=_}return x/c}}class pe extends Be{static findStartPattern(t){const s=t.getSize(),i=t.getNextSet(0);let o=0,c=Int32Array.from([0,0,0,0,0,0]),d=i,m=!1;const x=6;for(let y=i;y<s;y++)if(t.get(y)!==m)c[o]++;else{if(o===x-1){let N=pe.MAX_AVG_VARIANCE,E=-1;for(let _=pe.CODE_START_A;_<=pe.CODE_START_C;_++){const L=Be.patternMatchVariance(c,pe.CODE_PATTERNS[_],pe.MAX_INDIVIDUAL_VARIANCE);L<N&&(N=L,E=_)}if(E>=0&&t.isRange(Math.max(0,d-(y-d)/2),d,!1))return Int32Array.from([d,y,E]);d+=c[0]+c[1],c=c.slice(2,c.length-1),c[o-1]=0,c[o]=0,o--}else o++;c[o]=1,m=!m}throw new H}static decodeCode(t,s,i){Be.recordPattern(t,i,s);let o=pe.MAX_AVG_VARIANCE,c=-1;for(let d=0;d<pe.CODE_PATTERNS.length;d++){const m=pe.CODE_PATTERNS[d],x=this.patternMatchVariance(s,m,pe.MAX_INDIVIDUAL_VARIANCE);x<o&&(o=x,c=d)}if(c>=0)return c;throw new H}decodeRow(t,s,i){const o=i&&i.get(D.ASSUME_GS1)===!0,c=pe.findStartPattern(s),d=c[2];let m=0;const x=new Uint8Array(20);x[m++]=d;let y;switch(d){case pe.CODE_START_A:y=pe.CODE_CODE_A;break;case pe.CODE_START_B:y=pe.CODE_CODE_B;break;case pe.CODE_START_C:y=pe.CODE_CODE_C;break;default:throw new B}let N=!1,E=!1,_="",L=c[0],U=c[1];const V=Int32Array.from([0,0,0,0,0,0]);let Y=0,te=0,be=d,we=0,xe=!0,Ke=!1,Ve=!1;for(;!N;){const ea=E;switch(E=!1,Y=te,te=pe.decodeCode(s,V,U),x[m++]=te,te!==pe.CODE_STOP&&(xe=!0),te!==pe.CODE_STOP&&(we++,be+=we*te),L=U,U+=V.reduce((F0,U0)=>F0+U0,0),te){case pe.CODE_START_A:case pe.CODE_START_B:case pe.CODE_START_C:throw new B}switch(y){case pe.CODE_CODE_A:if(te<64)Ve===Ke?_+=String.fromCharCode(32+te):_+=String.fromCharCode(32+te+128),Ve=!1;else if(te<96)Ve===Ke?_+=String.fromCharCode(te-64):_+=String.fromCharCode(te+64),Ve=!1;else switch(te!==pe.CODE_STOP&&(xe=!1),te){case pe.CODE_FNC_1:o&&(_.length===0?_+="]C1":_+="");break;case pe.CODE_FNC_2:case pe.CODE_FNC_3:break;case pe.CODE_FNC_4_A:!Ke&&Ve?(Ke=!0,Ve=!1):Ke&&Ve?(Ke=!1,Ve=!1):Ve=!0;break;case pe.CODE_SHIFT:E=!0,y=pe.CODE_CODE_B;break;case pe.CODE_CODE_B:y=pe.CODE_CODE_B;break;case pe.CODE_CODE_C:y=pe.CODE_CODE_C;break;case pe.CODE_STOP:N=!0;break}break;case pe.CODE_CODE_B:if(te<96)Ve===Ke?_+=String.fromCharCode(32+te):_+=String.fromCharCode(32+te+128),Ve=!1;else switch(te!==pe.CODE_STOP&&(xe=!1),te){case pe.CODE_FNC_1:o&&(_.length===0?_+="]C1":_+="");break;case pe.CODE_FNC_2:case pe.CODE_FNC_3:break;case pe.CODE_FNC_4_B:!Ke&&Ve?(Ke=!0,Ve=!1):Ke&&Ve?(Ke=!1,Ve=!1):Ve=!0;break;case pe.CODE_SHIFT:E=!0,y=pe.CODE_CODE_A;break;case pe.CODE_CODE_A:y=pe.CODE_CODE_A;break;case pe.CODE_CODE_C:y=pe.CODE_CODE_C;break;case pe.CODE_STOP:N=!0;break}break;case pe.CODE_CODE_C:if(te<100)te<10&&(_+="0"),_+=te;else switch(te!==pe.CODE_STOP&&(xe=!1),te){case pe.CODE_FNC_1:o&&(_.length===0?_+="]C1":_+="");break;case pe.CODE_CODE_A:y=pe.CODE_CODE_A;break;case pe.CODE_CODE_B:y=pe.CODE_CODE_B;break;case pe.CODE_STOP:N=!0;break}break}ea&&(y=y===pe.CODE_CODE_A?pe.CODE_CODE_B:pe.CODE_CODE_A)}const br=U-L;if(U=s.getNextUnset(U),!s.isRange(U,Math.min(s.getSize(),U+(U-L)/2),!1))throw new H;if(be-=we*Y,be%103!==Y)throw new A;const Lr=_.length;if(Lr===0)throw new H;Lr>0&&xe&&(y===pe.CODE_CODE_C?_=_.substring(0,Lr-2):_=_.substring(0,Lr-1));const yr=(c[1]+c[0])/2,ft=L+br/2,Jt=x.length,kr=new Uint8Array(Jt);for(let ea=0;ea<Jt;ea++)kr[ea]=x[ea];const Js=[new q(yr,t),new q(ft,t)];return new Ce(_,kr,0,Js,fe.CODE_128,new Date().getTime())}}pe.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],pe.MAX_AVG_VARIANCE=.25,pe.MAX_INDIVIDUAL_VARIANCE=.7,pe.CODE_SHIFT=98,pe.CODE_CODE_C=99,pe.CODE_CODE_B=100,pe.CODE_CODE_A=101,pe.CODE_FNC_1=102,pe.CODE_FNC_2=97,pe.CODE_FNC_3=96,pe.CODE_FNC_4_A=101,pe.CODE_FNC_4_B=100,pe.CODE_START_A=103,pe.CODE_START_B=104,pe.CODE_START_C=105,pe.CODE_STOP=106;class nt extends Be{constructor(t=!1,s=!1){super(),this.usingCheckDigit=t,this.extendedMode=s,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(t,s,i){let o=this.counters;o.fill(0),this.decodeRowResult="";let c=nt.findAsteriskPattern(s,o),d=s.getNextSet(c[1]),m=s.getSize(),x,y;do{nt.recordPattern(s,d,o);let V=nt.toNarrowWidePattern(o);if(V<0)throw new H;x=nt.patternToChar(V),this.decodeRowResult+=x,y=d;for(let Y of o)d+=Y;d=s.getNextSet(d)}while(x!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let N=0;for(let V of o)N+=V;let E=d-y-N;if(d!==m&&E*2<N)throw new H;if(this.usingCheckDigit){let V=this.decodeRowResult.length-1,Y=0;for(let te=0;te<V;te++)Y+=nt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(te));if(this.decodeRowResult.charAt(V)!==nt.ALPHABET_STRING.charAt(Y%43))throw new A;this.decodeRowResult=this.decodeRowResult.substring(0,V)}if(this.decodeRowResult.length===0)throw new H;let _;this.extendedMode?_=nt.decodeExtended(this.decodeRowResult):_=this.decodeRowResult;let L=(c[1]+c[0])/2,U=y+N/2;return new Ce(_,null,0,[new q(L,t),new q(U,t)],fe.CODE_39,new Date().getTime())}static findAsteriskPattern(t,s){let i=t.getSize(),o=t.getNextSet(0),c=0,d=o,m=!1,x=s.length;for(let y=o;y<i;y++)if(t.get(y)!==m)s[c]++;else{if(c===x-1){if(this.toNarrowWidePattern(s)===nt.ASTERISK_ENCODING&&t.isRange(Math.max(0,d-Math.floor((y-d)/2)),d,!1))return[d,y];d+=s[0]+s[1],s.copyWithin(0,2,2+c-1),s[c-1]=0,s[c]=0,c--}else c++;s[c]=1,m=!m}throw new H}static toNarrowWidePattern(t){let s=t.length,i=0,o;do{let c=2147483647;for(let x of t)x<c&&x>i&&(c=x);i=c,o=0;let d=0,m=0;for(let x=0;x<s;x++){let y=t[x];y>i&&(m|=1<<s-1-x,o++,d+=y)}if(o===3){for(let x=0;x<s&&o>0;x++){let y=t[x];if(y>i&&(o--,y*2>=d))return-1}return m}}while(o>3);return-1}static patternToChar(t){for(let s=0;s<nt.CHARACTER_ENCODINGS.length;s++)if(nt.CHARACTER_ENCODINGS[s]===t)return nt.ALPHABET_STRING.charAt(s);if(t===nt.ASTERISK_ENCODING)return"*";throw new H}static decodeExtended(t){let s=t.length,i="";for(let o=0;o<s;o++){let c=t.charAt(o);if(c==="+"||c==="$"||c==="%"||c==="/"){let d=t.charAt(o+1),m="\0";switch(c){case"+":if(d>="A"&&d<="Z")m=String.fromCharCode(d.charCodeAt(0)+32);else throw new B;break;case"$":if(d>="A"&&d<="Z")m=String.fromCharCode(d.charCodeAt(0)-64);else throw new B;break;case"%":if(d>="A"&&d<="E")m=String.fromCharCode(d.charCodeAt(0)-38);else if(d>="F"&&d<="J")m=String.fromCharCode(d.charCodeAt(0)-11);else if(d>="K"&&d<="O")m=String.fromCharCode(d.charCodeAt(0)+16);else if(d>="P"&&d<="T")m=String.fromCharCode(d.charCodeAt(0)+43);else if(d==="U")m="\0";else if(d==="V")m="@";else if(d==="W")m="`";else if(d==="X"||d==="Y"||d==="Z")m="";else throw new B;break;case"/":if(d>="A"&&d<="O")m=String.fromCharCode(d.charCodeAt(0)-32);else if(d==="Z")m=":";else throw new B;break}i+=m,o++}else i+=c}return i}}nt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",nt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],nt.ASTERISK_ENCODING=148;class mt extends Be{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(t,s,i){let o=this.decodeStart(s),c=this.decodeEnd(s),d=new X;mt.decodeMiddle(s,o[1],c[0],d);let m=d.toString(),x=null;i!=null&&(x=i.get(D.ALLOWED_LENGTHS)),x==null&&(x=mt.DEFAULT_ALLOWED_LENGTHS);let y=m.length,N=!1,E=0;for(let U of x){if(y===U){N=!0;break}U>E&&(E=U)}if(!N&&y>E&&(N=!0),!N)throw new B;const _=[new q(o[1],t),new q(c[0],t)];return new Ce(m,null,0,_,fe.ITF,new Date().getTime())}static decodeMiddle(t,s,i,o){let c=new Int32Array(10),d=new Int32Array(5),m=new Int32Array(5);for(c.fill(0),d.fill(0),m.fill(0);s<i;){Be.recordPattern(t,s,c);for(let y=0;y<5;y++){let N=2*y;d[y]=c[N],m[y]=c[N+1]}let x=mt.decodeDigit(d);o.append(x.toString()),x=this.decodeDigit(m),o.append(x.toString()),c.forEach(function(y){s+=y})}}decodeStart(t){let s=mt.skipWhiteSpace(t),i=mt.findGuardPattern(t,s,mt.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(t,i[0]),i}validateQuietZone(t,s){let i=this.narrowLineWidth*10;i=i<s?i:s;for(let o=s-1;i>0&&o>=0&&!t.get(o);o--)i--;if(i!==0)throw new H}static skipWhiteSpace(t){const s=t.getSize(),i=t.getNextSet(0);if(i===s)throw new H;return i}decodeEnd(t){t.reverse();try{let s=mt.skipWhiteSpace(t),i;try{i=mt.findGuardPattern(t,s,mt.END_PATTERN_REVERSED[0])}catch(c){c instanceof H&&(i=mt.findGuardPattern(t,s,mt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,i[0]);let o=i[0];return i[0]=t.getSize()-i[1],i[1]=t.getSize()-o,i}finally{t.reverse()}}static findGuardPattern(t,s,i){let o=i.length,c=new Int32Array(o),d=t.getSize(),m=!1,x=0,y=s;c.fill(0);for(let N=s;N<d;N++)if(t.get(N)!==m)c[x]++;else{if(x===o-1){if(Be.patternMatchVariance(c,i,mt.MAX_INDIVIDUAL_VARIANCE)<mt.MAX_AVG_VARIANCE)return[y,N];y+=c[0]+c[1],T.arraycopy(c,2,c,0,x-1),c[x-1]=0,c[x]=0,x--}else x++;c[x]=1,m=!m}throw new H}static decodeDigit(t){let s=mt.MAX_AVG_VARIANCE,i=-1,o=mt.PATTERNS.length;for(let c=0;c<o;c++){let d=mt.PATTERNS[c],m=Be.patternMatchVariance(t,d,mt.MAX_INDIVIDUAL_VARIANCE);m<s?(s=m,i=c):m===s&&(i=-1)}if(i>=0)return i%10;throw new H}}mt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],mt.MAX_AVG_VARIANCE=.38,mt.MAX_INDIVIDUAL_VARIANCE=.5,mt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],mt.START_PATTERN=Int32Array.from([1,1,1,1]),mt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Rt extends Be{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(t){let s=!1,i,o=0,c=Int32Array.from([0,0,0]);for(;!s;){c=Int32Array.from([0,0,0]),i=Rt.findGuardPattern(t,o,!1,this.START_END_PATTERN,c);let d=i[0];o=i[1];let m=d-(o-d);m>=0&&(s=t.isRange(m,d,!1))}return i}static checkChecksum(t){return Rt.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let s=t.length;if(s===0)return!1;let i=parseInt(t.charAt(s-1),10);return Rt.getStandardUPCEANChecksum(t.substring(0,s-1))===i}static getStandardUPCEANChecksum(t){let s=t.length,i=0;for(let o=s-1;o>=0;o-=2){let c=t.charAt(o).charCodeAt(0)-48;if(c<0||c>9)throw new B;i+=c}i*=3;for(let o=s-2;o>=0;o-=2){let c=t.charAt(o).charCodeAt(0)-48;if(c<0||c>9)throw new B;i+=c}return(1e3-i)%10}static decodeEnd(t,s){return Rt.findGuardPattern(t,s,!1,Rt.START_END_PATTERN,new Int32Array(Rt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(t,s,i,o){return this.findGuardPattern(t,s,i,o,new Int32Array(o.length))}static findGuardPattern(t,s,i,o,c){let d=t.getSize();s=i?t.getNextUnset(s):t.getNextSet(s);let m=0,x=s,y=o.length,N=i;for(let E=s;E<d;E++)if(t.get(E)!==N)c[m]++;else{if(m===y-1){if(Be.patternMatchVariance(c,o,Rt.MAX_INDIVIDUAL_VARIANCE)<Rt.MAX_AVG_VARIANCE)return Int32Array.from([x,E]);x+=c[0]+c[1];let _=c.slice(2,c.length-1);for(let L=0;L<m-1;L++)c[L]=_[L];c[m-1]=0,c[m]=0,m--}else m++;c[m]=1,N=!N}throw new H}static decodeDigit(t,s,i,o){this.recordPattern(t,i,s);let c=this.MAX_AVG_VARIANCE,d=-1,m=o.length;for(let x=0;x<m;x++){let y=o[x],N=Be.patternMatchVariance(s,y,Rt.MAX_INDIVIDUAL_VARIANCE);N<c&&(c=N,d=x)}if(d>=0)return d;throw new H}}Rt.MAX_AVG_VARIANCE=.48,Rt.MAX_INDIVIDUAL_VARIANCE=.7,Rt.START_END_PATTERN=Int32Array.from([1,1,1]),Rt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Rt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Rt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Ca{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,s,i){let o=this.decodeRowStringBuffer,c=this.decodeMiddle(s,i,o),d=o.toString(),m=Ca.parseExtensionString(d),x=[new q((i[0]+i[1])/2,t),new q(c,t)],y=new Ce(d,null,0,x,fe.UPC_EAN_EXTENSION,new Date().getTime());return m!=null&&y.putAllMetadata(m),y}decodeMiddle(t,s,i){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let c=t.getSize(),d=s[1],m=0;for(let y=0;y<5&&d<c;y++){let N=Rt.decodeDigit(t,o,d,Rt.L_AND_G_PATTERNS);i+=String.fromCharCode(48+N%10);for(let E of o)d+=E;N>=10&&(m|=1<<4-y),y!==4&&(d=t.getNextSet(d),d=t.getNextUnset(d))}if(i.length!==5)throw new H;let x=this.determineCheckDigit(m);if(Ca.extensionChecksum(i.toString())!==x)throw new H;return d}static extensionChecksum(t){let s=t.length,i=0;for(let o=s-2;o>=0;o-=2)i+=t.charAt(o).charCodeAt(0)-48;i*=3;for(let o=s-1;o>=0;o-=2)i+=t.charAt(o).charCodeAt(0)-48;return i*=3,i%10}determineCheckDigit(t){for(let s=0;s<10;s++)if(t===this.CHECK_DIGIT_ENCODINGS[s])return s;throw new H}static parseExtensionString(t){if(t.length!==5)return null;let s=Ca.parseExtension5String(t);return s==null?null:new Map([[Re.SUGGESTED_PRICE,s]])}static parseExtension5String(t){let s;switch(t.charAt(0)){case"0":s="";break;case"5":s="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}s="";break;default:s="";break}let i=parseInt(t.substring(1)),o=(i/100).toString(),c=i%100,d=c<10?"0"+c:c.toString();return s+o+"."+d}}class ai{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,s,i){let o=this.decodeRowStringBuffer,c=this.decodeMiddle(s,i,o),d=o.toString(),m=ai.parseExtensionString(d),x=[new q((i[0]+i[1])/2,t),new q(c,t)],y=new Ce(d,null,0,x,fe.UPC_EAN_EXTENSION,new Date().getTime());return m!=null&&y.putAllMetadata(m),y}decodeMiddle(t,s,i){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let c=t.getSize(),d=s[1],m=0;for(let x=0;x<2&&d<c;x++){let y=Rt.decodeDigit(t,o,d,Rt.L_AND_G_PATTERNS);i+=String.fromCharCode(48+y%10);for(let N of o)d+=N;y>=10&&(m|=1<<1-x),x!==1&&(d=t.getNextSet(d),d=t.getNextUnset(d))}if(i.length!==2)throw new H;if(parseInt(i.toString())%4!==m)throw new H;return d}static parseExtensionString(t){return t.length!==2?null:new Map([[Re.ISSUE_NUMBER,parseInt(t)]])}}class Uo{static decodeRow(t,s,i){let o=Rt.findGuardPattern(s,i,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Ca().decodeRow(t,s,o)}catch{return new ai().decodeRow(t,s,o)}}}Uo.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class st extends Rt{constructor(){super(),this.decodeRowStringBuffer="",st.L_AND_G_PATTERNS=st.L_PATTERNS.map(t=>Int32Array.from(t));for(let t=10;t<20;t++){let s=st.L_PATTERNS[t-10],i=new Int32Array(s.length);for(let o=0;o<s.length;o++)i[o]=s[s.length-o-1];st.L_AND_G_PATTERNS[t]=i}}decodeRow(t,s,i){let o=st.findStartGuardPattern(s),c=i==null?null:i.get(D.NEED_RESULT_POINT_CALLBACK);if(c!=null){const xe=new q((o[0]+o[1])/2,t);c.foundPossibleResultPoint(xe)}let d=this.decodeMiddle(s,o,this.decodeRowStringBuffer),m=d.rowOffset,x=d.resultString;if(c!=null){const xe=new q(m,t);c.foundPossibleResultPoint(xe)}let y=this.decodeEnd(s,m);if(c!=null){const xe=new q((y[0]+y[1])/2,t);c.foundPossibleResultPoint(xe)}let N=y[1],E=N+(N-y[0]);if(E>=s.getSize()||!s.isRange(N,E,!1))throw new H;let _=x.toString();if(_.length<8)throw new B;if(!st.checkChecksum(_))throw new A;let L=(o[1]+o[0])/2,U=(y[1]+y[0])/2,V=this.getBarcodeFormat(),Y=[new q(L,t),new q(U,t)],te=new Ce(_,null,0,Y,V,new Date().getTime()),be=0;try{let xe=Uo.decodeRow(t,s,y[1]);te.putMetadata(Re.UPC_EAN_EXTENSION,xe.getText()),te.putAllMetadata(xe.getResultMetadata()),te.addResultPoints(xe.getResultPoints()),be=xe.getText().length}catch{}let we=i==null?null:i.get(D.ALLOWED_EAN_EXTENSIONS);if(we!=null){let xe=!1;for(let Ke in we)if(be.toString()===Ke){xe=!0;break}if(!xe)throw new H}return te}decodeEnd(t,s){return st.findGuardPattern(t,s,!1,st.START_END_PATTERN,new Int32Array(st.START_END_PATTERN.length).fill(0))}static checkChecksum(t){return st.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let s=t.length;if(s===0)return!1;let i=parseInt(t.charAt(s-1),10);return st.getStandardUPCEANChecksum(t.substring(0,s-1))===i}static getStandardUPCEANChecksum(t){let s=t.length,i=0;for(let o=s-1;o>=0;o-=2){let c=t.charAt(o).charCodeAt(0)-48;if(c<0||c>9)throw new B;i+=c}i*=3;for(let o=s-2;o>=0;o-=2){let c=t.charAt(o).charCodeAt(0)-48;if(c<0||c>9)throw new B;i+=c}return(1e3-i)%10}}class js extends st{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,s,i){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let c=t.getSize(),d=s[1],m=0;for(let y=0;y<6&&d<c;y++){let N=st.decodeDigit(t,o,d,st.L_AND_G_PATTERNS);i+=String.fromCharCode(48+N%10);for(let E of o)d+=E;N>=10&&(m|=1<<5-y)}i=js.determineFirstDigit(i,m),d=st.findGuardPattern(t,d,!0,st.MIDDLE_PATTERN,new Int32Array(st.MIDDLE_PATTERN.length).fill(0))[1];for(let y=0;y<6&&d<c;y++){let N=st.decodeDigit(t,o,d,st.L_PATTERNS);i+=String.fromCharCode(48+N);for(let E of o)d+=E}return{rowOffset:d,resultString:i}}getBarcodeFormat(){return fe.EAN_13}static determineFirstDigit(t,s){for(let i=0;i<10;i++)if(s===this.FIRST_DIGIT_ENCODINGS[i])return t=String.fromCharCode(48+i)+t,t;throw new H}}js.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Vo extends st{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,s,i){const o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let c=t.getSize(),d=s[1];for(let x=0;x<4&&d<c;x++){let y=st.decodeDigit(t,o,d,st.L_PATTERNS);i+=String.fromCharCode(48+y);for(let N of o)d+=N}d=st.findGuardPattern(t,d,!0,st.MIDDLE_PATTERN,new Int32Array(st.MIDDLE_PATTERN.length).fill(0))[1];for(let x=0;x<4&&d<c;x++){let y=st.decodeDigit(t,o,d,st.L_PATTERNS);i+=String.fromCharCode(48+y);for(let N of o)d+=N}return{rowOffset:d,resultString:i}}getBarcodeFormat(){return fe.EAN_8}}class $o extends st{constructor(){super(...arguments),this.ean13Reader=new js}getBarcodeFormat(){return fe.UPC_A}decode(t,s){return this.maybeReturnResult(this.ean13Reader.decode(t))}decodeRow(t,s,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,s,i))}decodeMiddle(t,s,i){return this.ean13Reader.decodeMiddle(t,s,i)}maybeReturnResult(t){let s=t.getText();if(s.charAt(0)==="0"){let i=new Ce(s.substring(1),null,null,t.getResultPoints(),fe.UPC_A);return t.getResultMetadata()!=null&&i.putAllMetadata(t.getResultMetadata()),i}else throw new H}reset(){this.ean13Reader.reset()}}class Br extends st{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(t,s,i){const o=this.decodeMiddleCounters.map(y=>y);o[0]=0,o[1]=0,o[2]=0,o[3]=0;const c=t.getSize();let d=s[1],m=0;for(let y=0;y<6&&d<c;y++){const N=Br.decodeDigit(t,o,d,Br.L_AND_G_PATTERNS);i+=String.fromCharCode(48+N%10);for(let E of o)d+=E;N>=10&&(m|=1<<5-y)}let x=Br.determineNumSysAndCheckDigit(i,m);return{rowOffset:d,resultString:x}}decodeEnd(t,s){return Br.findGuardPatternWithoutCounters(t,s,!0,Br.MIDDLE_END_PATTERN)}checkChecksum(t){return st.checkChecksum(Br.convertUPCEtoUPCA(t))}static determineNumSysAndCheckDigit(t,s){for(let i=0;i<=1;i++)for(let o=0;o<10;o++)if(s===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][o]){let c=String.fromCharCode(48+i),d=String.fromCharCode(48+o);return c+t+d}throw H.getNotFoundInstance()}getBarcodeFormat(){return fe.UPC_E}static convertUPCEtoUPCA(t){const s=t.slice(1,7).split("").map(c=>c.charCodeAt(0)),i=new X;i.append(t.charAt(0));let o=s[5];switch(o){case 0:case 1:case 2:i.appendChars(s,0,2),i.append(o),i.append("0000"),i.appendChars(s,2,3);break;case 3:i.appendChars(s,0,3),i.append("00000"),i.appendChars(s,3,2);break;case 4:i.appendChars(s,0,4),i.append("00000"),i.append(s[4]);break;default:i.appendChars(s,0,5),i.append("0000"),i.append(o);break}return t.length>=8&&i.append(t.charAt(7)),i.toString()}}Br.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Br.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class ni extends Be{constructor(t){super();let s=t==null?null:t.get(D.POSSIBLE_FORMATS),i=[];l(s)?(i.push(new js),i.push(new $o),i.push(new Vo),i.push(new Br)):(s.indexOf(fe.EAN_13)>-1&&i.push(new js),s.indexOf(fe.UPC_A)>-1&&i.push(new $o),s.indexOf(fe.EAN_8)>-1&&i.push(new Vo),s.indexOf(fe.UPC_E)>-1&&i.push(new Br)),this.readers=i}decodeRow(t,s,i){for(let o of this.readers)try{const c=o.decodeRow(t,s,i),d=c.getBarcodeFormat()===fe.EAN_13&&c.getText().charAt(0)==="0",m=i==null?null:i.get(D.POSSIBLE_FORMATS),x=m==null||m.includes(fe.UPC_A);if(d&&x){const y=c.getRawBytes(),N=new Ce(c.getText().substring(1),y,y?y.length:null,c.getResultPoints(),fe.UPC_A);return N.putAllMetadata(c.getResultMetadata()),N}return c}catch{}throw new H}reset(){for(let t of this.readers)t.reset()}}class rr extends Be{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(t,s){for(let i=0;i<s.length;i++)if(Be.patternMatchVariance(t,s[i],rr.MAX_INDIVIDUAL_VARIANCE)<rr.MAX_AVG_VARIANCE)return i;throw new H}static count(t){return He.sum(new Int32Array(t))}static increment(t,s){let i=0,o=s[0];for(let c=1;c<t.length;c++)s[c]>o&&(o=s[c],i=c);t[i]++}static decrement(t,s){let i=0,o=s[0];for(let c=1;c<t.length;c++)s[c]<o&&(o=s[c],i=c);t[i]--}static isFinderPattern(t){let s=t[0]+t[1],i=s+t[2]+t[3],o=s/i;if(o>=rr.MIN_FINDER_PATTERN_RATIO&&o<=rr.MAX_FINDER_PATTERN_RATIO){let c=Number.MAX_SAFE_INTEGER,d=Number.MIN_SAFE_INTEGER;for(let m of t)m>d&&(d=m),m<c&&(c=m);return d<10*c}return!1}}rr.MAX_AVG_VARIANCE=.2,rr.MAX_INDIVIDUAL_VARIANCE=.45,rr.MIN_FINDER_PATTERN_RATIO=9.5/12,rr.MAX_FINDER_PATTERN_RATIO=12.5/14;class qs{constructor(t,s){this.value=t,this.checksumPortion=s}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(t){if(!(t instanceof qs))return!1;const s=t;return this.value===s.value&&this.checksumPortion===s.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class rn{constructor(t,s,i,o,c){this.value=t,this.startEnd=s,this.value=t,this.startEnd=s,this.resultPoints=new Array,this.resultPoints.push(new q(i,c)),this.resultPoints.push(new q(o,c))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(t){if(!(t instanceof rn))return!1;const s=t;return this.value===s.value}hashCode(){return this.value}}class qr{constructor(){}static getRSSvalue(t,s,i){let o=0;for(let x of t)o+=x;let c=0,d=0,m=t.length;for(let x=0;x<m-1;x++){let y;for(y=1,d|=1<<x;y<t[x];y++,d&=~(1<<x)){let N=qr.combins(o-y-1,m-x-2);if(i&&d===0&&o-y-(m-x-1)>=m-x-1&&(N-=qr.combins(o-y-(m-x),m-x-2)),m-x-1>1){let E=0;for(let _=o-y-(m-x-2);_>s;_--)E+=qr.combins(o-y-_-1,m-x-3);N-=E*(m-1-x)}else o-y>s&&N--;c+=N}o-=y}return c}static combins(t,s){let i,o;t-s>s?(o=s,i=t-s):(o=t-s,i=s);let c=1,d=1;for(let m=t;m>i;m--)c*=m,d<=o&&(c/=d,d++);for(;d<=o;)c/=d,d++;return c}}class u0{static buildBitArray(t){let s=t.length*2-1;t[t.length-1].getRightChar()==null&&(s-=1);let i=12*s,o=new G(i),c=0,m=t[0].getRightChar().getValue();for(let x=11;x>=0;--x)m&1<<x&&o.set(c),c++;for(let x=1;x<t.length;++x){let y=t[x],N=y.getLeftChar().getValue();for(let E=11;E>=0;--E)N&1<<E&&o.set(c),c++;if(y.getRightChar()!=null){let E=y.getRightChar().getValue();for(let _=11;_>=0;--_)E&1<<_&&o.set(c),c++}}return o}}class Cs{constructor(t,s){s?this.decodedInformation=null:(this.finished=t,this.decodedInformation=s)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class ii{constructor(t){this.newPosition=t}getNewPosition(){return this.newPosition}}class fr extends ii{constructor(t,s){super(t),this.value=s}getValue(){return this.value}isFNC1(){return this.value===fr.FNC1}}fr.FNC1="$";class Ss extends ii{constructor(t,s,i){super(t),i?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=s}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Er extends ii{constructor(t,s,i){if(super(t),s<0||s>10||i<0||i>10)throw new B;this.firstDigit=s,this.secondDigit=i}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Er.FNC1}isSecondDigitFNC1(){return this.secondDigit===Er.FNC1}isAnyFNC1(){return this.firstDigit===Er.FNC1||this.secondDigit===Er.FNC1}}Er.FNC1=10;class Se{constructor(){}static parseFieldsInGeneralPurpose(t){if(!t)return null;if(t.length<2)throw new H;let s=t.substring(0,2);for(let c of Se.TWO_DIGIT_DATA_LENGTH)if(c[0]===s)return c[1]===Se.VARIABLE_LENGTH?Se.processVariableAI(2,c[2],t):Se.processFixedAI(2,c[1],t);if(t.length<3)throw new H;let i=t.substring(0,3);for(let c of Se.THREE_DIGIT_DATA_LENGTH)if(c[0]===i)return c[1]===Se.VARIABLE_LENGTH?Se.processVariableAI(3,c[2],t):Se.processFixedAI(3,c[1],t);for(let c of Se.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(c[0]===i)return c[1]===Se.VARIABLE_LENGTH?Se.processVariableAI(4,c[2],t):Se.processFixedAI(4,c[1],t);if(t.length<4)throw new H;let o=t.substring(0,4);for(let c of Se.FOUR_DIGIT_DATA_LENGTH)if(c[0]===o)return c[1]===Se.VARIABLE_LENGTH?Se.processVariableAI(4,c[2],t):Se.processFixedAI(4,c[1],t);throw new H}static processFixedAI(t,s,i){if(i.length<t)throw new H;let o=i.substring(0,t);if(i.length<t+s)throw new H;let c=i.substring(t,t+s),d=i.substring(t+s),m="("+o+")"+c,x=Se.parseFieldsInGeneralPurpose(d);return x==null?m:m+x}static processVariableAI(t,s,i){let o=i.substring(0,t),c;i.length<t+s?c=i.length:c=t+s;let d=i.substring(t,c),m=i.substring(c),x="("+o+")"+d,y=Se.parseFieldsInGeneralPurpose(m);return y==null?x:x+y}}Se.VARIABLE_LENGTH=[],Se.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Se.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Se.VARIABLE_LENGTH,20],["22",Se.VARIABLE_LENGTH,29],["30",Se.VARIABLE_LENGTH,8],["37",Se.VARIABLE_LENGTH,8],["90",Se.VARIABLE_LENGTH,30],["91",Se.VARIABLE_LENGTH,30],["92",Se.VARIABLE_LENGTH,30],["93",Se.VARIABLE_LENGTH,30],["94",Se.VARIABLE_LENGTH,30],["95",Se.VARIABLE_LENGTH,30],["96",Se.VARIABLE_LENGTH,30],["97",Se.VARIABLE_LENGTH,3],["98",Se.VARIABLE_LENGTH,30],["99",Se.VARIABLE_LENGTH,30]],Se.THREE_DIGIT_DATA_LENGTH=[["240",Se.VARIABLE_LENGTH,30],["241",Se.VARIABLE_LENGTH,30],["242",Se.VARIABLE_LENGTH,6],["250",Se.VARIABLE_LENGTH,30],["251",Se.VARIABLE_LENGTH,30],["253",Se.VARIABLE_LENGTH,17],["254",Se.VARIABLE_LENGTH,20],["400",Se.VARIABLE_LENGTH,30],["401",Se.VARIABLE_LENGTH,30],["402",17],["403",Se.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Se.VARIABLE_LENGTH,20],["421",Se.VARIABLE_LENGTH,15],["422",3],["423",Se.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Se.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Se.VARIABLE_LENGTH,15],["391",Se.VARIABLE_LENGTH,18],["392",Se.VARIABLE_LENGTH,15],["393",Se.VARIABLE_LENGTH,18],["703",Se.VARIABLE_LENGTH,30]],Se.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Se.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Se.VARIABLE_LENGTH,20],["8003",Se.VARIABLE_LENGTH,30],["8004",Se.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Se.VARIABLE_LENGTH,30],["8008",Se.VARIABLE_LENGTH,12],["8018",18],["8020",Se.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Se.VARIABLE_LENGTH,70],["8200",Se.VARIABLE_LENGTH,70]];class Gs{constructor(t){this.buffer=new X,this.information=t}decodeAllCodes(t,s){let i=s,o=null;do{let c=this.decodeGeneralPurposeField(i,o),d=Se.parseFieldsInGeneralPurpose(c.getNewString());if(d!=null&&t.append(d),c.isRemaining()?o=""+c.getRemainingValue():o=null,i===c.getNewPosition())break;i=c.getNewPosition()}while(!0);return t.toString()}isStillNumeric(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(let s=t;s<t+3;++s)if(this.information.get(s))return!0;return this.information.get(t+3)}decodeNumeric(t){if(t+7>this.information.getSize()){let c=this.extractNumericValueFromBitArray(t,4);return c===0?new Er(this.information.getSize(),Er.FNC1,Er.FNC1):new Er(this.information.getSize(),c-1,Er.FNC1)}let s=this.extractNumericValueFromBitArray(t,7),i=(s-8)/11,o=(s-8)%11;return new Er(t+7,i,o)}extractNumericValueFromBitArray(t,s){return Gs.extractNumericValueFromBitArray(this.information,t,s)}static extractNumericValueFromBitArray(t,s,i){let o=0;for(let c=0;c<i;++c)t.get(s+c)&&(o|=1<<i-c-1);return o}decodeGeneralPurposeField(t,s){this.buffer.setLengthToZero(),s!=null&&this.buffer.append(s),this.current.setPosition(t);let i=this.parseBlocks();return i!=null&&i.isRemaining()?new Ss(this.current.getPosition(),this.buffer.toString(),i.getRemainingValue()):new Ss(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let t,s;do{let i=this.current.getPosition();if(this.current.isAlpha()?(s=this.parseAlphaBlock(),t=s.isFinished()):this.current.isIsoIec646()?(s=this.parseIsoIec646Block(),t=s.isFinished()):(s=this.parseNumericBlock(),t=s.isFinished()),!(i!==this.current.getPosition())&&!t)break}while(!t);return s.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){let s;return t.isSecondDigitFNC1()?s=new Ss(this.current.getPosition(),this.buffer.toString()):s=new Ss(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()),new Cs(!0,s)}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1()){let s=new Ss(this.current.getPosition(),this.buffer.toString());return new Cs(!0,s)}this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Cs(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let s=new Ss(this.current.getPosition(),this.buffer.toString());return new Cs(!0,s)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Cs(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let s=new Ss(this.current.getPosition(),this.buffer.toString());return new Cs(!0,s)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Cs(!1)}isStillIsoIec646(t){if(t+5>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(t,5);if(s>=5&&s<16)return!0;if(t+7>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(t,7);if(i>=64&&i<116)return!0;if(t+8>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(t,8);return o>=232&&o<253}decodeIsoIec646(t){let s=this.extractNumericValueFromBitArray(t,5);if(s===15)return new fr(t+5,fr.FNC1);if(s>=5&&s<15)return new fr(t+5,"0"+(s-5));let i=this.extractNumericValueFromBitArray(t,7);if(i>=64&&i<90)return new fr(t+7,""+(i+1));if(i>=90&&i<116)return new fr(t+7,""+(i+7));let o=this.extractNumericValueFromBitArray(t,8),c;switch(o){case 232:c="!";break;case 233:c='"';break;case 234:c="%";break;case 235:c="&";break;case 236:c="'";break;case 237:c="(";break;case 238:c=")";break;case 239:c="*";break;case 240:c="+";break;case 241:c=",";break;case 242:c="-";break;case 243:c=".";break;case 244:c="/";break;case 245:c=":";break;case 246:c=";";break;case 247:c="<";break;case 248:c="=";break;case 249:c=">";break;case 250:c="?";break;case 251:c="_";break;case 252:c=" ";break;default:throw new B}return new fr(t+8,c)}isStillAlpha(t){if(t+5>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(t,5);if(s>=5&&s<16)return!0;if(t+6>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(t,6);return i>=16&&i<63}decodeAlphanumeric(t){let s=this.extractNumericValueFromBitArray(t,5);if(s===15)return new fr(t+5,fr.FNC1);if(s>=5&&s<15)return new fr(t+5,"0"+(s-5));let i=this.extractNumericValueFromBitArray(t,6);if(i>=32&&i<58)return new fr(t+6,""+(i+33));let o;switch(i){case 58:o="*";break;case 59:o=",";break;case 60:o="-";break;case 61:o=".";break;case 62:o="/";break;default:throw new yt("Decoding invalid alphanumeric value: "+i)}return new fr(t+6,o)}isAlphaTo646ToAlphaLatch(t){if(t+1>this.information.getSize())return!1;for(let s=0;s<5&&s+t<this.information.getSize();++s)if(s===2){if(!this.information.get(t+2))return!1}else if(this.information.get(t+s))return!1;return!0}isAlphaOr646ToNumericLatch(t){if(t+3>this.information.getSize())return!1;for(let s=t;s<t+3;++s)if(this.information.get(s))return!1;return!0}isNumericToAlphaNumericLatch(t){if(t+1>this.information.getSize())return!1;for(let s=0;s<4&&s+t<this.information.getSize();++s)if(this.information.get(t+s))return!1;return!0}}class oi{constructor(t){this.information=t,this.generalDecoder=new Gs(t)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class xr extends oi{constructor(t){super(t)}encodeCompressedGtin(t,s){t.append("(01)");let i=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,s,i)}encodeCompressedGtinWithoutAI(t,s,i){for(let o=0;o<4;++o){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(s+10*o,10);c/100===0&&t.append("0"),c/10===0&&t.append("0"),t.append(c)}xr.appendCheckDigit(t,i)}static appendCheckDigit(t,s){let i=0;for(let o=0;o<13;o++){let c=t.charAt(o+s).charCodeAt(0)-48;i+=o&1?c:3*c}i=10-i%10,i===10&&(i=0),t.append(i)}}xr.GTIN_SIZE=40;class Xs extends xr{constructor(t){super(t)}parseInformation(){let t=new X;t.append("(01)");let s=t.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(Xs.HEADER_SIZE,4);return t.append(i),this.encodeCompressedGtinWithoutAI(t,Xs.HEADER_SIZE+4,s),this.getGeneralDecoder().decodeAllCodes(t,Xs.HEADER_SIZE+44)}}Xs.HEADER_SIZE=4;class sn extends oi{constructor(t){super(t)}parseInformation(){let t=new X;return this.getGeneralDecoder().decodeAllCodes(t,sn.HEADER_SIZE)}}sn.HEADER_SIZE=5;class an extends xr{constructor(t){super(t)}encodeCompressedWeight(t,s,i){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(s,i);this.addWeightCode(t,o);let c=this.checkWeight(o),d=1e5;for(let m=0;m<5;++m)c/d===0&&t.append("0"),d/=10;t.append(c)}}class Gr extends an{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()!=Gr.HEADER_SIZE+an.GTIN_SIZE+Gr.WEIGHT_SIZE)throw new H;let t=new X;return this.encodeCompressedGtin(t,Gr.HEADER_SIZE),this.encodeCompressedWeight(t,Gr.HEADER_SIZE+an.GTIN_SIZE,Gr.WEIGHT_SIZE),t.toString()}}Gr.HEADER_SIZE=5,Gr.WEIGHT_SIZE=15;class h0 extends Gr{constructor(t){super(t)}addWeightCode(t,s){t.append("(3103)")}checkWeight(t){return t}}class m0 extends Gr{constructor(t){super(t)}addWeightCode(t,s){s<1e4?t.append("(3202)"):t.append("(3203)")}checkWeight(t){return t<1e4?t:t-1e4}}class Xr extends xr{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<Xr.HEADER_SIZE+xr.GTIN_SIZE)throw new H;let t=new X;this.encodeCompressedGtin(t,Xr.HEADER_SIZE);let s=this.getGeneralDecoder().extractNumericValueFromBitArray(Xr.HEADER_SIZE+xr.GTIN_SIZE,Xr.LAST_DIGIT_SIZE);t.append("(392"),t.append(s),t.append(")");let i=this.getGeneralDecoder().decodeGeneralPurposeField(Xr.HEADER_SIZE+xr.GTIN_SIZE+Xr.LAST_DIGIT_SIZE,null);return t.append(i.getNewString()),t.toString()}}Xr.HEADER_SIZE=8,Xr.LAST_DIGIT_SIZE=2;class ur extends xr{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<ur.HEADER_SIZE+xr.GTIN_SIZE)throw new H;let t=new X;this.encodeCompressedGtin(t,ur.HEADER_SIZE);let s=this.getGeneralDecoder().extractNumericValueFromBitArray(ur.HEADER_SIZE+xr.GTIN_SIZE,ur.LAST_DIGIT_SIZE);t.append("(393"),t.append(s),t.append(")");let i=this.getGeneralDecoder().extractNumericValueFromBitArray(ur.HEADER_SIZE+xr.GTIN_SIZE+ur.LAST_DIGIT_SIZE,ur.FIRST_THREE_DIGITS_SIZE);i/100==0&&t.append("0"),i/10==0&&t.append("0"),t.append(i);let o=this.getGeneralDecoder().decodeGeneralPurposeField(ur.HEADER_SIZE+xr.GTIN_SIZE+ur.LAST_DIGIT_SIZE+ur.FIRST_THREE_DIGITS_SIZE,null);return t.append(o.getNewString()),t.toString()}}ur.HEADER_SIZE=8,ur.LAST_DIGIT_SIZE=2,ur.FIRST_THREE_DIGITS_SIZE=10;class Ct extends an{constructor(t,s,i){super(t),this.dateCode=i,this.firstAIdigits=s}parseInformation(){if(this.getInformation().getSize()!=Ct.HEADER_SIZE+Ct.GTIN_SIZE+Ct.WEIGHT_SIZE+Ct.DATE_SIZE)throw new H;let t=new X;return this.encodeCompressedGtin(t,Ct.HEADER_SIZE),this.encodeCompressedWeight(t,Ct.HEADER_SIZE+Ct.GTIN_SIZE,Ct.WEIGHT_SIZE),this.encodeCompressedDate(t,Ct.HEADER_SIZE+Ct.GTIN_SIZE+Ct.WEIGHT_SIZE),t.toString()}encodeCompressedDate(t,s){let i=this.getGeneralDecoder().extractNumericValueFromBitArray(s,Ct.DATE_SIZE);if(i==38400)return;t.append("("),t.append(this.dateCode),t.append(")");let o=i%32;i/=32;let c=i%12+1;i/=12;let d=i;d/10==0&&t.append("0"),t.append(d),c/10==0&&t.append("0"),t.append(c),o/10==0&&t.append("0"),t.append(o)}addWeightCode(t,s){t.append("("),t.append(this.firstAIdigits),t.append(s/1e5),t.append(")")}checkWeight(t){return t%1e5}}Ct.HEADER_SIZE=8,Ct.WEIGHT_SIZE=20,Ct.DATE_SIZE=16;function zo(S){try{if(S.get(1))return new Xs(S);if(!S.get(2))return new sn(S);switch(Gs.extractNumericValueFromBitArray(S,1,4)){case 4:return new h0(S);case 5:return new m0(S)}switch(Gs.extractNumericValueFromBitArray(S,1,5)){case 12:return new Xr(S);case 13:return new ur(S)}switch(Gs.extractNumericValueFromBitArray(S,1,7)){case 56:return new Ct(S,"310","11");case 57:return new Ct(S,"320","11");case 58:return new Ct(S,"310","13");case 59:return new Ct(S,"320","13");case 60:return new Ct(S,"310","15");case 61:return new Ct(S,"320","15");case 62:return new Ct(S,"310","17");case 63:return new Ct(S,"320","17")}}catch(t){throw console.log(t),new yt("unknown decoder: "+S)}}class ms{constructor(t,s,i,o){this.leftchar=t,this.rightchar=s,this.finderpattern=i,this.maybeLast=o}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(t,s){return t instanceof ms?ms.equalsOrNull(t.leftchar,s.leftchar)&&ms.equalsOrNull(t.rightchar,s.rightchar)&&ms.equalsOrNull(t.finderpattern,s.finderpattern):!1}static equalsOrNull(t,s){return t===null?s===null:ms.equals(t,s)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class li{constructor(t,s,i){this.pairs=t,this.rowNumber=s,this.wasReversed=i}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(t){return this.checkEqualitity(this,t)}toString(){return"{ "+this.pairs+" }"}equals(t,s){return t instanceof li?this.checkEqualitity(t,s)&&t.wasReversed===s.wasReversed:!1}checkEqualitity(t,s){if(!t||!s)return;let i;return t.forEach((o,c)=>{s.forEach(d=>{o.getLeftChar().getValue()===d.getLeftChar().getValue()&&o.getRightChar().getValue()===d.getRightChar().getValue()&&o.getFinderPatter().getValue()===d.getFinderPatter().getValue()&&(i=!0)})}),i}}class he extends rr{constructor(t){super(...arguments),this.pairs=new Array(he.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=t===!0}decodeRow(t,s,i){this.pairs.length=0,this.startFromEven=!1;try{return he.constructResult(this.decodeRow2pairs(t,s))}catch(o){this.verbose&&console.log(o)}return this.pairs.length=0,this.startFromEven=!0,he.constructResult(this.decodeRow2pairs(t,s))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(t,s){let i=!1;for(;!i;)try{this.pairs.push(this.retrieveNextPair(s,this.pairs,t))}catch(c){if(c instanceof H){if(!this.pairs.length)throw new H;i=!0}}if(this.checkChecksum())return this.pairs;let o;if(this.rows.length?o=!0:o=!1,this.storeRow(t,!1),o){let c=this.checkRowsBoolean(!1);if(c!=null||(c=this.checkRowsBoolean(!0),c!=null))return c}throw new H}checkRowsBoolean(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());let s=null;try{s=this.checkRows(new Array,0)}catch(i){this.verbose&&console.log(i)}return t&&(this.rows=this.rows.reverse()),s}checkRows(t,s){for(let i=s;i<this.rows.length;i++){let o=this.rows[i];this.pairs.length=0;for(let d of t)this.pairs.push(d.getPairs());if(this.pairs.push(o.getPairs()),!he.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let c=new Array(t);c.push(o);try{return this.checkRows(c,i+1)}catch(d){this.verbose&&console.log(d)}}throw new H}static isValidSequence(t){for(let s of he.FINDER_PATTERN_SEQUENCES){if(t.length>s.length)continue;let i=!0;for(let o=0;o<t.length;o++)if(t[o].getFinderPattern().getValue()!=s[o]){i=!1;break}if(i)return!0}return!1}storeRow(t,s){let i=0,o=!1,c=!1;for(;i<this.rows.length;){let d=this.rows[i];if(d.getRowNumber()>t){c=d.isEquivalent(this.pairs);break}o=d.isEquivalent(this.pairs),i++}c||o||he.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new li(this.pairs,t,s)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(t,s){for(let i of s)if(i.getPairs().length!==t.length){for(let o of i.getPairs())for(let c of t)if(ms.equals(o,c))break}}static isPartialRow(t,s){for(let i of s){let o=!0;for(let c of t){let d=!1;for(let m of i.getPairs())if(c.equals(m)){d=!0;break}if(!d){o=!1;break}}if(o)return!0}return!1}getRows(){return this.rows}static constructResult(t){let s=u0.buildBitArray(t),o=zo(s).parseInformation(),c=t[0].getFinderPattern().getResultPoints(),d=t[t.length-1].getFinderPattern().getResultPoints(),m=[c[0],c[1],d[0],d[1]];return new Ce(o,null,null,m,fe.RSS_EXPANDED,null)}checkChecksum(){let t=this.pairs.get(0),s=t.getLeftChar(),i=t.getRightChar();if(i==null)return!1;let o=i.getChecksumPortion(),c=2;for(let m=1;m<this.pairs.size();++m){let x=this.pairs.get(m);o+=x.getLeftChar().getChecksumPortion(),c++;let y=x.getRightChar();y!=null&&(o+=y.getChecksumPortion(),c++)}return o%=211,211*(c-4)+o==s.getValue()}static getNextSecondBar(t,s){let i;return t.get(s)?(i=t.getNextUnset(s),i=t.getNextSet(i)):(i=t.getNextSet(s),i=t.getNextUnset(i)),i}retrieveNextPair(t,s,i){let o=s.length%2==0;this.startFromEven&&(o=!o);let c,d=!0,m=-1;do this.findNextPair(t,s,m),c=this.parseFoundFinderPattern(t,i,o),c==null?m=he.getNextSecondBar(t,this.startEnd[0]):d=!1;while(d);let x=this.decodeDataCharacter(t,c,o,!0);if(!this.isEmptyPair(s)&&s[s.length-1].mustBeLast())throw new H;let y;try{y=this.decodeDataCharacter(t,c,o,!1)}catch(N){y=null,this.verbose&&console.log(N)}return new ms(x,y,c,!0)}isEmptyPair(t){return t.length===0}findNextPair(t,s,i){let o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;let c=t.getSize(),d;i>=0?d=i:this.isEmptyPair(s)?d=0:d=s[s.length-1].getFinderPattern().getStartEnd()[1];let m=s.length%2!=0;this.startFromEven&&(m=!m);let x=!1;for(;d<c&&(x=!t.get(d),!!x);)d++;let y=0,N=d;for(let E=d;E<c;E++)if(t.get(E)!=x)o[y]++;else{if(y==3){if(m&&he.reverseCounters(o),he.isFinderPattern(o)){this.startEnd[0]=N,this.startEnd[1]=E;return}m&&he.reverseCounters(o),N+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,y--}else y++;o[y]=1,x=!x}throw new H}static reverseCounters(t){let s=t.length;for(let i=0;i<s/2;++i){let o=t[i];t[i]=t[s-i-1],t[s-i-1]=o}}parseFoundFinderPattern(t,s,i){let o,c,d;if(i){let y=this.startEnd[0]-1;for(;y>=0&&!t.get(y);)y--;y++,o=this.startEnd[0]-y,c=y,d=this.startEnd[1]}else c=this.startEnd[0],d=t.getNextUnset(this.startEnd[1]+1),o=d-this.startEnd[1];let m=this.getDecodeFinderCounters();T.arraycopy(m,0,m,1,m.length-1),m[0]=o;let x;try{x=this.parseFinderValue(m,he.FINDER_PATTERNS)}catch{return null}return new rn(x,[c,d],c,d,s)}decodeDataCharacter(t,s,i,o){let c=this.getDataCharacterCounters();for(let ft=0;ft<c.length;ft++)c[ft]=0;if(o)he.recordPatternInReverse(t,s.getStartEnd()[0],c);else{he.recordPattern(t,s.getStartEnd()[1],c);for(let ft=0,Jt=c.length-1;ft<Jt;ft++,Jt--){let kr=c[ft];c[ft]=c[Jt],c[Jt]=kr}}let d=17,m=He.sum(new Int32Array(c))/d,x=(s.getStartEnd()[1]-s.getStartEnd()[0])/15;if(Math.abs(m-x)/x>.3)throw new H;let y=this.getOddCounts(),N=this.getEvenCounts(),E=this.getOddRoundingErrors(),_=this.getEvenRoundingErrors();for(let ft=0;ft<c.length;ft++){let Jt=1*c[ft]/m,kr=Jt+.5;if(kr<1){if(Jt<.3)throw new H;kr=1}else if(kr>8){if(Jt>8.7)throw new H;kr=8}let Js=ft/2;ft&1?(N[Js]=kr,_[Js]=Jt-kr):(y[Js]=kr,E[Js]=Jt-kr)}this.adjustOddEvenCounts(d);let L=4*s.getValue()+(i?0:2)+(o?0:1)-1,U=0,V=0;for(let ft=y.length-1;ft>=0;ft--){if(he.isNotA1left(s,i,o)){let Jt=he.WEIGHTS[L][2*ft];V+=y[ft]*Jt}U+=y[ft]}let Y=0;for(let ft=N.length-1;ft>=0;ft--)if(he.isNotA1left(s,i,o)){let Jt=he.WEIGHTS[L][2*ft+1];Y+=N[ft]*Jt}let te=V+Y;if(U&1||U>13||U<4)throw new H;let be=(13-U)/2,we=he.SYMBOL_WIDEST[be],xe=9-we,Ke=qr.getRSSvalue(y,we,!0),Ve=qr.getRSSvalue(N,xe,!1),br=he.EVEN_TOTAL_SUBSET[be],Lr=he.GSUM[be],yr=Ke*br+Ve+Lr;return new qs(yr,te)}static isNotA1left(t,s,i){return!(t.getValue()==0&&s&&i)}adjustOddEvenCounts(t){let s=He.sum(new Int32Array(this.getOddCounts())),i=He.sum(new Int32Array(this.getEvenCounts())),o=!1,c=!1;s>13?c=!0:s<4&&(o=!0);let d=!1,m=!1;i>13?m=!0:i<4&&(d=!0);let x=s+i-t,y=(s&1)==1,N=(i&1)==0;if(x==1)if(y){if(N)throw new H;c=!0}else{if(!N)throw new H;m=!0}else if(x==-1)if(y){if(N)throw new H;o=!0}else{if(!N)throw new H;d=!0}else if(x==0){if(y){if(!N)throw new H;s<i?(o=!0,m=!0):(c=!0,d=!0)}else if(N)throw new H}else throw new H;if(o){if(c)throw new H;he.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(c&&he.decrement(this.getOddCounts(),this.getOddRoundingErrors()),d){if(m)throw new H;he.increment(this.getEvenCounts(),this.getOddRoundingErrors())}m&&he.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}he.SYMBOL_WIDEST=[7,5,4,3,1],he.EVEN_TOTAL_SUBSET=[4,20,52,104,204],he.GSUM=[0,348,1388,2948,3988],he.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],he.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],he.FINDER_PAT_A=0,he.FINDER_PAT_B=1,he.FINDER_PAT_C=2,he.FINDER_PAT_D=3,he.FINDER_PAT_E=4,he.FINDER_PAT_F=5,he.FINDER_PATTERN_SEQUENCES=[[he.FINDER_PAT_A,he.FINDER_PAT_A],[he.FINDER_PAT_A,he.FINDER_PAT_B,he.FINDER_PAT_B],[he.FINDER_PAT_A,he.FINDER_PAT_C,he.FINDER_PAT_B,he.FINDER_PAT_D],[he.FINDER_PAT_A,he.FINDER_PAT_E,he.FINDER_PAT_B,he.FINDER_PAT_D,he.FINDER_PAT_C],[he.FINDER_PAT_A,he.FINDER_PAT_E,he.FINDER_PAT_B,he.FINDER_PAT_D,he.FINDER_PAT_D,he.FINDER_PAT_F],[he.FINDER_PAT_A,he.FINDER_PAT_E,he.FINDER_PAT_B,he.FINDER_PAT_D,he.FINDER_PAT_E,he.FINDER_PAT_F,he.FINDER_PAT_F],[he.FINDER_PAT_A,he.FINDER_PAT_A,he.FINDER_PAT_B,he.FINDER_PAT_B,he.FINDER_PAT_C,he.FINDER_PAT_C,he.FINDER_PAT_D,he.FINDER_PAT_D],[he.FINDER_PAT_A,he.FINDER_PAT_A,he.FINDER_PAT_B,he.FINDER_PAT_B,he.FINDER_PAT_C,he.FINDER_PAT_C,he.FINDER_PAT_D,he.FINDER_PAT_E,he.FINDER_PAT_E],[he.FINDER_PAT_A,he.FINDER_PAT_A,he.FINDER_PAT_B,he.FINDER_PAT_B,he.FINDER_PAT_C,he.FINDER_PAT_C,he.FINDER_PAT_D,he.FINDER_PAT_E,he.FINDER_PAT_F,he.FINDER_PAT_F],[he.FINDER_PAT_A,he.FINDER_PAT_A,he.FINDER_PAT_B,he.FINDER_PAT_B,he.FINDER_PAT_C,he.FINDER_PAT_D,he.FINDER_PAT_D,he.FINDER_PAT_E,he.FINDER_PAT_E,he.FINDER_PAT_F,he.FINDER_PAT_F]],he.MAX_PAIRS=11;class g0 extends qs{constructor(t,s,i){super(t,s),this.count=0,this.finderPattern=i}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class _t extends rr{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(t,s,i){const o=this.decodePair(s,!1,t,i);_t.addOrTally(this.possibleLeftPairs,o),s.reverse();let c=this.decodePair(s,!0,t,i);_t.addOrTally(this.possibleRightPairs,c),s.reverse();for(let d of this.possibleLeftPairs)if(d.getCount()>1){for(let m of this.possibleRightPairs)if(m.getCount()>1&&_t.checkChecksum(d,m))return _t.constructResult(d,m)}throw new H}static addOrTally(t,s){if(s==null)return;let i=!1;for(let o of t)if(o.getValue()===s.getValue()){o.incrementCount(),i=!0;break}i||t.push(s)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(t,s){let i=4537077*t.getValue()+s.getValue(),o=new String(i).toString(),c=new X;for(let y=13-o.length;y>0;y--)c.append("0");c.append(o);let d=0;for(let y=0;y<13;y++){let N=c.charAt(y).charCodeAt(0)-48;d+=y&1?N:3*N}d=10-d%10,d===10&&(d=0),c.append(d.toString());let m=t.getFinderPattern().getResultPoints(),x=s.getFinderPattern().getResultPoints();return new Ce(c.toString(),null,0,[m[0],m[1],x[0],x[1]],fe.RSS_14,new Date().getTime())}static checkChecksum(t,s){let i=(t.getChecksumPortion()+16*s.getChecksumPortion())%79,o=9*t.getFinderPattern().getValue()+s.getFinderPattern().getValue();return o>72&&o--,o>8&&o--,i===o}decodePair(t,s,i,o){try{let c=this.findFinderPattern(t,s),d=this.parseFoundFinderPattern(t,i,s,c),m=o==null?null:o.get(D.NEED_RESULT_POINT_CALLBACK);if(m!=null){let N=(c[0]+c[1])/2;s&&(N=t.getSize()-1-N),m.foundPossibleResultPoint(new q(N,i))}let x=this.decodeDataCharacter(t,d,!0),y=this.decodeDataCharacter(t,d,!1);return new g0(1597*x.getValue()+y.getValue(),x.getChecksumPortion()+4*y.getChecksumPortion(),d)}catch{return null}}decodeDataCharacter(t,s,i){let o=this.getDataCharacterCounters();for(let Y=0;Y<o.length;Y++)o[Y]=0;if(i)Be.recordPatternInReverse(t,s.getStartEnd()[0],o);else{Be.recordPattern(t,s.getStartEnd()[1]+1,o);for(let Y=0,te=o.length-1;Y<te;Y++,te--){let be=o[Y];o[Y]=o[te],o[te]=be}}let c=i?16:15,d=He.sum(new Int32Array(o))/c,m=this.getOddCounts(),x=this.getEvenCounts(),y=this.getOddRoundingErrors(),N=this.getEvenRoundingErrors();for(let Y=0;Y<o.length;Y++){let te=o[Y]/d,be=Math.floor(te+.5);be<1?be=1:be>8&&(be=8);let we=Math.floor(Y/2);Y&1?(x[we]=be,N[we]=te-be):(m[we]=be,y[we]=te-be)}this.adjustOddEvenCounts(i,c);let E=0,_=0;for(let Y=m.length-1;Y>=0;Y--)_*=9,_+=m[Y],E+=m[Y];let L=0,U=0;for(let Y=x.length-1;Y>=0;Y--)L*=9,L+=x[Y],U+=x[Y];let V=_+3*L;if(i){if(E&1||E>12||E<4)throw new H;let Y=(12-E)/2,te=_t.OUTSIDE_ODD_WIDEST[Y],be=9-te,we=qr.getRSSvalue(m,te,!1),xe=qr.getRSSvalue(x,be,!0),Ke=_t.OUTSIDE_EVEN_TOTAL_SUBSET[Y],Ve=_t.OUTSIDE_GSUM[Y];return new qs(we*Ke+xe+Ve,V)}else{if(U&1||U>10||U<4)throw new H;let Y=(10-U)/2,te=_t.INSIDE_ODD_WIDEST[Y],be=9-te,we=qr.getRSSvalue(m,te,!0),xe=qr.getRSSvalue(x,be,!1),Ke=_t.INSIDE_ODD_TOTAL_SUBSET[Y],Ve=_t.INSIDE_GSUM[Y];return new qs(xe*Ke+we+Ve,V)}}findFinderPattern(t,s){let i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;let o=t.getSize(),c=!1,d=0;for(;d<o&&(c=!t.get(d),s!==c);)d++;let m=0,x=d;for(let y=d;y<o;y++)if(t.get(y)!==c)i[m]++;else{if(m===3){if(rr.isFinderPattern(i))return[x,y];x+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,m--}else m++;i[m]=1,c=!c}throw new H}parseFoundFinderPattern(t,s,i,o){let c=t.get(o[0]),d=o[0]-1;for(;d>=0&&c!==t.get(d);)d--;d++;const m=o[0]-d,x=this.getDecodeFinderCounters(),y=new Int32Array(x.length);T.arraycopy(x,0,y,1,x.length-1),y[0]=m;const N=this.parseFinderValue(y,_t.FINDER_PATTERNS);let E=d,_=o[1];return i&&(E=t.getSize()-1-E,_=t.getSize()-1-_),new rn(N,[d,o[1]],E,_,s)}adjustOddEvenCounts(t,s){let i=He.sum(new Int32Array(this.getOddCounts())),o=He.sum(new Int32Array(this.getEvenCounts())),c=!1,d=!1,m=!1,x=!1;t?(i>12?d=!0:i<4&&(c=!0),o>12?x=!0:o<4&&(m=!0)):(i>11?d=!0:i<5&&(c=!0),o>10?x=!0:o<4&&(m=!0));let y=i+o-s,N=(i&1)===(t?1:0),E=(o&1)===1;if(y===1)if(N){if(E)throw new H;d=!0}else{if(!E)throw new H;x=!0}else if(y===-1)if(N){if(E)throw new H;c=!0}else{if(!E)throw new H;m=!0}else if(y===0){if(N){if(!E)throw new H;i<o?(c=!0,x=!0):(d=!0,m=!0)}else if(E)throw new H}else throw new H;if(c){if(d)throw new H;rr.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(d&&rr.decrement(this.getOddCounts(),this.getOddRoundingErrors()),m){if(x)throw new H;rr.increment(this.getEvenCounts(),this.getOddRoundingErrors())}x&&rr.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}_t.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],_t.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],_t.OUTSIDE_GSUM=[0,161,961,2015,2715],_t.INSIDE_GSUM=[0,336,1036,1516],_t.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],_t.INSIDE_ODD_WIDEST=[2,4,6,8],_t.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Qs extends Be{constructor(t,s){super(),this.readers=[],this.verbose=s===!0;const i=t?t.get(D.POSSIBLE_FORMATS):null,o=t&&t.get(D.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;i?((i.includes(fe.EAN_13)||i.includes(fe.UPC_A)||i.includes(fe.EAN_8)||i.includes(fe.UPC_E))&&this.readers.push(new ni(t)),i.includes(fe.CODE_39)&&this.readers.push(new nt(o)),i.includes(fe.CODE_128)&&this.readers.push(new pe),i.includes(fe.ITF)&&this.readers.push(new mt),i.includes(fe.RSS_14)&&this.readers.push(new _t),i.includes(fe.RSS_EXPANDED)&&this.readers.push(new he(this.verbose))):(this.readers.push(new ni(t)),this.readers.push(new nt),this.readers.push(new ni(t)),this.readers.push(new pe),this.readers.push(new mt),this.readers.push(new _t),this.readers.push(new he(this.verbose)))}decodeRow(t,s,i){for(let o=0;o<this.readers.length;o++)try{return this.readers[o].decodeRow(t,s,i)}catch{}throw new H}reset(){this.readers.forEach(t=>t.reset())}}class f0 extends ge{constructor(t=500,s){super(new Qs(s),t,s)}}class it{constructor(t,s,i){this.ecCodewords=t,this.ecBlocks=[s],i&&this.ecBlocks.push(i)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class at{constructor(t,s){this.count=t,this.dataCodewords=s}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ye{constructor(t,s,i,o,c,d){this.versionNumber=t,this.symbolSizeRows=s,this.symbolSizeColumns=i,this.dataRegionSizeRows=o,this.dataRegionSizeColumns=c,this.ecBlocks=d;let m=0;const x=d.getECCodewords(),y=d.getECBlocks();for(let N of y)m+=N.getCount()*(N.getDataCodewords()+x);this.totalCodewords=m}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(t,s){if(t&1||s&1)throw new B;for(let i of Ye.VERSIONS)if(i.symbolSizeRows===t&&i.symbolSizeColumns===s)return i;throw new B}toString(){return""+this.versionNumber}static buildVersions(){return[new Ye(1,10,10,8,8,new it(5,new at(1,3))),new Ye(2,12,12,10,10,new it(7,new at(1,5))),new Ye(3,14,14,12,12,new it(10,new at(1,8))),new Ye(4,16,16,14,14,new it(12,new at(1,12))),new Ye(5,18,18,16,16,new it(14,new at(1,18))),new Ye(6,20,20,18,18,new it(18,new at(1,22))),new Ye(7,22,22,20,20,new it(20,new at(1,30))),new Ye(8,24,24,22,22,new it(24,new at(1,36))),new Ye(9,26,26,24,24,new it(28,new at(1,44))),new Ye(10,32,32,14,14,new it(36,new at(1,62))),new Ye(11,36,36,16,16,new it(42,new at(1,86))),new Ye(12,40,40,18,18,new it(48,new at(1,114))),new Ye(13,44,44,20,20,new it(56,new at(1,144))),new Ye(14,48,48,22,22,new it(68,new at(1,174))),new Ye(15,52,52,24,24,new it(42,new at(2,102))),new Ye(16,64,64,14,14,new it(56,new at(2,140))),new Ye(17,72,72,16,16,new it(36,new at(4,92))),new Ye(18,80,80,18,18,new it(48,new at(4,114))),new Ye(19,88,88,20,20,new it(56,new at(4,144))),new Ye(20,96,96,22,22,new it(68,new at(4,174))),new Ye(21,104,104,24,24,new it(56,new at(6,136))),new Ye(22,120,120,18,18,new it(68,new at(6,175))),new Ye(23,132,132,20,20,new it(62,new at(8,163))),new Ye(24,144,144,22,22,new it(62,new at(8,156),new at(2,155))),new Ye(25,8,18,6,16,new it(7,new at(1,5))),new Ye(26,8,32,6,14,new it(11,new at(1,10))),new Ye(27,12,26,10,24,new it(14,new at(1,16))),new Ye(28,12,36,10,16,new it(18,new at(1,22))),new Ye(29,16,36,14,16,new it(24,new at(1,32))),new Ye(30,16,48,14,22,new it(28,new at(1,49)))]}}Ye.VERSIONS=Ye.buildVersions();class ci{constructor(t){const s=t.getHeight();if(s<8||s>144||s&1)throw new B;this.version=ci.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new ae(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(t){const s=t.getHeight(),i=t.getWidth();return Ye.getVersionForDimensions(s,i)}readCodewords(){const t=new Int8Array(this.version.getTotalCodewords());let s=0,i=4,o=0;const c=this.mappingBitMatrix.getHeight(),d=this.mappingBitMatrix.getWidth();let m=!1,x=!1,y=!1,N=!1;do if(i===c&&o===0&&!m)t[s++]=this.readCorner1(c,d)&255,i-=2,o+=2,m=!0;else if(i===c-2&&o===0&&d&3&&!x)t[s++]=this.readCorner2(c,d)&255,i-=2,o+=2,x=!0;else if(i===c+4&&o===2&&!(d&7)&&!y)t[s++]=this.readCorner3(c,d)&255,i-=2,o+=2,y=!0;else if(i===c-2&&o===0&&(d&7)===4&&!N)t[s++]=this.readCorner4(c,d)&255,i-=2,o+=2,N=!0;else{do i<c&&o>=0&&!this.readMappingMatrix.get(o,i)&&(t[s++]=this.readUtah(i,o,c,d)&255),i-=2,o+=2;while(i>=0&&o<d);i+=1,o+=3;do i>=0&&o<d&&!this.readMappingMatrix.get(o,i)&&(t[s++]=this.readUtah(i,o,c,d)&255),i+=2,o-=2;while(i<c&&o>=0);i+=3,o+=1}while(i<c||o<d);if(s!==this.version.getTotalCodewords())throw new B;return t}readModule(t,s,i,o){return t<0&&(t+=i,s+=4-(i+4&7)),s<0&&(s+=o,t+=4-(o+4&7)),this.readMappingMatrix.set(s,t),this.mappingBitMatrix.get(s,t)}readUtah(t,s,i,o){let c=0;return this.readModule(t-2,s-2,i,o)&&(c|=1),c<<=1,this.readModule(t-2,s-1,i,o)&&(c|=1),c<<=1,this.readModule(t-1,s-2,i,o)&&(c|=1),c<<=1,this.readModule(t-1,s-1,i,o)&&(c|=1),c<<=1,this.readModule(t-1,s,i,o)&&(c|=1),c<<=1,this.readModule(t,s-2,i,o)&&(c|=1),c<<=1,this.readModule(t,s-1,i,o)&&(c|=1),c<<=1,this.readModule(t,s,i,o)&&(c|=1),c}readCorner1(t,s){let i=0;return this.readModule(t-1,0,t,s)&&(i|=1),i<<=1,this.readModule(t-1,1,t,s)&&(i|=1),i<<=1,this.readModule(t-1,2,t,s)&&(i|=1),i<<=1,this.readModule(0,s-2,t,s)&&(i|=1),i<<=1,this.readModule(0,s-1,t,s)&&(i|=1),i<<=1,this.readModule(1,s-1,t,s)&&(i|=1),i<<=1,this.readModule(2,s-1,t,s)&&(i|=1),i<<=1,this.readModule(3,s-1,t,s)&&(i|=1),i}readCorner2(t,s){let i=0;return this.readModule(t-3,0,t,s)&&(i|=1),i<<=1,this.readModule(t-2,0,t,s)&&(i|=1),i<<=1,this.readModule(t-1,0,t,s)&&(i|=1),i<<=1,this.readModule(0,s-4,t,s)&&(i|=1),i<<=1,this.readModule(0,s-3,t,s)&&(i|=1),i<<=1,this.readModule(0,s-2,t,s)&&(i|=1),i<<=1,this.readModule(0,s-1,t,s)&&(i|=1),i<<=1,this.readModule(1,s-1,t,s)&&(i|=1),i}readCorner3(t,s){let i=0;return this.readModule(t-1,0,t,s)&&(i|=1),i<<=1,this.readModule(t-1,s-1,t,s)&&(i|=1),i<<=1,this.readModule(0,s-3,t,s)&&(i|=1),i<<=1,this.readModule(0,s-2,t,s)&&(i|=1),i<<=1,this.readModule(0,s-1,t,s)&&(i|=1),i<<=1,this.readModule(1,s-3,t,s)&&(i|=1),i<<=1,this.readModule(1,s-2,t,s)&&(i|=1),i<<=1,this.readModule(1,s-1,t,s)&&(i|=1),i}readCorner4(t,s){let i=0;return this.readModule(t-3,0,t,s)&&(i|=1),i<<=1,this.readModule(t-2,0,t,s)&&(i|=1),i<<=1,this.readModule(t-1,0,t,s)&&(i|=1),i<<=1,this.readModule(0,s-2,t,s)&&(i|=1),i<<=1,this.readModule(0,s-1,t,s)&&(i|=1),i<<=1,this.readModule(1,s-1,t,s)&&(i|=1),i<<=1,this.readModule(2,s-1,t,s)&&(i|=1),i<<=1,this.readModule(3,s-1,t,s)&&(i|=1),i}extractDataRegion(t){const s=this.version.getSymbolSizeRows(),i=this.version.getSymbolSizeColumns();if(t.getHeight()!==s)throw new v("Dimension of bitMatrix must match the version size");const o=this.version.getDataRegionSizeRows(),c=this.version.getDataRegionSizeColumns(),d=s/o|0,m=i/c|0,x=d*o,y=m*c,N=new ae(y,x);for(let E=0;E<d;++E){const _=E*o;for(let L=0;L<m;++L){const U=L*c;for(let V=0;V<o;++V){const Y=E*(o+2)+1+V,te=_+V;for(let be=0;be<c;++be){const we=L*(c+2)+1+be;if(t.get(we,Y)){const xe=U+be;N.set(xe,te)}}}}}return N}}class di{constructor(t,s){this.numDataCodewords=t,this.codewords=s}static getDataBlocks(t,s){const i=s.getECBlocks();let o=0;const c=i.getECBlocks();for(let V of c)o+=V.getCount();const d=new Array(o);let m=0;for(let V of c)for(let Y=0;Y<V.getCount();Y++){const te=V.getDataCodewords(),be=i.getECCodewords()+te;d[m++]=new di(te,new Uint8Array(be))}const y=d[0].codewords.length-i.getECCodewords(),N=y-1;let E=0;for(let V=0;V<N;V++)for(let Y=0;Y<m;Y++)d[Y].codewords[V]=t[E++];const _=s.getVersionNumber()===24,L=_?8:m;for(let V=0;V<L;V++)d[V].codewords[y-1]=t[E++];const U=d[0].codewords.length;for(let V=y;V<U;V++)for(let Y=0;Y<m;Y++){const te=_?(Y+8)%m:Y,be=_&&te>7?V-1:V;d[te].codewords[be]=t[E++]}if(E!==t.length)throw new v;return d}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class ui{constructor(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(t){if(t<1||t>32||t>this.available())throw new v(""+t);let s=0,i=this.bitOffset,o=this.byteOffset;const c=this.bytes;if(i>0){const d=8-i,m=t<d?t:d,x=d-m,y=255>>8-m<<x;s=(c[o]&y)>>x,t-=m,i+=m,i===8&&(i=0,o++)}if(t>0){for(;t>=8;)s=s<<8|c[o]&255,o++,t-=8;if(t>0){const d=8-t,m=255>>d<<d;s=s<<t|(c[o]&m)>>d,i+=t}}return this.bitOffset=i,this.byteOffset=o,s}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var $t;(function(S){S[S.PAD_ENCODE=0]="PAD_ENCODE",S[S.ASCII_ENCODE=1]="ASCII_ENCODE",S[S.C40_ENCODE=2]="C40_ENCODE",S[S.TEXT_ENCODE=3]="TEXT_ENCODE",S[S.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",S[S.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",S[S.BASE256_ENCODE=6]="BASE256_ENCODE"})($t||($t={}));class gs{static decode(t){const s=new ui(t),i=new X,o=new X,c=new Array;let d=$t.ASCII_ENCODE;do if(d===$t.ASCII_ENCODE)d=this.decodeAsciiSegment(s,i,o);else{switch(d){case $t.C40_ENCODE:this.decodeC40Segment(s,i);break;case $t.TEXT_ENCODE:this.decodeTextSegment(s,i);break;case $t.ANSIX12_ENCODE:this.decodeAnsiX12Segment(s,i);break;case $t.EDIFACT_ENCODE:this.decodeEdifactSegment(s,i);break;case $t.BASE256_ENCODE:this.decodeBase256Segment(s,i,c);break;default:throw new B}d=$t.ASCII_ENCODE}while(d!==$t.PAD_ENCODE&&s.available()>0);return o.length()>0&&i.append(o.toString()),new ue(t,i.toString(),c.length===0?null:c,null)}static decodeAsciiSegment(t,s,i){let o=!1;do{let c=t.readBits(8);if(c===0)throw new B;if(c<=128)return o&&(c+=128),s.append(String.fromCharCode(c-1)),$t.ASCII_ENCODE;if(c===129)return $t.PAD_ENCODE;if(c<=229){const d=c-130;d<10&&s.append("0"),s.append(""+d)}else switch(c){case 230:return $t.C40_ENCODE;case 231:return $t.BASE256_ENCODE;case 232:s.append("");break;case 233:case 234:break;case 235:o=!0;break;case 236:s.append("[)>05"),i.insert(0,"");break;case 237:s.append("[)>06"),i.insert(0,"");break;case 238:return $t.ANSIX12_ENCODE;case 239:return $t.TEXT_ENCODE;case 240:return $t.EDIFACT_ENCODE;case 241:break;default:if(c!==254||t.available()!==0)throw new B;break}}while(t.available()>0);return $t.ASCII_ENCODE}static decodeC40Segment(t,s){let i=!1;const o=[];let c=0;do{if(t.available()===8)return;const d=t.readBits(8);if(d===254)return;this.parseTwoBytes(d,t.readBits(8),o);for(let m=0;m<3;m++){const x=o[m];switch(c){case 0:if(x<3)c=x+1;else if(x<this.C40_BASIC_SET_CHARS.length){const y=this.C40_BASIC_SET_CHARS[x];i?(s.append(String.fromCharCode(y.charCodeAt(0)+128)),i=!1):s.append(y)}else throw new B;break;case 1:i?(s.append(String.fromCharCode(x+128)),i=!1):s.append(String.fromCharCode(x)),c=0;break;case 2:if(x<this.C40_SHIFT2_SET_CHARS.length){const y=this.C40_SHIFT2_SET_CHARS[x];i?(s.append(String.fromCharCode(y.charCodeAt(0)+128)),i=!1):s.append(y)}else switch(x){case 27:s.append("");break;case 30:i=!0;break;default:throw new B}c=0;break;case 3:i?(s.append(String.fromCharCode(x+224)),i=!1):s.append(String.fromCharCode(x+96)),c=0;break;default:throw new B}}}while(t.available()>0)}static decodeTextSegment(t,s){let i=!1,o=[],c=0;do{if(t.available()===8)return;const d=t.readBits(8);if(d===254)return;this.parseTwoBytes(d,t.readBits(8),o);for(let m=0;m<3;m++){const x=o[m];switch(c){case 0:if(x<3)c=x+1;else if(x<this.TEXT_BASIC_SET_CHARS.length){const y=this.TEXT_BASIC_SET_CHARS[x];i?(s.append(String.fromCharCode(y.charCodeAt(0)+128)),i=!1):s.append(y)}else throw new B;break;case 1:i?(s.append(String.fromCharCode(x+128)),i=!1):s.append(String.fromCharCode(x)),c=0;break;case 2:if(x<this.TEXT_SHIFT2_SET_CHARS.length){const y=this.TEXT_SHIFT2_SET_CHARS[x];i?(s.append(String.fromCharCode(y.charCodeAt(0)+128)),i=!1):s.append(y)}else switch(x){case 27:s.append("");break;case 30:i=!0;break;default:throw new B}c=0;break;case 3:if(x<this.TEXT_SHIFT3_SET_CHARS.length){const y=this.TEXT_SHIFT3_SET_CHARS[x];i?(s.append(String.fromCharCode(y.charCodeAt(0)+128)),i=!1):s.append(y),c=0}else throw new B;break;default:throw new B}}}while(t.available()>0)}static decodeAnsiX12Segment(t,s){const i=[];do{if(t.available()===8)return;const o=t.readBits(8);if(o===254)return;this.parseTwoBytes(o,t.readBits(8),i);for(let c=0;c<3;c++){const d=i[c];switch(d){case 0:s.append("\r");break;case 1:s.append("*");break;case 2:s.append(">");break;case 3:s.append(" ");break;default:if(d<14)s.append(String.fromCharCode(d+44));else if(d<40)s.append(String.fromCharCode(d+51));else throw new B;break}}}while(t.available()>0)}static parseTwoBytes(t,s,i){let o=(t<<8)+s-1,c=Math.floor(o/1600);i[0]=c,o-=c*1600,c=Math.floor(o/40),i[1]=c,i[2]=o-c*40}static decodeEdifactSegment(t,s){do{if(t.available()<=16)return;for(let i=0;i<4;i++){let o=t.readBits(6);if(o===31){const c=8-t.getBitOffset();c!==8&&t.readBits(c);return}o&32||(o|=64),s.append(String.fromCharCode(o))}}while(t.available()>0)}static decodeBase256Segment(t,s,i){let o=1+t.getByteOffset();const c=this.unrandomize255State(t.readBits(8),o++);let d;if(c===0?d=t.available()/8|0:c<250?d=c:d=250*(c-249)+this.unrandomize255State(t.readBits(8),o++),d<0)throw new B;const m=new Uint8Array(d);for(let x=0;x<d;x++){if(t.available()<8)throw new B;m[x]=this.unrandomize255State(t.readBits(8),o++)}i.push(m);try{s.append(re.decode(m,F.ISO88591))}catch(x){throw new yt("Platform does not support required encoding: "+x.message)}}static unrandomize255State(t,s){const i=149*s%255+1,o=t-i;return o>=0?o:o+256}}gs.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],gs.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],gs.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],gs.TEXT_SHIFT2_SET_CHARS=gs.C40_SHIFT2_SET_CHARS,gs.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class x0{constructor(){this.rsDecoder=new ze(_e.DATA_MATRIX_FIELD_256)}decode(t){const s=new ci(t),i=s.getVersion(),o=s.readCodewords(),c=di.getDataBlocks(o,i);let d=0;for(let y of c)d+=y.getNumDataCodewords();const m=new Uint8Array(d),x=c.length;for(let y=0;y<x;y++){const N=c[y],E=N.getCodewords(),_=N.getNumDataCodewords();this.correctErrors(E,_);for(let L=0;L<_;L++)m[L*x+y]=E[L]}return gs.decode(m)}correctErrors(t,s){const i=new Int32Array(t);try{this.rsDecoder.decode(i,t.length-s)}catch{throw new A}for(let o=0;o<s;o++)t[o]=i[o]}}class Lt{constructor(t){this.image=t,this.rectangleDetector=new It(this.image)}detect(){const t=this.rectangleDetector.detect();let s=this.detectSolid1(t);if(s=this.detectSolid2(s),s[3]=this.correctTopRight(s),!s[3])throw new H;s=this.shiftToModuleCenter(s);const i=s[0],o=s[1],c=s[2],d=s[3];let m=this.transitionsBetween(i,d)+1,x=this.transitionsBetween(c,d)+1;(m&1)===1&&(m+=1),(x&1)===1&&(x+=1),4*m<7*x&&4*x<7*m&&(m=x=Math.max(m,x));let y=Lt.sampleGrid(this.image,i,o,c,d,m,x);return new Xe(y,[i,o,c,d])}static shiftPoint(t,s,i){let o=(s.getX()-t.getX())/(i+1),c=(s.getY()-t.getY())/(i+1);return new q(t.getX()+o,t.getY()+c)}static moveAway(t,s,i){let o=t.getX(),c=t.getY();return o<s?o-=1:o+=1,c<i?c-=1:c+=1,new q(o,c)}detectSolid1(t){let s=t[0],i=t[1],o=t[3],c=t[2],d=this.transitionsBetween(s,i),m=this.transitionsBetween(i,o),x=this.transitionsBetween(o,c),y=this.transitionsBetween(c,s),N=d,E=[c,s,i,o];return N>m&&(N=m,E[0]=s,E[1]=i,E[2]=o,E[3]=c),N>x&&(N=x,E[0]=i,E[1]=o,E[2]=c,E[3]=s),N>y&&(E[0]=o,E[1]=c,E[2]=s,E[3]=i),E}detectSolid2(t){let s=t[0],i=t[1],o=t[2],c=t[3],d=this.transitionsBetween(s,c),m=Lt.shiftPoint(i,o,(d+1)*4),x=Lt.shiftPoint(o,i,(d+1)*4),y=this.transitionsBetween(m,s),N=this.transitionsBetween(x,c);return y<N?(t[0]=s,t[1]=i,t[2]=o,t[3]=c):(t[0]=i,t[1]=o,t[2]=c,t[3]=s),t}correctTopRight(t){let s=t[0],i=t[1],o=t[2],c=t[3],d=this.transitionsBetween(s,c),m=this.transitionsBetween(i,c),x=Lt.shiftPoint(s,i,(m+1)*4),y=Lt.shiftPoint(o,i,(d+1)*4);d=this.transitionsBetween(x,c),m=this.transitionsBetween(y,c);let N=new q(c.getX()+(o.getX()-i.getX())/(d+1),c.getY()+(o.getY()-i.getY())/(d+1)),E=new q(c.getX()+(s.getX()-i.getX())/(m+1),c.getY()+(s.getY()-i.getY())/(m+1));if(!this.isValid(N))return this.isValid(E)?E:null;if(!this.isValid(E))return N;let _=this.transitionsBetween(x,N)+this.transitionsBetween(y,N),L=this.transitionsBetween(x,E)+this.transitionsBetween(y,E);return _>L?N:E}shiftToModuleCenter(t){let s=t[0],i=t[1],o=t[2],c=t[3],d=this.transitionsBetween(s,c)+1,m=this.transitionsBetween(o,c)+1,x=Lt.shiftPoint(s,i,m*4),y=Lt.shiftPoint(o,i,d*4);d=this.transitionsBetween(x,c)+1,m=this.transitionsBetween(y,c)+1,(d&1)===1&&(d+=1),(m&1)===1&&(m+=1);let N=(s.getX()+i.getX()+o.getX()+c.getX())/4,E=(s.getY()+i.getY()+o.getY()+c.getY())/4;s=Lt.moveAway(s,N,E),i=Lt.moveAway(i,N,E),o=Lt.moveAway(o,N,E),c=Lt.moveAway(c,N,E);let _,L;return x=Lt.shiftPoint(s,i,m*4),x=Lt.shiftPoint(x,c,d*4),_=Lt.shiftPoint(i,s,m*4),_=Lt.shiftPoint(_,o,d*4),y=Lt.shiftPoint(o,c,m*4),y=Lt.shiftPoint(y,i,d*4),L=Lt.shiftPoint(c,o,m*4),L=Lt.shiftPoint(L,s,d*4),[x,_,y,L]}isValid(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()}static sampleGrid(t,s,i,o,c,d,m){return dr.getInstance().sampleGrid(t,d,m,.5,.5,d-.5,.5,d-.5,m-.5,.5,m-.5,s.getX(),s.getY(),c.getX(),c.getY(),o.getX(),o.getY(),i.getX(),i.getY())}transitionsBetween(t,s){let i=Math.trunc(t.getX()),o=Math.trunc(t.getY()),c=Math.trunc(s.getX()),d=Math.trunc(s.getY()),m=Math.abs(d-o)>Math.abs(c-i);if(m){let V=i;i=o,o=V,V=c,c=d,d=V}let x=Math.abs(c-i),y=Math.abs(d-o),N=-x/2,E=o<d?1:-1,_=i<c?1:-1,L=0,U=this.image.get(m?o:i,m?i:o);for(let V=i,Y=o;V!==c;V+=_){let te=this.image.get(m?Y:V,m?V:Y);if(te!==U&&(L++,U=te),N+=y,N>0){if(Y===d)break;Y+=E,N-=x}}return L}}class fs{constructor(){this.decoder=new x0}decode(t,s=null){let i,o;if(s!=null&&s.has(D.PURE_BARCODE)){const y=fs.extractPureBits(t.getBlackMatrix());i=this.decoder.decode(y),o=fs.NO_POINTS}else{const y=new Lt(t.getBlackMatrix()).detect();i=this.decoder.decode(y.getBits()),o=y.getPoints()}const c=i.getRawBytes(),d=new Ce(i.getText(),c,8*c.length,o,fe.DATA_MATRIX,T.currentTimeMillis()),m=i.getByteSegments();m!=null&&d.putMetadata(Re.BYTE_SEGMENTS,m);const x=i.getECLevel();return x!=null&&d.putMetadata(Re.ERROR_CORRECTION_LEVEL,x),d}reset(){}static extractPureBits(t){const s=t.getTopLeftOnBit(),i=t.getBottomRightOnBit();if(s==null||i==null)throw new H;const o=this.moduleSize(s,t);let c=s[1];const d=i[1];let m=s[0];const y=(i[0]-m+1)/o,N=(d-c+1)/o;if(y<=0||N<=0)throw new H;const E=o/2;c+=E,m+=E;const _=new ae(y,N);for(let L=0;L<N;L++){const U=c+L*o;for(let V=0;V<y;V++)t.get(m+V*o,U)&&_.set(V,L)}return _}static moduleSize(t,s){const i=s.getWidth();let o=t[0];const c=t[1];for(;o<i&&s.get(o,c);)o++;if(o===i)throw new H;const d=o-t[0];if(d===0)throw new H;return d}}fs.NO_POINTS=[];class p0 extends ge{constructor(t=500){super(new fs,t)}}var Ks;(function(S){S[S.L=0]="L",S[S.M=1]="M",S[S.Q=2]="Q",S[S.H=3]="H"})(Ks||(Ks={}));class pt{constructor(t,s,i){this.value=t,this.stringValue=s,this.bits=i,pt.FOR_BITS.set(i,this),pt.FOR_VALUE.set(t,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(t){switch(t){case"L":return pt.L;case"M":return pt.M;case"Q":return pt.Q;case"H":return pt.H;default:throw new w(t+"not available")}}toString(){return this.stringValue}equals(t){if(!(t instanceof pt))return!1;const s=t;return this.value===s.value}static forBits(t){if(t<0||t>=pt.FOR_BITS.size)throw new v;return pt.FOR_BITS.get(t)}}pt.FOR_BITS=new Map,pt.FOR_VALUE=new Map,pt.L=new pt(Ks.L,"L",1),pt.M=new pt(Ks.M,"M",0),pt.Q=new pt(Ks.Q,"Q",3),pt.H=new pt(Ks.H,"H",2);class sr{constructor(t){this.errorCorrectionLevel=pt.forBits(t>>3&3),this.dataMask=t&7}static numBitsDiffering(t,s){return P.bitCount(t^s)}static decodeFormatInformation(t,s){const i=sr.doDecodeFormatInformation(t,s);return i!==null?i:sr.doDecodeFormatInformation(t^sr.FORMAT_INFO_MASK_QR,s^sr.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(t,s){let i=Number.MAX_SAFE_INTEGER,o=0;for(const c of sr.FORMAT_INFO_DECODE_LOOKUP){const d=c[0];if(d===t||d===s)return new sr(c[1]);let m=sr.numBitsDiffering(t,d);m<i&&(o=c[1],i=m),t!==s&&(m=sr.numBitsDiffering(s,d),m<i&&(o=c[1],i=m))}return i<=3?new sr(o):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(t){if(!(t instanceof sr))return!1;const s=t;return this.errorCorrectionLevel===s.errorCorrectionLevel&&this.dataMask===s.dataMask}}sr.FORMAT_INFO_MASK_QR=21522,sr.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Z{constructor(t,...s){this.ecCodewordsPerBlock=t,this.ecBlocks=s}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let t=0;const s=this.ecBlocks;for(const i of s)t+=i.getCount();return t}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class M{constructor(t,s){this.count=t,this.dataCodewords=s}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ae{constructor(t,s,...i){this.versionNumber=t,this.alignmentPatternCenters=s,this.ecBlocks=i;let o=0;const c=i[0].getECCodewordsPerBlock(),d=i[0].getECBlocks();for(const m of d)o+=m.getCount()*(m.getDataCodewords()+c);this.totalCodewords=o}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(t){return this.ecBlocks[t.getValue()]}static getProvisionalVersionForDimension(t){if(t%4!==1)throw new B;try{return this.getVersionForNumber((t-17)/4)}catch{throw new B}}static getVersionForNumber(t){if(t<1||t>40)throw new v;return Ae.VERSIONS[t-1]}static decodeVersionInformation(t){let s=Number.MAX_SAFE_INTEGER,i=0;for(let o=0;o<Ae.VERSION_DECODE_INFO.length;o++){const c=Ae.VERSION_DECODE_INFO[o];if(c===t)return Ae.getVersionForNumber(o+7);const d=sr.numBitsDiffering(t,c);d<s&&(i=o+7,s=d)}return s<=3?Ae.getVersionForNumber(i):null}buildFunctionPattern(){const t=this.getDimensionForVersion(),s=new ae(t);s.setRegion(0,0,9,9),s.setRegion(t-8,0,8,9),s.setRegion(0,t-8,9,8);const i=this.alignmentPatternCenters.length;for(let o=0;o<i;o++){const c=this.alignmentPatternCenters[o]-2;for(let d=0;d<i;d++)o===0&&(d===0||d===i-1)||o===i-1&&d===0||s.setRegion(this.alignmentPatternCenters[d]-2,c,5,5)}return s.setRegion(6,9,1,t-17),s.setRegion(9,6,t-17,1),this.versionNumber>6&&(s.setRegion(t-11,0,3,6),s.setRegion(0,t-11,6,3)),s}toString(){return""+this.versionNumber}}Ae.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Ae.VERSIONS=[new Ae(1,new Int32Array(0),new Z(7,new M(1,19)),new Z(10,new M(1,16)),new Z(13,new M(1,13)),new Z(17,new M(1,9))),new Ae(2,Int32Array.from([6,18]),new Z(10,new M(1,34)),new Z(16,new M(1,28)),new Z(22,new M(1,22)),new Z(28,new M(1,16))),new Ae(3,Int32Array.from([6,22]),new Z(15,new M(1,55)),new Z(26,new M(1,44)),new Z(18,new M(2,17)),new Z(22,new M(2,13))),new Ae(4,Int32Array.from([6,26]),new Z(20,new M(1,80)),new Z(18,new M(2,32)),new Z(26,new M(2,24)),new Z(16,new M(4,9))),new Ae(5,Int32Array.from([6,30]),new Z(26,new M(1,108)),new Z(24,new M(2,43)),new Z(18,new M(2,15),new M(2,16)),new Z(22,new M(2,11),new M(2,12))),new Ae(6,Int32Array.from([6,34]),new Z(18,new M(2,68)),new Z(16,new M(4,27)),new Z(24,new M(4,19)),new Z(28,new M(4,15))),new Ae(7,Int32Array.from([6,22,38]),new Z(20,new M(2,78)),new Z(18,new M(4,31)),new Z(18,new M(2,14),new M(4,15)),new Z(26,new M(4,13),new M(1,14))),new Ae(8,Int32Array.from([6,24,42]),new Z(24,new M(2,97)),new Z(22,new M(2,38),new M(2,39)),new Z(22,new M(4,18),new M(2,19)),new Z(26,new M(4,14),new M(2,15))),new Ae(9,Int32Array.from([6,26,46]),new Z(30,new M(2,116)),new Z(22,new M(3,36),new M(2,37)),new Z(20,new M(4,16),new M(4,17)),new Z(24,new M(4,12),new M(4,13))),new Ae(10,Int32Array.from([6,28,50]),new Z(18,new M(2,68),new M(2,69)),new Z(26,new M(4,43),new M(1,44)),new Z(24,new M(6,19),new M(2,20)),new Z(28,new M(6,15),new M(2,16))),new Ae(11,Int32Array.from([6,30,54]),new Z(20,new M(4,81)),new Z(30,new M(1,50),new M(4,51)),new Z(28,new M(4,22),new M(4,23)),new Z(24,new M(3,12),new M(8,13))),new Ae(12,Int32Array.from([6,32,58]),new Z(24,new M(2,92),new M(2,93)),new Z(22,new M(6,36),new M(2,37)),new Z(26,new M(4,20),new M(6,21)),new Z(28,new M(7,14),new M(4,15))),new Ae(13,Int32Array.from([6,34,62]),new Z(26,new M(4,107)),new Z(22,new M(8,37),new M(1,38)),new Z(24,new M(8,20),new M(4,21)),new Z(22,new M(12,11),new M(4,12))),new Ae(14,Int32Array.from([6,26,46,66]),new Z(30,new M(3,115),new M(1,116)),new Z(24,new M(4,40),new M(5,41)),new Z(20,new M(11,16),new M(5,17)),new Z(24,new M(11,12),new M(5,13))),new Ae(15,Int32Array.from([6,26,48,70]),new Z(22,new M(5,87),new M(1,88)),new Z(24,new M(5,41),new M(5,42)),new Z(30,new M(5,24),new M(7,25)),new Z(24,new M(11,12),new M(7,13))),new Ae(16,Int32Array.from([6,26,50,74]),new Z(24,new M(5,98),new M(1,99)),new Z(28,new M(7,45),new M(3,46)),new Z(24,new M(15,19),new M(2,20)),new Z(30,new M(3,15),new M(13,16))),new Ae(17,Int32Array.from([6,30,54,78]),new Z(28,new M(1,107),new M(5,108)),new Z(28,new M(10,46),new M(1,47)),new Z(28,new M(1,22),new M(15,23)),new Z(28,new M(2,14),new M(17,15))),new Ae(18,Int32Array.from([6,30,56,82]),new Z(30,new M(5,120),new M(1,121)),new Z(26,new M(9,43),new M(4,44)),new Z(28,new M(17,22),new M(1,23)),new Z(28,new M(2,14),new M(19,15))),new Ae(19,Int32Array.from([6,30,58,86]),new Z(28,new M(3,113),new M(4,114)),new Z(26,new M(3,44),new M(11,45)),new Z(26,new M(17,21),new M(4,22)),new Z(26,new M(9,13),new M(16,14))),new Ae(20,Int32Array.from([6,34,62,90]),new Z(28,new M(3,107),new M(5,108)),new Z(26,new M(3,41),new M(13,42)),new Z(30,new M(15,24),new M(5,25)),new Z(28,new M(15,15),new M(10,16))),new Ae(21,Int32Array.from([6,28,50,72,94]),new Z(28,new M(4,116),new M(4,117)),new Z(26,new M(17,42)),new Z(28,new M(17,22),new M(6,23)),new Z(30,new M(19,16),new M(6,17))),new Ae(22,Int32Array.from([6,26,50,74,98]),new Z(28,new M(2,111),new M(7,112)),new Z(28,new M(17,46)),new Z(30,new M(7,24),new M(16,25)),new Z(24,new M(34,13))),new Ae(23,Int32Array.from([6,30,54,78,102]),new Z(30,new M(4,121),new M(5,122)),new Z(28,new M(4,47),new M(14,48)),new Z(30,new M(11,24),new M(14,25)),new Z(30,new M(16,15),new M(14,16))),new Ae(24,Int32Array.from([6,28,54,80,106]),new Z(30,new M(6,117),new M(4,118)),new Z(28,new M(6,45),new M(14,46)),new Z(30,new M(11,24),new M(16,25)),new Z(30,new M(30,16),new M(2,17))),new Ae(25,Int32Array.from([6,32,58,84,110]),new Z(26,new M(8,106),new M(4,107)),new Z(28,new M(8,47),new M(13,48)),new Z(30,new M(7,24),new M(22,25)),new Z(30,new M(22,15),new M(13,16))),new Ae(26,Int32Array.from([6,30,58,86,114]),new Z(28,new M(10,114),new M(2,115)),new Z(28,new M(19,46),new M(4,47)),new Z(28,new M(28,22),new M(6,23)),new Z(30,new M(33,16),new M(4,17))),new Ae(27,Int32Array.from([6,34,62,90,118]),new Z(30,new M(8,122),new M(4,123)),new Z(28,new M(22,45),new M(3,46)),new Z(30,new M(8,23),new M(26,24)),new Z(30,new M(12,15),new M(28,16))),new Ae(28,Int32Array.from([6,26,50,74,98,122]),new Z(30,new M(3,117),new M(10,118)),new Z(28,new M(3,45),new M(23,46)),new Z(30,new M(4,24),new M(31,25)),new Z(30,new M(11,15),new M(31,16))),new Ae(29,Int32Array.from([6,30,54,78,102,126]),new Z(30,new M(7,116),new M(7,117)),new Z(28,new M(21,45),new M(7,46)),new Z(30,new M(1,23),new M(37,24)),new Z(30,new M(19,15),new M(26,16))),new Ae(30,Int32Array.from([6,26,52,78,104,130]),new Z(30,new M(5,115),new M(10,116)),new Z(28,new M(19,47),new M(10,48)),new Z(30,new M(15,24),new M(25,25)),new Z(30,new M(23,15),new M(25,16))),new Ae(31,Int32Array.from([6,30,56,82,108,134]),new Z(30,new M(13,115),new M(3,116)),new Z(28,new M(2,46),new M(29,47)),new Z(30,new M(42,24),new M(1,25)),new Z(30,new M(23,15),new M(28,16))),new Ae(32,Int32Array.from([6,34,60,86,112,138]),new Z(30,new M(17,115)),new Z(28,new M(10,46),new M(23,47)),new Z(30,new M(10,24),new M(35,25)),new Z(30,new M(19,15),new M(35,16))),new Ae(33,Int32Array.from([6,30,58,86,114,142]),new Z(30,new M(17,115),new M(1,116)),new Z(28,new M(14,46),new M(21,47)),new Z(30,new M(29,24),new M(19,25)),new Z(30,new M(11,15),new M(46,16))),new Ae(34,Int32Array.from([6,34,62,90,118,146]),new Z(30,new M(13,115),new M(6,116)),new Z(28,new M(14,46),new M(23,47)),new Z(30,new M(44,24),new M(7,25)),new Z(30,new M(59,16),new M(1,17))),new Ae(35,Int32Array.from([6,30,54,78,102,126,150]),new Z(30,new M(12,121),new M(7,122)),new Z(28,new M(12,47),new M(26,48)),new Z(30,new M(39,24),new M(14,25)),new Z(30,new M(22,15),new M(41,16))),new Ae(36,Int32Array.from([6,24,50,76,102,128,154]),new Z(30,new M(6,121),new M(14,122)),new Z(28,new M(6,47),new M(34,48)),new Z(30,new M(46,24),new M(10,25)),new Z(30,new M(2,15),new M(64,16))),new Ae(37,Int32Array.from([6,28,54,80,106,132,158]),new Z(30,new M(17,122),new M(4,123)),new Z(28,new M(29,46),new M(14,47)),new Z(30,new M(49,24),new M(10,25)),new Z(30,new M(24,15),new M(46,16))),new Ae(38,Int32Array.from([6,32,58,84,110,136,162]),new Z(30,new M(4,122),new M(18,123)),new Z(28,new M(13,46),new M(32,47)),new Z(30,new M(48,24),new M(14,25)),new Z(30,new M(42,15),new M(32,16))),new Ae(39,Int32Array.from([6,26,54,82,110,138,166]),new Z(30,new M(20,117),new M(4,118)),new Z(28,new M(40,47),new M(7,48)),new Z(30,new M(43,24),new M(22,25)),new Z(30,new M(10,15),new M(67,16))),new Ae(40,Int32Array.from([6,30,58,86,114,142,170]),new Z(30,new M(19,118),new M(6,119)),new Z(28,new M(18,47),new M(31,48)),new Z(30,new M(34,24),new M(34,25)),new Z(30,new M(20,15),new M(61,16)))];var Wt;(function(S){S[S.DATA_MASK_000=0]="DATA_MASK_000",S[S.DATA_MASK_001=1]="DATA_MASK_001",S[S.DATA_MASK_010=2]="DATA_MASK_010",S[S.DATA_MASK_011=3]="DATA_MASK_011",S[S.DATA_MASK_100=4]="DATA_MASK_100",S[S.DATA_MASK_101=5]="DATA_MASK_101",S[S.DATA_MASK_110=6]="DATA_MASK_110",S[S.DATA_MASK_111=7]="DATA_MASK_111"})(Wt||(Wt={}));class Ar{constructor(t,s){this.value=t,this.isMasked=s}unmaskBitMatrix(t,s){for(let i=0;i<s;i++)for(let o=0;o<s;o++)this.isMasked(i,o)&&t.flip(o,i)}}Ar.values=new Map([[Wt.DATA_MASK_000,new Ar(Wt.DATA_MASK_000,(S,t)=>(S+t&1)===0)],[Wt.DATA_MASK_001,new Ar(Wt.DATA_MASK_001,(S,t)=>(S&1)===0)],[Wt.DATA_MASK_010,new Ar(Wt.DATA_MASK_010,(S,t)=>t%3===0)],[Wt.DATA_MASK_011,new Ar(Wt.DATA_MASK_011,(S,t)=>(S+t)%3===0)],[Wt.DATA_MASK_100,new Ar(Wt.DATA_MASK_100,(S,t)=>(Math.floor(S/2)+Math.floor(t/3)&1)===0)],[Wt.DATA_MASK_101,new Ar(Wt.DATA_MASK_101,(S,t)=>S*t%6===0)],[Wt.DATA_MASK_110,new Ar(Wt.DATA_MASK_110,(S,t)=>S*t%6<3)],[Wt.DATA_MASK_111,new Ar(Wt.DATA_MASK_111,(S,t)=>(S+t+S*t%3&1)===0)]]);class b0{constructor(t){const s=t.getHeight();if(s<21||(s&3)!==1)throw new B;this.bitMatrix=t}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let t=0;for(let c=0;c<6;c++)t=this.copyBit(c,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(let c=5;c>=0;c--)t=this.copyBit(8,c,t);const s=this.bitMatrix.getHeight();let i=0;const o=s-7;for(let c=s-1;c>=o;c--)i=this.copyBit(8,c,i);for(let c=s-8;c<s;c++)i=this.copyBit(c,8,i);if(this.parsedFormatInfo=sr.decodeFormatInformation(t,i),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new B}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const t=this.bitMatrix.getHeight(),s=Math.floor((t-17)/4);if(s<=6)return Ae.getVersionForNumber(s);let i=0;const o=t-11;for(let d=5;d>=0;d--)for(let m=t-9;m>=o;m--)i=this.copyBit(m,d,i);let c=Ae.decodeVersionInformation(i);if(c!==null&&c.getDimensionForVersion()===t)return this.parsedVersion=c,c;i=0;for(let d=5;d>=0;d--)for(let m=t-9;m>=o;m--)i=this.copyBit(d,m,i);if(c=Ae.decodeVersionInformation(i),c!==null&&c.getDimensionForVersion()===t)return this.parsedVersion=c,c;throw new B}copyBit(t,s,i){return(this.isMirror?this.bitMatrix.get(s,t):this.bitMatrix.get(t,s))?i<<1|1:i<<1}readCodewords(){const t=this.readFormatInformation(),s=this.readVersion(),i=Ar.values.get(t.getDataMask()),o=this.bitMatrix.getHeight();i.unmaskBitMatrix(this.bitMatrix,o);const c=s.buildFunctionPattern();let d=!0;const m=new Uint8Array(s.getTotalCodewords());let x=0,y=0,N=0;for(let E=o-1;E>0;E-=2){E===6&&E--;for(let _=0;_<o;_++){const L=d?o-1-_:_;for(let U=0;U<2;U++)c.get(E-U,L)||(N++,y<<=1,this.bitMatrix.get(E-U,L)&&(y|=1),N===8&&(m[x++]=y,N=0,y=0))}d=!d}if(x!==s.getTotalCodewords())throw new B;return m}remask(){if(this.parsedFormatInfo===null)return;const t=Ar.values[this.parsedFormatInfo.getDataMask()],s=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,s)}setMirror(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t}mirror(){const t=this.bitMatrix;for(let s=0,i=t.getWidth();s<i;s++)for(let o=s+1,c=t.getHeight();o<c;o++)t.get(s,o)!==t.get(o,s)&&(t.flip(o,s),t.flip(s,o))}}class hi{constructor(t,s){this.numDataCodewords=t,this.codewords=s}static getDataBlocks(t,s,i){if(t.length!==s.getTotalCodewords())throw new v;const o=s.getECBlocksForLevel(i);let c=0;const d=o.getECBlocks();for(const U of d)c+=U.getCount();const m=new Array(c);let x=0;for(const U of d)for(let V=0;V<U.getCount();V++){const Y=U.getDataCodewords(),te=o.getECCodewordsPerBlock()+Y;m[x++]=new hi(Y,new Uint8Array(te))}const y=m[0].codewords.length;let N=m.length-1;for(;N>=0&&m[N].codewords.length!==y;)N--;N++;const E=y-o.getECCodewordsPerBlock();let _=0;for(let U=0;U<E;U++)for(let V=0;V<x;V++)m[V].codewords[U]=t[_++];for(let U=N;U<x;U++)m[U].codewords[E]=t[_++];const L=m[0].codewords.length;for(let U=E;U<L;U++)for(let V=0;V<x;V++){const Y=V<N?U:U+1;m[V].codewords[Y]=t[_++]}return m}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Tr;(function(S){S[S.TERMINATOR=0]="TERMINATOR",S[S.NUMERIC=1]="NUMERIC",S[S.ALPHANUMERIC=2]="ALPHANUMERIC",S[S.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",S[S.BYTE=4]="BYTE",S[S.ECI=5]="ECI",S[S.KANJI=6]="KANJI",S[S.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",S[S.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",S[S.HANZI=9]="HANZI"})(Tr||(Tr={}));class Oe{constructor(t,s,i,o){this.value=t,this.stringValue=s,this.characterCountBitsForVersions=i,this.bits=o,Oe.FOR_BITS.set(o,this),Oe.FOR_VALUE.set(t,this)}static forBits(t){const s=Oe.FOR_BITS.get(t);if(s===void 0)throw new v;return s}getCharacterCountBits(t){const s=t.getVersionNumber();let i;return s<=9?i=0:s<=26?i=1:i=2,this.characterCountBitsForVersions[i]}getValue(){return this.value}getBits(){return this.bits}equals(t){if(!(t instanceof Oe))return!1;const s=t;return this.value===s.value}toString(){return this.stringValue}}Oe.FOR_BITS=new Map,Oe.FOR_VALUE=new Map,Oe.TERMINATOR=new Oe(Tr.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Oe.NUMERIC=new Oe(Tr.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Oe.ALPHANUMERIC=new Oe(Tr.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Oe.STRUCTURED_APPEND=new Oe(Tr.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Oe.BYTE=new Oe(Tr.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Oe.ECI=new Oe(Tr.ECI,"ECI",Int32Array.from([0,0,0]),7),Oe.KANJI=new Oe(Tr.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Oe.FNC1_FIRST_POSITION=new Oe(Tr.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Oe.FNC1_SECOND_POSITION=new Oe(Tr.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Oe.HANZI=new Oe(Tr.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Tt{static decode(t,s,i,o){const c=new ui(t);let d=new X;const m=new Array;let x=-1,y=-1;try{let N=null,E=!1,_;do{if(c.available()<4)_=Oe.TERMINATOR;else{const L=c.readBits(4);_=Oe.forBits(L)}switch(_){case Oe.TERMINATOR:break;case Oe.FNC1_FIRST_POSITION:case Oe.FNC1_SECOND_POSITION:E=!0;break;case Oe.STRUCTURED_APPEND:if(c.available()<16)throw new B;x=c.readBits(8),y=c.readBits(8);break;case Oe.ECI:const L=Tt.parseECIValue(c);if(N=z.getCharacterSetECIByValue(L),N===null)throw new B;break;case Oe.HANZI:const U=c.readBits(4),V=c.readBits(_.getCharacterCountBits(s));U===Tt.GB2312_SUBSET&&Tt.decodeHanziSegment(c,d,V);break;default:const Y=c.readBits(_.getCharacterCountBits(s));switch(_){case Oe.NUMERIC:Tt.decodeNumericSegment(c,d,Y);break;case Oe.ALPHANUMERIC:Tt.decodeAlphanumericSegment(c,d,Y,E);break;case Oe.BYTE:Tt.decodeByteSegment(c,d,Y,N,m,o);break;case Oe.KANJI:Tt.decodeKanjiSegment(c,d,Y);break;default:throw new B}break}}while(_!==Oe.TERMINATOR)}catch{throw new B}return new ue(t,d.toString(),m.length===0?null:m,i===null?null:i.toString(),x,y)}static decodeHanziSegment(t,s,i){if(i*13>t.available())throw new B;const o=new Uint8Array(2*i);let c=0;for(;i>0;){const d=t.readBits(13);let m=d/96<<8&4294967295|d%96;m<959?m+=41377:m+=42657,o[c]=m>>8&255,o[c+1]=m&255,c+=2,i--}try{s.append(re.decode(o,F.GB2312))}catch(d){throw new B(d)}}static decodeKanjiSegment(t,s,i){if(i*13>t.available())throw new B;const o=new Uint8Array(2*i);let c=0;for(;i>0;){const d=t.readBits(13);let m=d/192<<8&4294967295|d%192;m<7936?m+=33088:m+=49472,o[c]=m>>8,o[c+1]=m,c+=2,i--}try{s.append(re.decode(o,F.SHIFT_JIS))}catch(d){throw new B(d)}}static decodeByteSegment(t,s,i,o,c,d){if(8*i>t.available())throw new B;const m=new Uint8Array(i);for(let y=0;y<i;y++)m[y]=t.readBits(8);let x;o===null?x=F.guessEncoding(m,d):x=o.getName();try{s.append(re.decode(m,x))}catch(y){throw new B(y)}c.push(m)}static toAlphaNumericChar(t){if(t>=Tt.ALPHANUMERIC_CHARS.length)throw new B;return Tt.ALPHANUMERIC_CHARS[t]}static decodeAlphanumericSegment(t,s,i,o){const c=s.length();for(;i>1;){if(t.available()<11)throw new B;const d=t.readBits(11);s.append(Tt.toAlphaNumericChar(Math.floor(d/45))),s.append(Tt.toAlphaNumericChar(d%45)),i-=2}if(i===1){if(t.available()<6)throw new B;s.append(Tt.toAlphaNumericChar(t.readBits(6)))}if(o)for(let d=c;d<s.length();d++)s.charAt(d)==="%"&&(d<s.length()-1&&s.charAt(d+1)==="%"?s.deleteCharAt(d+1):s.setCharAt(d,""))}static decodeNumericSegment(t,s,i){for(;i>=3;){if(t.available()<10)throw new B;const o=t.readBits(10);if(o>=1e3)throw new B;s.append(Tt.toAlphaNumericChar(Math.floor(o/100))),s.append(Tt.toAlphaNumericChar(Math.floor(o/10)%10)),s.append(Tt.toAlphaNumericChar(o%10)),i-=3}if(i===2){if(t.available()<7)throw new B;const o=t.readBits(7);if(o>=100)throw new B;s.append(Tt.toAlphaNumericChar(Math.floor(o/10))),s.append(Tt.toAlphaNumericChar(o%10))}else if(i===1){if(t.available()<4)throw new B;const o=t.readBits(4);if(o>=10)throw new B;s.append(Tt.toAlphaNumericChar(o))}}static parseECIValue(t){const s=t.readBits(8);if(!(s&128))return s&127;if((s&192)===128){const i=t.readBits(8);return(s&63)<<8&4294967295|i}if((s&224)===192){const i=t.readBits(16);return(s&31)<<16&4294967295|i}throw new B}}Tt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Tt.GB2312_SUBSET=1;class Ho{constructor(t){this.mirrored=t}isMirrored(){return this.mirrored}applyMirroredCorrection(t){if(!this.mirrored||t===null||t.length<3)return;const s=t[0];t[0]=t[2],t[2]=s}}class y0{constructor(){this.rsDecoder=new ze(_e.QR_CODE_FIELD_256)}decodeBooleanArray(t,s){return this.decodeBitMatrix(ae.parseFromBooleanArray(t),s)}decodeBitMatrix(t,s){const i=new b0(t);let o=null;try{return this.decodeBitMatrixParser(i,s)}catch(c){o=c}try{i.remask(),i.setMirror(!0),i.readVersion(),i.readFormatInformation(),i.mirror();const c=this.decodeBitMatrixParser(i,s);return c.setOther(new Ho(!0)),c}catch(c){throw o!==null?o:c}}decodeBitMatrixParser(t,s){const i=t.readVersion(),o=t.readFormatInformation().getErrorCorrectionLevel(),c=t.readCodewords(),d=hi.getDataBlocks(c,i,o);let m=0;for(const N of d)m+=N.getNumDataCodewords();const x=new Uint8Array(m);let y=0;for(const N of d){const E=N.getCodewords(),_=N.getNumDataCodewords();this.correctErrors(E,_);for(let L=0;L<_;L++)x[y++]=E[L]}return Tt.decode(x,i,o,s)}correctErrors(t,s){const i=new Int32Array(t);try{this.rsDecoder.decode(i,t.length-s)}catch{throw new A}for(let o=0;o<s;o++)t[o]=i[o]}}class mi extends q{constructor(t,s,i){super(t,s),this.estimatedModuleSize=i}aboutEquals(t,s,i){if(Math.abs(s-this.getY())<=t&&Math.abs(i-this.getX())<=t){const o=Math.abs(t-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1}combineEstimate(t,s,i){const o=(this.getX()+s)/2,c=(this.getY()+t)/2,d=(this.estimatedModuleSize+i)/2;return new mi(o,c,d)}}class nn{constructor(t,s,i,o,c,d,m){this.image=t,this.startX=s,this.startY=i,this.width=o,this.height=c,this.moduleSize=d,this.resultPointCallback=m,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const t=this.startX,s=this.height,i=this.width,o=t+i,c=this.startY+s/2,d=new Int32Array(3),m=this.image;for(let x=0;x<s;x++){const y=c+(x&1?-Math.floor((x+1)/2):Math.floor((x+1)/2));d[0]=0,d[1]=0,d[2]=0;let N=t;for(;N<o&&!m.get(N,y);)N++;let E=0;for(;N<o;){if(m.get(N,y))if(E===1)d[1]++;else if(E===2){if(this.foundPatternCross(d)){const _=this.handlePossibleCenter(d,y,N);if(_!==null)return _}d[0]=d[2],d[1]=1,d[2]=0,E=1}else d[++E]++;else E===1&&E++,d[E]++;N++}if(this.foundPatternCross(d)){const _=this.handlePossibleCenter(d,y,o);if(_!==null)return _}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new H}static centerFromEnd(t,s){return s-t[2]-t[1]/2}foundPatternCross(t){const s=this.moduleSize,i=s/2;for(let o=0;o<3;o++)if(Math.abs(s-t[o])>=i)return!1;return!0}crossCheckVertical(t,s,i,o){const c=this.image,d=c.getHeight(),m=this.crossCheckStateCount;m[0]=0,m[1]=0,m[2]=0;let x=t;for(;x>=0&&c.get(s,x)&&m[1]<=i;)m[1]++,x--;if(x<0||m[1]>i)return NaN;for(;x>=0&&!c.get(s,x)&&m[0]<=i;)m[0]++,x--;if(m[0]>i)return NaN;for(x=t+1;x<d&&c.get(s,x)&&m[1]<=i;)m[1]++,x++;if(x===d||m[1]>i)return NaN;for(;x<d&&!c.get(s,x)&&m[2]<=i;)m[2]++,x++;if(m[2]>i)return NaN;const y=m[0]+m[1]+m[2];return 5*Math.abs(y-o)>=2*o?NaN:this.foundPatternCross(m)?nn.centerFromEnd(m,x):NaN}handlePossibleCenter(t,s,i){const o=t[0]+t[1]+t[2],c=nn.centerFromEnd(t,i),d=this.crossCheckVertical(s,c,2*t[1],o);if(!isNaN(d)){const m=(t[0]+t[1]+t[2])/3;for(const y of this.possibleCenters)if(y.aboutEquals(m,d,c))return y.combineEstimate(d,c,m);const x=new mi(c,d,m);this.possibleCenters.push(x),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(x)}return null}}class gi extends q{constructor(t,s,i,o){super(t,s),this.estimatedModuleSize=i,this.count=o,o===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(t,s,i){if(Math.abs(s-this.getY())<=t&&Math.abs(i-this.getX())<=t){const o=Math.abs(t-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1}combineEstimate(t,s,i){const o=this.count+1,c=(this.count*this.getX()+s)/o,d=(this.count*this.getY()+t)/o,m=(this.count*this.estimatedModuleSize+i)/o;return new gi(c,d,m,o)}}class w0{constructor(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class qt{constructor(t,s){this.image=t,this.resultPointCallback=s,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=s}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(t){const s=t!=null&&t.get(D.TRY_HARDER)!==void 0,i=t!=null&&t.get(D.PURE_BARCODE)!==void 0,o=this.image,c=o.getHeight(),d=o.getWidth();let m=Math.floor(3*c/(4*qt.MAX_MODULES));(m<qt.MIN_SKIP||s)&&(m=qt.MIN_SKIP);let x=!1;const y=new Int32Array(5);for(let E=m-1;E<c&&!x;E+=m){y[0]=0,y[1]=0,y[2]=0,y[3]=0,y[4]=0;let _=0;for(let L=0;L<d;L++)if(o.get(L,E))(_&1)===1&&_++,y[_]++;else if(_&1)y[_]++;else if(_===4)if(qt.foundPatternCross(y)){if(this.handlePossibleCenter(y,E,L,i)===!0)if(m=2,this.hasSkipped===!0)x=this.haveMultiplyConfirmedCenters();else{const V=this.findRowSkip();V>y[2]&&(E+=V-y[2]-m,L=d-1)}else{y[0]=y[2],y[1]=y[3],y[2]=y[4],y[3]=1,y[4]=0,_=3;continue}_=0,y[0]=0,y[1]=0,y[2]=0,y[3]=0,y[4]=0}else y[0]=y[2],y[1]=y[3],y[2]=y[4],y[3]=1,y[4]=0,_=3;else y[++_]++;qt.foundPatternCross(y)&&this.handlePossibleCenter(y,E,d,i)===!0&&(m=y[0],this.hasSkipped&&(x=this.haveMultiplyConfirmedCenters()))}const N=this.selectBestPatterns();return q.orderBestPatterns(N),new w0(N)}static centerFromEnd(t,s){return s-t[4]-t[3]-t[2]/2}static foundPatternCross(t){let s=0;for(let c=0;c<5;c++){const d=t[c];if(d===0)return!1;s+=d}if(s<7)return!1;const i=s/7,o=i/2;return Math.abs(i-t[0])<o&&Math.abs(i-t[1])<o&&Math.abs(3*i-t[2])<3*o&&Math.abs(i-t[3])<o&&Math.abs(i-t[4])<o}getCrossCheckStateCount(){const t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t}crossCheckDiagonal(t,s,i,o){const c=this.getCrossCheckStateCount();let d=0;const m=this.image;for(;t>=d&&s>=d&&m.get(s-d,t-d);)c[2]++,d++;if(t<d||s<d)return!1;for(;t>=d&&s>=d&&!m.get(s-d,t-d)&&c[1]<=i;)c[1]++,d++;if(t<d||s<d||c[1]>i)return!1;for(;t>=d&&s>=d&&m.get(s-d,t-d)&&c[0]<=i;)c[0]++,d++;if(c[0]>i)return!1;const x=m.getHeight(),y=m.getWidth();for(d=1;t+d<x&&s+d<y&&m.get(s+d,t+d);)c[2]++,d++;if(t+d>=x||s+d>=y)return!1;for(;t+d<x&&s+d<y&&!m.get(s+d,t+d)&&c[3]<i;)c[3]++,d++;if(t+d>=x||s+d>=y||c[3]>=i)return!1;for(;t+d<x&&s+d<y&&m.get(s+d,t+d)&&c[4]<i;)c[4]++,d++;if(c[4]>=i)return!1;const N=c[0]+c[1]+c[2]+c[3]+c[4];return Math.abs(N-o)<2*o&&qt.foundPatternCross(c)}crossCheckVertical(t,s,i,o){const c=this.image,d=c.getHeight(),m=this.getCrossCheckStateCount();let x=t;for(;x>=0&&c.get(s,x);)m[2]++,x--;if(x<0)return NaN;for(;x>=0&&!c.get(s,x)&&m[1]<=i;)m[1]++,x--;if(x<0||m[1]>i)return NaN;for(;x>=0&&c.get(s,x)&&m[0]<=i;)m[0]++,x--;if(m[0]>i)return NaN;for(x=t+1;x<d&&c.get(s,x);)m[2]++,x++;if(x===d)return NaN;for(;x<d&&!c.get(s,x)&&m[3]<i;)m[3]++,x++;if(x===d||m[3]>=i)return NaN;for(;x<d&&c.get(s,x)&&m[4]<i;)m[4]++,x++;if(m[4]>=i)return NaN;const y=m[0]+m[1]+m[2]+m[3]+m[4];return 5*Math.abs(y-o)>=2*o?NaN:qt.foundPatternCross(m)?qt.centerFromEnd(m,x):NaN}crossCheckHorizontal(t,s,i,o){const c=this.image,d=c.getWidth(),m=this.getCrossCheckStateCount();let x=t;for(;x>=0&&c.get(x,s);)m[2]++,x--;if(x<0)return NaN;for(;x>=0&&!c.get(x,s)&&m[1]<=i;)m[1]++,x--;if(x<0||m[1]>i)return NaN;for(;x>=0&&c.get(x,s)&&m[0]<=i;)m[0]++,x--;if(m[0]>i)return NaN;for(x=t+1;x<d&&c.get(x,s);)m[2]++,x++;if(x===d)return NaN;for(;x<d&&!c.get(x,s)&&m[3]<i;)m[3]++,x++;if(x===d||m[3]>=i)return NaN;for(;x<d&&c.get(x,s)&&m[4]<i;)m[4]++,x++;if(m[4]>=i)return NaN;const y=m[0]+m[1]+m[2]+m[3]+m[4];return 5*Math.abs(y-o)>=o?NaN:qt.foundPatternCross(m)?qt.centerFromEnd(m,x):NaN}handlePossibleCenter(t,s,i,o){const c=t[0]+t[1]+t[2]+t[3]+t[4];let d=qt.centerFromEnd(t,i),m=this.crossCheckVertical(s,Math.floor(d),t[2],c);if(!isNaN(m)&&(d=this.crossCheckHorizontal(Math.floor(d),Math.floor(m),t[2],c),!isNaN(d)&&(!o||this.crossCheckDiagonal(Math.floor(m),Math.floor(d),t[2],c)))){const x=c/7;let y=!1;const N=this.possibleCenters;for(let E=0,_=N.length;E<_;E++){const L=N[E];if(L.aboutEquals(x,m,d)){N[E]=L.combineEstimate(m,d,x),y=!0;break}}if(!y){const E=new gi(d,m,x);N.push(E),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(E)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let s=null;for(const i of this.possibleCenters)if(i.getCount()>=qt.CENTER_QUORUM)if(s==null)s=i;else return this.hasSkipped=!0,Math.floor((Math.abs(s.getX()-i.getX())-Math.abs(s.getY()-i.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let t=0,s=0;const i=this.possibleCenters.length;for(const d of this.possibleCenters)d.getCount()>=qt.CENTER_QUORUM&&(t++,s+=d.getEstimatedModuleSize());if(t<3)return!1;const o=s/i;let c=0;for(const d of this.possibleCenters)c+=Math.abs(d.getEstimatedModuleSize()-o);return c<=.05*s}selectBestPatterns(){const t=this.possibleCenters.length;if(t<3)throw new H;const s=this.possibleCenters;let i;if(t>3){let o=0,c=0;for(const x of this.possibleCenters){const y=x.getEstimatedModuleSize();o+=y,c+=y*y}i=o/t;let d=Math.sqrt(c/t-i*i);s.sort((x,y)=>{const N=Math.abs(y.getEstimatedModuleSize()-i),E=Math.abs(x.getEstimatedModuleSize()-i);return N<E?-1:N>E?1:0});const m=Math.max(.2*i,d);for(let x=0;x<s.length&&s.length>3;x++){const y=s[x];Math.abs(y.getEstimatedModuleSize()-i)>m&&(s.splice(x,1),x--)}}if(s.length>3){let o=0;for(const c of s)o+=c.getEstimatedModuleSize();i=o/s.length,s.sort((c,d)=>{if(d.getCount()===c.getCount()){const m=Math.abs(d.getEstimatedModuleSize()-i),x=Math.abs(c.getEstimatedModuleSize()-i);return m<x?1:m>x?-1:0}else return d.getCount()-c.getCount()}),s.splice(3)}return[s[0],s[1],s[2]]}}qt.CENTER_QUORUM=2,qt.MIN_SKIP=3,qt.MAX_MODULES=57;class Sa{constructor(t){this.image=t}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(t){this.resultPointCallback=t==null?null:t.get(D.NEED_RESULT_POINT_CALLBACK);const i=new qt(this.image,this.resultPointCallback).find(t);return this.processFinderPatternInfo(i)}processFinderPatternInfo(t){const s=t.getTopLeft(),i=t.getTopRight(),o=t.getBottomLeft(),c=this.calculateModuleSize(s,i,o);if(c<1)throw new H("No pattern found in proccess finder.");const d=Sa.computeDimension(s,i,o,c),m=Ae.getProvisionalVersionForDimension(d),x=m.getDimensionForVersion()-7;let y=null;if(m.getAlignmentPatternCenters().length>0){const L=i.getX()-s.getX()+o.getX(),U=i.getY()-s.getY()+o.getY(),V=1-3/x,Y=Math.floor(s.getX()+V*(L-s.getX())),te=Math.floor(s.getY()+V*(U-s.getY()));for(let be=4;be<=16;be<<=1)try{y=this.findAlignmentInRegion(c,Y,te,be);break}catch(we){if(!(we instanceof H))throw we}}const N=Sa.createTransform(s,i,o,y,d),E=Sa.sampleGrid(this.image,N,d);let _;return y===null?_=[o,s,i]:_=[o,s,i,y],new Xe(E,_)}static createTransform(t,s,i,o,c){const d=c-3.5;let m,x,y,N;return o!==null?(m=o.getX(),x=o.getY(),y=d-3,N=y):(m=s.getX()-t.getX()+i.getX(),x=s.getY()-t.getY()+i.getY(),y=d,N=d),At.quadrilateralToQuadrilateral(3.5,3.5,d,3.5,y,N,3.5,d,t.getX(),t.getY(),s.getX(),s.getY(),m,x,i.getX(),i.getY())}static sampleGrid(t,s,i){return dr.getInstance().sampleGridWithTransform(t,i,i,s)}static computeDimension(t,s,i,o){const c=He.round(q.distance(t,s)/o),d=He.round(q.distance(t,i)/o);let m=Math.floor((c+d)/2)+7;switch(m&3){case 0:m++;break;case 2:m--;break;case 3:throw new H("Dimensions could be not found.")}return m}calculateModuleSize(t,s,i){return(this.calculateModuleSizeOneWay(t,s)+this.calculateModuleSizeOneWay(t,i))/2}calculateModuleSizeOneWay(t,s){const i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(s.getX()),Math.floor(s.getY())),o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(s.getX()),Math.floor(s.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(i)?o/7:isNaN(o)?i/7:(i+o)/14}sizeOfBlackWhiteBlackRunBothWays(t,s,i,o){let c=this.sizeOfBlackWhiteBlackRun(t,s,i,o),d=1,m=t-(i-t);m<0?(d=t/(t-m),m=0):m>=this.image.getWidth()&&(d=(this.image.getWidth()-1-t)/(m-t),m=this.image.getWidth()-1);let x=Math.floor(s-(o-s)*d);return d=1,x<0?(d=s/(s-x),x=0):x>=this.image.getHeight()&&(d=(this.image.getHeight()-1-s)/(x-s),x=this.image.getHeight()-1),m=Math.floor(t+(m-t)*d),c+=this.sizeOfBlackWhiteBlackRun(t,s,m,x),c-1}sizeOfBlackWhiteBlackRun(t,s,i,o){const c=Math.abs(o-s)>Math.abs(i-t);if(c){let L=t;t=s,s=L,L=i,i=o,o=L}const d=Math.abs(i-t),m=Math.abs(o-s);let x=-d/2;const y=t<i?1:-1,N=s<o?1:-1;let E=0;const _=i+y;for(let L=t,U=s;L!==_;L+=y){const V=c?U:L,Y=c?L:U;if(E===1===this.image.get(V,Y)){if(E===2)return He.distance(L,U,t,s);E++}if(x+=m,x>0){if(U===o)break;U+=N,x-=d}}return E===2?He.distance(i+y,o,t,s):NaN}findAlignmentInRegion(t,s,i,o){const c=Math.floor(o*t),d=Math.max(0,s-c),m=Math.min(this.image.getWidth()-1,s+c);if(m-d<t*3)throw new H("Alignment top exceeds estimated module size.");const x=Math.max(0,i-c),y=Math.min(this.image.getHeight()-1,i+c);if(y-x<t*3)throw new H("Alignment bottom exceeds estimated module size.");return new nn(this.image,d,x,m-d,y-x,t,this.resultPointCallback).find()}}class xs{constructor(){this.decoder=new y0}getDecoder(){return this.decoder}decode(t,s){let i,o;if(s!=null&&s.get(D.PURE_BARCODE)!==void 0){const x=xs.extractPureBits(t.getBlackMatrix());i=this.decoder.decodeBitMatrix(x,s),o=xs.NO_POINTS}else{const x=new Sa(t.getBlackMatrix()).detect(s);i=this.decoder.decodeBitMatrix(x.getBits(),s),o=x.getPoints()}i.getOther()instanceof Ho&&i.getOther().applyMirroredCorrection(o);const c=new Ce(i.getText(),i.getRawBytes(),void 0,o,fe.QR_CODE,void 0),d=i.getByteSegments();d!==null&&c.putMetadata(Re.BYTE_SEGMENTS,d);const m=i.getECLevel();return m!==null&&c.putMetadata(Re.ERROR_CORRECTION_LEVEL,m),i.hasStructuredAppend()&&(c.putMetadata(Re.STRUCTURED_APPEND_SEQUENCE,i.getStructuredAppendSequenceNumber()),c.putMetadata(Re.STRUCTURED_APPEND_PARITY,i.getStructuredAppendParity())),c}reset(){}static extractPureBits(t){const s=t.getTopLeftOnBit(),i=t.getBottomRightOnBit();if(s===null||i===null)throw new H;const o=this.moduleSize(s,t);let c=s[1],d=i[1],m=s[0],x=i[0];if(m>=x||c>=d)throw new H;if(d-c!==x-m&&(x=m+(d-c),x>=t.getWidth()))throw new H;const y=Math.round((x-m+1)/o),N=Math.round((d-c+1)/o);if(y<=0||N<=0)throw new H;if(N!==y)throw new H;const E=Math.floor(o/2);c+=E,m+=E;const _=m+Math.floor((y-1)*o)-x;if(_>0){if(_>E)throw new H;m-=_}const L=c+Math.floor((N-1)*o)-d;if(L>0){if(L>E)throw new H;c-=L}const U=new ae(y,N);for(let V=0;V<N;V++){const Y=c+Math.floor(V*o);for(let te=0;te<y;te++)t.get(m+Math.floor(te*o),Y)&&U.set(te,V)}return U}static moduleSize(t,s){const i=s.getHeight(),o=s.getWidth();let c=t[0],d=t[1],m=!0,x=0;for(;c<o&&d<i;){if(m!==s.get(c,d)){if(++x===5)break;m=!m}c++,d++}if(c===o||d===i)throw new H;return(c-t[0])/7}}xs.NO_POINTS=new Array;class Fe{PDF417Common(){}static getBitCountSum(t){return He.sum(t)}static toIntArray(t){if(t==null||!t.length)return Fe.EMPTY_INT_ARRAY;const s=new Int32Array(t.length);let i=0;for(const o of t)s[i++]=o;return s}static getCodeword(t){const s=O.binarySearch(Fe.SYMBOL_TABLE,t&262143);return s<0?-1:(Fe.CODEWORD_TABLE[s]-1)%Fe.NUMBER_OF_CODEWORDS}}Fe.NUMBER_OF_CODEWORDS=929,Fe.MAX_CODEWORDS_IN_BARCODE=Fe.NUMBER_OF_CODEWORDS-1,Fe.MIN_ROWS_IN_BARCODE=3,Fe.MAX_ROWS_IN_BARCODE=90,Fe.MODULES_IN_CODEWORD=17,Fe.MODULES_IN_STOP_PATTERN=18,Fe.BARS_IN_MODULE=8,Fe.EMPTY_INT_ARRAY=new Int32Array([]),Fe.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Fe.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class v0{constructor(t,s){this.bits=t,this.points=s}getBits(){return this.bits}getPoints(){return this.points}}class We{static detectMultiple(t,s,i){let o=t.getBlackMatrix(),c=We.detect(i,o);return c.length||(o=o.clone(),o.rotate180(),c=We.detect(i,o)),new v0(o,c)}static detect(t,s){const i=new Array;let o=0,c=0,d=!1;for(;o<s.getHeight();){const m=We.findVertices(s,o,c);if(m[0]==null&&m[3]==null){if(!d)break;d=!1,c=0;for(const x of i)x[1]!=null&&(o=Math.trunc(Math.max(o,x[1].getY()))),x[3]!=null&&(o=Math.max(o,Math.trunc(x[3].getY())));o+=We.ROW_STEP;continue}if(d=!0,i.push(m),!t)break;m[2]!=null?(c=Math.trunc(m[2].getX()),o=Math.trunc(m[2].getY())):(c=Math.trunc(m[4].getX()),o=Math.trunc(m[4].getY()))}return i}static findVertices(t,s,i){const o=t.getHeight(),c=t.getWidth(),d=new Array(8);return We.copyToResult(d,We.findRowsWithPattern(t,o,c,s,i,We.START_PATTERN),We.INDEXES_START_PATTERN),d[4]!=null&&(i=Math.trunc(d[4].getX()),s=Math.trunc(d[4].getY())),We.copyToResult(d,We.findRowsWithPattern(t,o,c,s,i,We.STOP_PATTERN),We.INDEXES_STOP_PATTERN),d}static copyToResult(t,s,i){for(let o=0;o<i.length;o++)t[i[o]]=s[o]}static findRowsWithPattern(t,s,i,o,c,d){const m=new Array(4);let x=!1;const y=new Int32Array(d.length);for(;o<s;o+=We.ROW_STEP){let E=We.findGuardPattern(t,c,o,i,!1,d,y);if(E!=null){for(;o>0;){const _=We.findGuardPattern(t,c,--o,i,!1,d,y);if(_!=null)E=_;else{o++;break}}m[0]=new q(E[0],o),m[1]=new q(E[1],o),x=!0;break}}let N=o+1;if(x){let E=0,_=Int32Array.from([Math.trunc(m[0].getX()),Math.trunc(m[1].getX())]);for(;N<s;N++){const L=We.findGuardPattern(t,_[0],N,i,!1,d,y);if(L!=null&&Math.abs(_[0]-L[0])<We.MAX_PATTERN_DRIFT&&Math.abs(_[1]-L[1])<We.MAX_PATTERN_DRIFT)_=L,E=0;else{if(E>We.SKIPPED_ROW_COUNT_MAX)break;E++}}N-=E+1,m[2]=new q(_[0],N),m[3]=new q(_[1],N)}return N-o<We.BARCODE_MIN_HEIGHT&&O.fill(m,null),m}static findGuardPattern(t,s,i,o,c,d,m){O.fillWithin(m,0,m.length,0);let x=s,y=0;for(;t.get(x,i)&&x>0&&y++<We.MAX_PIXEL_DRIFT;)x--;let N=x,E=0,_=d.length;for(let L=c;N<o;N++)if(t.get(N,i)!==L)m[E]++;else{if(E===_-1){if(We.patternMatchVariance(m,d,We.MAX_INDIVIDUAL_VARIANCE)<We.MAX_AVG_VARIANCE)return new Int32Array([x,N]);x+=m[0]+m[1],T.arraycopy(m,2,m,0,E-1),m[E-1]=0,m[E]=0,E--}else E++;m[E]=1,L=!L}return E===_-1&&We.patternMatchVariance(m,d,We.MAX_INDIVIDUAL_VARIANCE)<We.MAX_AVG_VARIANCE?new Int32Array([x,N-1]):null}static patternMatchVariance(t,s,i){let o=t.length,c=0,d=0;for(let y=0;y<o;y++)c+=t[y],d+=s[y];if(c<d)return 1/0;let m=c/d;i*=m;let x=0;for(let y=0;y<o;y++){let N=t[y],E=s[y]*m,_=N>E?N-E:E-N;if(_>i)return 1/0;x+=_}return x/c}}We.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),We.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),We.MAX_AVG_VARIANCE=.42,We.MAX_INDIVIDUAL_VARIANCE=.8,We.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),We.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),We.MAX_PIXEL_DRIFT=3,We.MAX_PATTERN_DRIFT=5,We.SKIPPED_ROW_COUNT_MAX=25,We.ROW_STEP=5,We.BARCODE_MIN_HEIGHT=10;class Yt{constructor(t,s){if(s.length===0)throw new v;this.field=t;let i=s.length;if(i>1&&s[0]===0){let o=1;for(;o<i&&s[o]===0;)o++;o===i?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(i-o),T.arraycopy(s,o,this.coefficients,0,this.coefficients.length))}else this.coefficients=s}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);if(t===1){let o=0;for(let c of this.coefficients)o=this.field.add(o,c);return o}let s=this.coefficients[0],i=this.coefficients.length;for(let o=1;o<i;o++)s=this.field.add(this.field.multiply(t,s),this.coefficients[o]);return s}add(t){if(!this.field.equals(t.field))throw new v("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;let s=this.coefficients,i=t.coefficients;if(s.length>i.length){let d=s;s=i,i=d}let o=new Int32Array(i.length),c=i.length-s.length;T.arraycopy(i,0,o,0,c);for(let d=c;d<i.length;d++)o[d]=this.field.add(s[d-c],i[d]);return new Yt(this.field,o)}subtract(t){if(!this.field.equals(t.field))throw new v("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())}multiply(t){return t instanceof Yt?this.multiplyOther(t):this.multiplyScalar(t)}multiplyOther(t){if(!this.field.equals(t.field))throw new v("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new Yt(this.field,new Int32Array([0]));let s=this.coefficients,i=s.length,o=t.coefficients,c=o.length,d=new Int32Array(i+c-1);for(let m=0;m<i;m++){let x=s[m];for(let y=0;y<c;y++)d[m+y]=this.field.add(d[m+y],this.field.multiply(x,o[y]))}return new Yt(this.field,d)}negative(){let t=this.coefficients.length,s=new Int32Array(t);for(let i=0;i<t;i++)s[i]=this.field.subtract(0,this.coefficients[i]);return new Yt(this.field,s)}multiplyScalar(t){if(t===0)return new Yt(this.field,new Int32Array([0]));if(t===1)return this;let s=this.coefficients.length,i=new Int32Array(s);for(let o=0;o<s;o++)i[o]=this.field.multiply(this.coefficients[o],t);return new Yt(this.field,i)}multiplyByMonomial(t,s){if(t<0)throw new v;if(s===0)return new Yt(this.field,new Int32Array([0]));let i=this.coefficients.length,o=new Int32Array(i+t);for(let c=0;c<i;c++)o[c]=this.field.multiply(this.coefficients[c],s);return new Yt(this.field,o)}toString(){let t=new X;for(let s=this.getDegree();s>=0;s--){let i=this.getCoefficient(s);i!==0&&(i<0?(t.append(" - "),i=-i):t.length()>0&&t.append(" + "),(s===0||i!==1)&&t.append(i),s!==0&&(s===1?t.append("x"):(t.append("x^"),t.append(s))))}return t.toString()}}class N0{add(t,s){return(t+s)%this.modulus}subtract(t,s){return(this.modulus+t-s)%this.modulus}exp(t){return this.expTable[t]}log(t){if(t===0)throw new v;return this.logTable[t]}inverse(t){if(t===0)throw new Ge;return this.expTable[this.modulus-this.logTable[t]-1]}multiply(t,s){return t===0||s===0?0:this.expTable[(this.logTable[t]+this.logTable[s])%(this.modulus-1)]}getSize(){return this.modulus}equals(t){return t===this}}class fi extends N0{constructor(t,s){super(),this.modulus=t,this.expTable=new Int32Array(t),this.logTable=new Int32Array(t);let i=1;for(let o=0;o<t;o++)this.expTable[o]=i,i=i*s%t;for(let o=0;o<t-1;o++)this.logTable[this.expTable[o]]=o;this.zero=new Yt(this,new Int32Array([0])),this.one=new Yt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,s){if(t<0)throw new v;if(s===0)return this.zero;let i=new Int32Array(t+1);return i[0]=s,new Yt(this,i)}}fi.PDF417_GF=new fi(Fe.NUMBER_OF_CODEWORDS,3);class Wo{constructor(){this.field=fi.PDF417_GF}decode(t,s,i){let o=new Yt(this.field,t),c=new Int32Array(s),d=!1;for(let U=s;U>0;U--){let V=o.evaluateAt(this.field.exp(U));c[s-U]=V,V!==0&&(d=!0)}if(!d)return 0;let m=this.field.getOne();if(i!=null)for(const U of i){let V=this.field.exp(t.length-1-U),Y=new Yt(this.field,new Int32Array([this.field.subtract(0,V),1]));m=m.multiply(Y)}let x=new Yt(this.field,c),y=this.runEuclideanAlgorithm(this.field.buildMonomial(s,1),x,s),N=y[0],E=y[1],_=this.findErrorLocations(N),L=this.findErrorMagnitudes(E,N,_);for(let U=0;U<_.length;U++){let V=t.length-1-this.field.log(_[U]);if(V<0)throw A.getChecksumInstance();t[V]=this.field.subtract(t[V],L[U])}return _.length}runEuclideanAlgorithm(t,s,i){if(t.getDegree()<s.getDegree()){let _=t;t=s,s=_}let o=t,c=s,d=this.field.getZero(),m=this.field.getOne();for(;c.getDegree()>=Math.round(i/2);){let _=o,L=d;if(o=c,d=m,o.isZero())throw A.getChecksumInstance();c=_;let U=this.field.getZero(),V=o.getCoefficient(o.getDegree()),Y=this.field.inverse(V);for(;c.getDegree()>=o.getDegree()&&!c.isZero();){let te=c.getDegree()-o.getDegree(),be=this.field.multiply(c.getCoefficient(c.getDegree()),Y);U=U.add(this.field.buildMonomial(te,be)),c=c.subtract(o.multiplyByMonomial(te,be))}m=U.multiply(d).subtract(L).negative()}let x=m.getCoefficient(0);if(x===0)throw A.getChecksumInstance();let y=this.field.inverse(x),N=m.multiply(y),E=c.multiply(y);return[N,E]}findErrorLocations(t){let s=t.getDegree(),i=new Int32Array(s),o=0;for(let c=1;c<this.field.getSize()&&o<s;c++)t.evaluateAt(c)===0&&(i[o]=this.field.inverse(c),o++);if(o!==s)throw A.getChecksumInstance();return i}findErrorMagnitudes(t,s,i){let o=s.getDegree(),c=new Int32Array(o);for(let y=1;y<=o;y++)c[o-y]=this.field.multiply(y,s.getCoefficient(y));let d=new Yt(this.field,c),m=i.length,x=new Int32Array(m);for(let y=0;y<m;y++){let N=this.field.inverse(i[y]),E=this.field.subtract(0,t.evaluateAt(N)),_=this.field.inverse(d.evaluateAt(N));x[y]=this.field.multiply(E,_)}return x}}class Es{constructor(t,s,i,o,c){t instanceof Es?this.constructor_2(t):this.constructor_1(t,s,i,o,c)}constructor_1(t,s,i,o,c){const d=s==null||i==null,m=o==null||c==null;if(d&&m)throw new H;d?(s=new q(0,o.getY()),i=new q(0,c.getY())):m&&(o=new q(t.getWidth()-1,s.getY()),c=new q(t.getWidth()-1,i.getY())),this.image=t,this.topLeft=s,this.bottomLeft=i,this.topRight=o,this.bottomRight=c,this.minX=Math.trunc(Math.min(s.getX(),i.getX())),this.maxX=Math.trunc(Math.max(o.getX(),c.getX())),this.minY=Math.trunc(Math.min(s.getY(),o.getY())),this.maxY=Math.trunc(Math.max(i.getY(),c.getY()))}constructor_2(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()}static merge(t,s){return t==null?s:s==null?t:new Es(t.image,t.topLeft,t.bottomLeft,s.topRight,s.bottomRight)}addMissingRows(t,s,i){let o=this.topLeft,c=this.bottomLeft,d=this.topRight,m=this.bottomRight;if(t>0){let x=i?this.topLeft:this.topRight,y=Math.trunc(x.getY()-t);y<0&&(y=0);let N=new q(x.getX(),y);i?o=N:d=N}if(s>0){let x=i?this.bottomLeft:this.bottomRight,y=Math.trunc(x.getY()+s);y>=this.image.getHeight()&&(y=this.image.getHeight()-1);let N=new q(x.getX(),y);i?c=N:m=N}return new Es(this.image,o,c,d,m)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class k0{constructor(t,s,i,o){this.columnCount=t,this.errorCorrectionLevel=o,this.rowCountUpperPart=s,this.rowCountLowerPart=i,this.rowCount=s+i}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Ea{constructor(){this.buffer=""}static form(t,s){let i=-1;function o(d,m,x,y,N,E){if(d==="%%")return"%";if(s[++i]===void 0)return;d=y?parseInt(y.substr(1)):void 0;let _=N?parseInt(N.substr(1)):void 0,L;switch(E){case"s":L=s[i];break;case"c":L=s[i][0];break;case"f":L=parseFloat(s[i]).toFixed(d);break;case"p":L=parseFloat(s[i]).toPrecision(d);break;case"e":L=parseFloat(s[i]).toExponential(d);break;case"x":L=parseInt(s[i]).toString(_||16);break;case"d":L=parseFloat(parseInt(s[i],_||10).toPrecision(d)).toFixed(0);break}L=typeof L=="object"?JSON.stringify(L):(+L).toString(_);let U=parseInt(x),V=x&&x[0]+""=="0"?"0":" ";for(;L.length<U;)L=m!==void 0?L+V:V+L;return L}let c=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(c,o)}format(t,...s){this.buffer+=Ea.form(t,s)}toString(){return this.buffer}}class Aa{constructor(t){this.boundingBox=new Es(t),this.codewords=new Array(t.getMaxY()-t.getMinY()+1)}getCodewordNearby(t){let s=this.getCodeword(t);if(s!=null)return s;for(let i=1;i<Aa.MAX_NEARBY_DISTANCE;i++){let o=this.imageRowToCodewordIndex(t)-i;if(o>=0&&(s=this.codewords[o],s!=null)||(o=this.imageRowToCodewordIndex(t)+i,o<this.codewords.length&&(s=this.codewords[o],s!=null)))return s}return null}imageRowToCodewordIndex(t){return t-this.boundingBox.getMinY()}setCodeword(t,s){this.codewords[this.imageRowToCodewordIndex(t)]=s}getCodeword(t){return this.codewords[this.imageRowToCodewordIndex(t)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const t=new Ea;let s=0;for(const i of this.codewords){if(i==null){t.format("%3d:    |   %n",s++);continue}t.format("%3d: %3d|%3d%n",s++,i.getRowNumber(),i.getValue())}return t.toString()}}Aa.MAX_NEARBY_DISTANCE=5;class Ta{constructor(){this.values=new Map}setValue(t){t=Math.trunc(t);let s=this.values.get(t);s==null&&(s=0),s++,this.values.set(t,s)}getValue(){let t=-1,s=new Array;for(const[i,o]of this.values.entries()){const c={getKey:()=>i,getValue:()=>o};c.getValue()>t?(t=c.getValue(),s=[],s.push(c.getKey())):c.getValue()===t&&s.push(c.getKey())}return Fe.toIntArray(s)}getConfidence(t){return this.values.get(t)}}class qo extends Aa{constructor(t,s){super(t),this._isLeft=s}setRowNumbers(){for(let t of this.getCodewords())t?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(t){let s=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(s,t);let i=this.getBoundingBox(),o=this._isLeft?i.getTopLeft():i.getTopRight(),c=this._isLeft?i.getBottomLeft():i.getBottomRight(),d=this.imageRowToCodewordIndex(Math.trunc(o.getY())),m=this.imageRowToCodewordIndex(Math.trunc(c.getY())),x=-1,y=1,N=0;for(let E=d;E<m;E++){if(s[E]==null)continue;let _=s[E],L=_.getRowNumber()-x;if(L===0)N++;else if(L===1)y=Math.max(y,N),N=1,x=_.getRowNumber();else if(L<0||_.getRowNumber()>=t.getRowCount()||L>E)s[E]=null;else{let U;y>2?U=(y-2)*L:U=L;let V=U>=E;for(let Y=1;Y<=U&&!V;Y++)V=s[E-Y]!=null;V?s[E]=null:(x=_.getRowNumber(),N=1)}}}getRowHeights(){let t=this.getBarcodeMetadata();if(t==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(t);let s=new Int32Array(t.getRowCount());for(let i of this.getCodewords())if(i!=null){let o=i.getRowNumber();if(o>=s.length)continue;s[o]++}return s}adjustIncompleteIndicatorColumnRowNumbers(t){let s=this.getBoundingBox(),i=this._isLeft?s.getTopLeft():s.getTopRight(),o=this._isLeft?s.getBottomLeft():s.getBottomRight(),c=this.imageRowToCodewordIndex(Math.trunc(i.getY())),d=this.imageRowToCodewordIndex(Math.trunc(o.getY())),m=this.getCodewords(),x=-1;for(let y=c;y<d;y++){if(m[y]==null)continue;let N=m[y];N.setRowNumberAsRowIndicatorColumn();let E=N.getRowNumber()-x;E===0||(E===1?x=N.getRowNumber():N.getRowNumber()>=t.getRowCount()?m[y]=null:x=N.getRowNumber())}}getBarcodeMetadata(){let t=this.getCodewords(),s=new Ta,i=new Ta,o=new Ta,c=new Ta;for(let m of t){if(m==null)continue;m.setRowNumberAsRowIndicatorColumn();let x=m.getValue()%30,y=m.getRowNumber();switch(this._isLeft||(y+=2),y%3){case 0:i.setValue(x*3+1);break;case 1:c.setValue(x/3),o.setValue(x%3);break;case 2:s.setValue(x+1);break}}if(s.getValue().length===0||i.getValue().length===0||o.getValue().length===0||c.getValue().length===0||s.getValue()[0]<1||i.getValue()[0]+o.getValue()[0]<Fe.MIN_ROWS_IN_BARCODE||i.getValue()[0]+o.getValue()[0]>Fe.MAX_ROWS_IN_BARCODE)return null;let d=new k0(s.getValue()[0],i.getValue()[0],o.getValue()[0],c.getValue()[0]);return this.removeIncorrectCodewords(t,d),d}removeIncorrectCodewords(t,s){for(let i=0;i<t.length;i++){let o=t[i];if(t[i]==null)continue;let c=o.getValue()%30,d=o.getRowNumber();if(d>s.getRowCount()){t[i]=null;continue}switch(this._isLeft||(d+=2),d%3){case 0:c*3+1!==s.getRowCountUpperPart()&&(t[i]=null);break;case 1:(Math.trunc(c/3)!==s.getErrorCorrectionLevel()||c%3!==s.getRowCountLowerPart())&&(t[i]=null);break;case 2:c+1!==s.getColumnCount()&&(t[i]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Ia{constructor(t,s){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=s,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let t=Fe.MAX_CODEWORDS_IN_BARCODE,s;do s=t,t=this.adjustRowNumbersAndGetCount();while(t>0&&t<s);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(t){t?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let t=this.adjustRowNumbersByRow();if(t===0)return 0;for(let s=1;s<this.barcodeColumnCount+1;s++){let i=this.detectionResultColumns[s].getCodewords();for(let o=0;o<i.length;o++)i[o]!=null&&(i[o].hasValidRowNumber()||this.adjustRowNumbers(s,o,i))}return t}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let t=this.detectionResultColumns[0].getCodewords(),s=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let i=0;i<t.length;i++)if(t[i]!=null&&s[i]!=null&&t[i].getRowNumber()===s[i].getRowNumber())for(let o=1;o<=this.barcodeColumnCount;o++){let c=this.detectionResultColumns[o].getCodewords()[i];c!=null&&(c.setRowNumber(t[i].getRowNumber()),c.hasValidRowNumber()||(this.detectionResultColumns[o].getCodewords()[i]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let t=0,s=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let i=0;i<s.length;i++){if(s[i]==null)continue;let o=s[i].getRowNumber(),c=0;for(let d=this.barcodeColumnCount+1;d>0&&c<this.ADJUST_ROW_NUMBER_SKIP;d--){let m=this.detectionResultColumns[d].getCodewords()[i];m!=null&&(c=Ia.adjustRowNumberIfValid(o,c,m),m.hasValidRowNumber()||t++)}}return t}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let t=0,s=this.detectionResultColumns[0].getCodewords();for(let i=0;i<s.length;i++){if(s[i]==null)continue;let o=s[i].getRowNumber(),c=0;for(let d=1;d<this.barcodeColumnCount+1&&c<this.ADJUST_ROW_NUMBER_SKIP;d++){let m=this.detectionResultColumns[d].getCodewords()[i];m!=null&&(c=Ia.adjustRowNumberIfValid(o,c,m),m.hasValidRowNumber()||t++)}}return t}static adjustRowNumberIfValid(t,s,i){return i==null||i.hasValidRowNumber()||(i.isValidRowNumber(t)?(i.setRowNumber(t),s=0):++s),s}adjustRowNumbers(t,s,i){if(!this.detectionResultColumns[t-1])return;let o=i[s],c=this.detectionResultColumns[t-1].getCodewords(),d=c;this.detectionResultColumns[t+1]!=null&&(d=this.detectionResultColumns[t+1].getCodewords());let m=new Array(14);m[2]=c[s],m[3]=d[s],s>0&&(m[0]=i[s-1],m[4]=c[s-1],m[5]=d[s-1]),s>1&&(m[8]=i[s-2],m[10]=c[s-2],m[11]=d[s-2]),s<i.length-1&&(m[1]=i[s+1],m[6]=c[s+1],m[7]=d[s+1]),s<i.length-2&&(m[9]=i[s+2],m[12]=c[s+2],m[13]=d[s+2]);for(let x of m)if(Ia.adjustRowNumber(o,x))return}static adjustRowNumber(t,s){return s==null?!1:s.hasValidRowNumber()&&s.getBucket()===t.getBucket()?(t.setRowNumber(s.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(t){this.boundingBox=t}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(t,s){this.detectionResultColumns[t]=s}getDetectionResultColumn(t){return this.detectionResultColumns[t]}toString(){let t=this.detectionResultColumns[0];t==null&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);let s=new Ea;for(let i=0;i<t.getCodewords().length;i++){s.format("CW %3d:",i);for(let o=0;o<this.barcodeColumnCount+2;o++){if(this.detectionResultColumns[o]==null){s.format("    |   ");continue}let c=this.detectionResultColumns[o].getCodewords()[i];if(c==null){s.format("    |   ");continue}s.format(" %3d|%3d",c.getRowNumber(),c.getValue())}s.format("%n")}return s.toString()}}class Ra{constructor(t,s,i,o){this.rowNumber=Ra.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(s),this.bucket=Math.trunc(i),this.value=Math.trunc(o)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(t){return t!==Ra.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(t){this.rowNumber=t}toString(){return this.rowNumber+"|"+this.value}}Ra.BARCODE_ROW_UNKNOWN=-1;class pr{static initialize(){for(let t=0;t<Fe.SYMBOL_TABLE.length;t++){let s=Fe.SYMBOL_TABLE[t],i=s&1;for(let o=0;o<Fe.BARS_IN_MODULE;o++){let c=0;for(;(s&1)===i;)c+=1,s>>=1;i=s&1,pr.RATIOS_TABLE[t]||(pr.RATIOS_TABLE[t]=new Array(Fe.BARS_IN_MODULE)),pr.RATIOS_TABLE[t][Fe.BARS_IN_MODULE-o-1]=Math.fround(c/Fe.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(t){let s=pr.getDecodedCodewordValue(pr.sampleBitCounts(t));return s!==-1?s:pr.getClosestDecodedValue(t)}static sampleBitCounts(t){let s=He.sum(t),i=new Int32Array(Fe.BARS_IN_MODULE),o=0,c=0;for(let d=0;d<Fe.MODULES_IN_CODEWORD;d++){let m=s/(2*Fe.MODULES_IN_CODEWORD)+d*s/Fe.MODULES_IN_CODEWORD;c+t[o]<=m&&(c+=t[o],o++),i[o]++}return i}static getDecodedCodewordValue(t){let s=pr.getBitValue(t);return Fe.getCodeword(s)===-1?-1:s}static getBitValue(t){let s=0;for(let i=0;i<t.length;i++)for(let o=0;o<t[i];o++)s=s<<1|(i%2===0?1:0);return Math.trunc(s)}static getClosestDecodedValue(t){let s=He.sum(t),i=new Array(Fe.BARS_IN_MODULE);if(s>1)for(let d=0;d<i.length;d++)i[d]=Math.fround(t[d]/s);let o=W.MAX_VALUE,c=-1;this.bSymbolTableReady||pr.initialize();for(let d=0;d<pr.RATIOS_TABLE.length;d++){let m=0,x=pr.RATIOS_TABLE[d];for(let y=0;y<Fe.BARS_IN_MODULE;y++){let N=Math.fround(x[y]-i[y]);if(m+=Math.fround(N*N),m>=o)break}m<o&&(o=m,c=Fe.SYMBOL_TABLE[d])}return c}}pr.bSymbolTableReady=!1,pr.RATIOS_TABLE=new Array(Fe.SYMBOL_TABLE.length).map(S=>new Array(Fe.BARS_IN_MODULE));class Go{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(t){this.segmentIndex=t}getFileId(){return this.fileId}setFileId(t){this.fileId=t}getOptionalData(){return this.optionalData}setOptionalData(t){this.optionalData=t}isLastSegment(){return this.lastSegment}setLastSegment(t){this.lastSegment=t}getSegmentCount(){return this.segmentCount}setSegmentCount(t){this.segmentCount=t}getSender(){return this.sender||null}setSender(t){this.sender=t}getAddressee(){return this.addressee||null}setAddressee(t){this.addressee=t}getFileName(){return this.fileName}setFileName(t){this.fileName=t}getFileSize(){return this.fileSize}setFileSize(t){this.fileSize=t}getChecksum(){return this.checksum}setChecksum(t){this.checksum=t}getTimestamp(){return this.timestamp}setTimestamp(t){this.timestamp=t}}class Xo{static parseLong(t,s=void 0){return parseInt(t,s)}}class Qo extends f{}Qo.kind="NullPointerException";class j0{writeBytes(t){this.writeBytesOffset(t,0,t.length)}writeBytesOffset(t,s,i){if(t==null)throw new Qo;if(s<0||s>t.length||i<0||s+i>t.length||s+i<0)throw new I;if(i===0)return;for(let o=0;o<i;o++)this.write(t[s+o])}flush(){}close(){}}class C0 extends f{}class S0 extends j0{constructor(t=32){if(super(),this.count=0,t<0)throw new v("Negative initial size: "+t);this.buf=new Uint8Array(t)}ensureCapacity(t){t-this.buf.length>0&&this.grow(t)}grow(t){let i=this.buf.length<<1;if(i-t<0&&(i=t),i<0){if(t<0)throw new C0;i=P.MAX_VALUE}this.buf=O.copyOfUint8Array(this.buf,i)}write(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1}writeBytesOffset(t,s,i){if(s<0||s>t.length||i<0||s+i-t.length>0)throw new I;this.ensureCapacity(this.count+i),T.arraycopy(t,s,this.buf,this.count,i),this.count+=i}writeTo(t){t.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return O.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(t){return new String(this.buf).toString()}toString_number(t){return new String(this.buf).toString()}close(){}}var ut;(function(S){S[S.ALPHA=0]="ALPHA",S[S.LOWER=1]="LOWER",S[S.MIXED=2]="MIXED",S[S.PUNCT=3]="PUNCT",S[S.ALPHA_SHIFT=4]="ALPHA_SHIFT",S[S.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(ut||(ut={}));function Ko(){if(typeof window<"u")return window.BigInt||null;if(typeof globalThis<"u")return globalThis.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let on;function ps(S){if(typeof on>"u"&&(on=Ko()),on===null)throw new Error("BigInt is not supported!");return on(S)}function E0(){let S=[];S[0]=ps(1);let t=ps(900);S[1]=t;for(let s=2;s<16;s++)S[s]=S[s-1]*t;return S}class J{static decode(t,s){let i=new X(""),o=z.ISO8859_1;i.enableDecoding(o);let c=1,d=t[c++],m=new Go;for(;c<t[0];){switch(d){case J.TEXT_COMPACTION_MODE_LATCH:c=J.textCompaction(t,c,i);break;case J.BYTE_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH_6:c=J.byteCompaction(d,t,o,c,i);break;case J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[c++]);break;case J.NUMERIC_COMPACTION_MODE_LATCH:c=J.numericCompaction(t,c,i);break;case J.ECI_CHARSET:z.getCharacterSetECIByValue(t[c++]);break;case J.ECI_GENERAL_PURPOSE:c+=2;break;case J.ECI_USER_DEFINED:c++;break;case J.BEGIN_MACRO_PDF417_CONTROL_BLOCK:c=J.decodeMacroBlock(t,c,m);break;case J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case J.MACRO_PDF417_TERMINATOR:throw new B;default:c--,c=J.textCompaction(t,c,i);break}if(c<t.length)d=t[c++];else throw B.getFormatInstance()}if(i.length()===0)throw B.getFormatInstance();let x=new ue(null,i.toString(),null,s);return x.setOther(m),x}static decodeMacroBlock(t,s,i){if(s+J.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw B.getFormatInstance();let o=new Int32Array(J.NUMBER_OF_SEQUENCE_CODEWORDS);for(let m=0;m<J.NUMBER_OF_SEQUENCE_CODEWORDS;m++,s++)o[m]=t[s];i.setSegmentIndex(P.parseInt(J.decodeBase900toBase10(o,J.NUMBER_OF_SEQUENCE_CODEWORDS)));let c=new X;s=J.textCompaction(t,s,c),i.setFileId(c.toString());let d=-1;for(t[s]===J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(d=s+1);s<t[0];)switch(t[s]){case J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(s++,t[s]){case J.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let m=new X;s=J.textCompaction(t,s+1,m),i.setFileName(m.toString());break;case J.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let x=new X;s=J.textCompaction(t,s+1,x),i.setSender(x.toString());break;case J.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let y=new X;s=J.textCompaction(t,s+1,y),i.setAddressee(y.toString());break;case J.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let N=new X;s=J.numericCompaction(t,s+1,N),i.setSegmentCount(P.parseInt(N.toString()));break;case J.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let E=new X;s=J.numericCompaction(t,s+1,E),i.setTimestamp(Xo.parseLong(E.toString()));break;case J.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let _=new X;s=J.numericCompaction(t,s+1,_),i.setChecksum(P.parseInt(_.toString()));break;case J.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let L=new X;s=J.numericCompaction(t,s+1,L),i.setFileSize(Xo.parseLong(L.toString()));break;default:throw B.getFormatInstance()}break;case J.MACRO_PDF417_TERMINATOR:s++,i.setLastSegment(!0);break;default:throw B.getFormatInstance()}if(d!==-1){let m=s-d;i.isLastSegment()&&m--,i.setOptionalData(O.copyOfRange(t,d,d+m))}return s}static textCompaction(t,s,i){let o=new Int32Array((t[0]-s)*2),c=new Int32Array((t[0]-s)*2),d=0,m=!1;for(;s<t[0]&&!m;){let x=t[s++];if(x<J.TEXT_COMPACTION_MODE_LATCH)o[d]=x/30,o[d+1]=x%30,d+=2;else switch(x){case J.TEXT_COMPACTION_MODE_LATCH:o[d++]=J.TEXT_COMPACTION_MODE_LATCH;break;case J.BYTE_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH_6:case J.NUMERIC_COMPACTION_MODE_LATCH:case J.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case J.MACRO_PDF417_TERMINATOR:s--,m=!0;break;case J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o[d]=J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,x=t[s++],c[d]=x,d++;break}}return J.decodeTextCompaction(o,c,d,i),s}static decodeTextCompaction(t,s,i,o){let c=ut.ALPHA,d=ut.ALPHA,m=0;for(;m<i;){let x=t[m],y="";switch(c){case ut.ALPHA:if(x<26)y=String.fromCharCode(65+x);else switch(x){case 26:y=" ";break;case J.LL:c=ut.LOWER;break;case J.ML:c=ut.MIXED;break;case J.PS:d=c,c=ut.PUNCT_SHIFT;break;case J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(s[m]);break;case J.TEXT_COMPACTION_MODE_LATCH:c=ut.ALPHA;break}break;case ut.LOWER:if(x<26)y=String.fromCharCode(97+x);else switch(x){case 26:y=" ";break;case J.AS:d=c,c=ut.ALPHA_SHIFT;break;case J.ML:c=ut.MIXED;break;case J.PS:d=c,c=ut.PUNCT_SHIFT;break;case J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(s[m]);break;case J.TEXT_COMPACTION_MODE_LATCH:c=ut.ALPHA;break}break;case ut.MIXED:if(x<J.PL)y=J.MIXED_CHARS[x];else switch(x){case J.PL:c=ut.PUNCT;break;case 26:y=" ";break;case J.LL:c=ut.LOWER;break;case J.AL:c=ut.ALPHA;break;case J.PS:d=c,c=ut.PUNCT_SHIFT;break;case J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(s[m]);break;case J.TEXT_COMPACTION_MODE_LATCH:c=ut.ALPHA;break}break;case ut.PUNCT:if(x<J.PAL)y=J.PUNCT_CHARS[x];else switch(x){case J.PAL:c=ut.ALPHA;break;case J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(s[m]);break;case J.TEXT_COMPACTION_MODE_LATCH:c=ut.ALPHA;break}break;case ut.ALPHA_SHIFT:if(c=d,x<26)y=String.fromCharCode(65+x);else switch(x){case 26:y=" ";break;case J.TEXT_COMPACTION_MODE_LATCH:c=ut.ALPHA;break}break;case ut.PUNCT_SHIFT:if(c=d,x<J.PAL)y=J.PUNCT_CHARS[x];else switch(x){case J.PAL:c=ut.ALPHA;break;case J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(s[m]);break;case J.TEXT_COMPACTION_MODE_LATCH:c=ut.ALPHA;break}break}y!==""&&o.append(y),m++}}static byteCompaction(t,s,i,o,c){let d=new S0,m=0,x=0,y=!1;switch(t){case J.BYTE_COMPACTION_MODE_LATCH:let N=new Int32Array(6),E=s[o++];for(;o<s[0]&&!y;)switch(N[m++]=E,x=900*x+E,E=s[o++],E){case J.TEXT_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH:case J.NUMERIC_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH_6:case J.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case J.MACRO_PDF417_TERMINATOR:o--,y=!0;break;default:if(m%5===0&&m>0){for(let _=0;_<6;++_)d.write(Number(ps(x)>>ps(8*(5-_))));x=0,m=0}break}o===s[0]&&E<J.TEXT_COMPACTION_MODE_LATCH&&(N[m++]=E);for(let _=0;_<m;_++)d.write(N[_]);break;case J.BYTE_COMPACTION_MODE_LATCH_6:for(;o<s[0]&&!y;){let _=s[o++];if(_<J.TEXT_COMPACTION_MODE_LATCH)m++,x=900*x+_;else switch(_){case J.TEXT_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH:case J.NUMERIC_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH_6:case J.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case J.MACRO_PDF417_TERMINATOR:o--,y=!0;break}if(m%5===0&&m>0){for(let L=0;L<6;++L)d.write(Number(ps(x)>>ps(8*(5-L))));x=0,m=0}}break}return c.append(re.decode(d.toByteArray(),i)),o}static numericCompaction(t,s,i){let o=0,c=!1,d=new Int32Array(J.MAX_NUMERIC_CODEWORDS);for(;s<t[0]&&!c;){let m=t[s++];if(s===t[0]&&(c=!0),m<J.TEXT_COMPACTION_MODE_LATCH)d[o]=m,o++;else switch(m){case J.TEXT_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH_6:case J.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case J.MACRO_PDF417_TERMINATOR:s--,c=!0;break}(o%J.MAX_NUMERIC_CODEWORDS===0||m===J.NUMERIC_COMPACTION_MODE_LATCH||c)&&o>0&&(i.append(J.decodeBase900toBase10(d,o)),o=0)}return s}static decodeBase900toBase10(t,s){let i=ps(0);for(let c=0;c<s;c++)i+=J.EXP900[s-c-1]*ps(t[c]);let o=i.toString();if(o.charAt(0)!=="1")throw new B;return o.substring(1)}}J.TEXT_COMPACTION_MODE_LATCH=900,J.BYTE_COMPACTION_MODE_LATCH=901,J.NUMERIC_COMPACTION_MODE_LATCH=902,J.BYTE_COMPACTION_MODE_LATCH_6=924,J.ECI_USER_DEFINED=925,J.ECI_GENERAL_PURPOSE=926,J.ECI_CHARSET=927,J.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,J.MACRO_PDF417_TERMINATOR=922,J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,J.MAX_NUMERIC_CODEWORDS=15,J.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,J.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,J.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,J.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,J.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,J.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,J.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,J.PL=25,J.LL=27,J.AS=27,J.ML=28,J.AL=28,J.PS=29,J.PAL=29,J.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,J.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",J.EXP900=Ko()?E0():[],J.NUMBER_OF_SEQUENCE_CODEWORDS=2;class qe{constructor(){}static decode(t,s,i,o,c,d,m){let x=new Es(t,s,i,o,c),y=null,N=null,E;for(let U=!0;;U=!1){if(s!=null&&(y=qe.getRowIndicatorColumn(t,x,s,!0,d,m)),o!=null&&(N=qe.getRowIndicatorColumn(t,x,o,!1,d,m)),E=qe.merge(y,N),E==null)throw H.getNotFoundInstance();let V=E.getBoundingBox();if(U&&V!=null&&(V.getMinY()<x.getMinY()||V.getMaxY()>x.getMaxY()))x=V;else break}E.setBoundingBox(x);let _=E.getBarcodeColumnCount()+1;E.setDetectionResultColumn(0,y),E.setDetectionResultColumn(_,N);let L=y!=null;for(let U=1;U<=_;U++){let V=L?U:_-U;if(E.getDetectionResultColumn(V)!==void 0)continue;let Y;V===0||V===_?Y=new qo(x,V===0):Y=new Aa(x),E.setDetectionResultColumn(V,Y);let te=-1,be=te;for(let we=x.getMinY();we<=x.getMaxY();we++){if(te=qe.getStartColumn(E,V,we,L),te<0||te>x.getMaxX()){if(be===-1)continue;te=be}let xe=qe.detectCodeword(t,x.getMinX(),x.getMaxX(),L,te,we,d,m);xe!=null&&(Y.setCodeword(we,xe),be=te,d=Math.min(d,xe.getWidth()),m=Math.max(m,xe.getWidth()))}}return qe.createDecoderResult(E)}static merge(t,s){if(t==null&&s==null)return null;let i=qe.getBarcodeMetadata(t,s);if(i==null)return null;let o=Es.merge(qe.adjustBoundingBox(t),qe.adjustBoundingBox(s));return new Ia(i,o)}static adjustBoundingBox(t){if(t==null)return null;let s=t.getRowHeights();if(s==null)return null;let i=qe.getMax(s),o=0;for(let m of s)if(o+=i-m,m>0)break;let c=t.getCodewords();for(let m=0;o>0&&c[m]==null;m++)o--;let d=0;for(let m=s.length-1;m>=0&&(d+=i-s[m],!(s[m]>0));m--);for(let m=c.length-1;d>0&&c[m]==null;m--)d--;return t.getBoundingBox().addMissingRows(o,d,t.isLeft())}static getMax(t){let s=-1;for(let i of t)s=Math.max(s,i);return s}static getBarcodeMetadata(t,s){let i;if(t==null||(i=t.getBarcodeMetadata())==null)return s==null?null:s.getBarcodeMetadata();let o;return s==null||(o=s.getBarcodeMetadata())==null?i:i.getColumnCount()!==o.getColumnCount()&&i.getErrorCorrectionLevel()!==o.getErrorCorrectionLevel()&&i.getRowCount()!==o.getRowCount()?null:i}static getRowIndicatorColumn(t,s,i,o,c,d){let m=new qo(s,o);for(let x=0;x<2;x++){let y=x===0?1:-1,N=Math.trunc(Math.trunc(i.getX()));for(let E=Math.trunc(Math.trunc(i.getY()));E<=s.getMaxY()&&E>=s.getMinY();E+=y){let _=qe.detectCodeword(t,0,t.getWidth(),o,N,E,c,d);_!=null&&(m.setCodeword(E,_),o?N=_.getStartX():N=_.getEndX())}}return m}static adjustCodewordCount(t,s){let i=s[0][1],o=i.getValue(),c=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-qe.getNumberOfECCodeWords(t.getBarcodeECLevel());if(o.length===0){if(c<1||c>Fe.MAX_CODEWORDS_IN_BARCODE)throw H.getNotFoundInstance();i.setValue(c)}else o[0]!==c&&i.setValue(c)}static createDecoderResult(t){let s=qe.createBarcodeMatrix(t);qe.adjustCodewordCount(t,s);let i=new Array,o=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),c=[],d=new Array;for(let x=0;x<t.getBarcodeRowCount();x++)for(let y=0;y<t.getBarcodeColumnCount();y++){let N=s[x][y+1].getValue(),E=x*t.getBarcodeColumnCount()+y;N.length===0?i.push(E):N.length===1?o[E]=N[0]:(d.push(E),c.push(N))}let m=new Array(c.length);for(let x=0;x<m.length;x++)m[x]=c[x];return qe.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),o,Fe.toIntArray(i),Fe.toIntArray(d),m)}static createDecoderResultFromAmbiguousValues(t,s,i,o,c){let d=new Int32Array(o.length),m=100;for(;m-- >0;){for(let x=0;x<d.length;x++)s[o[x]]=c[x][d[x]];try{return qe.decodeCodewords(s,t,i)}catch(x){if(!(x instanceof A))throw x}if(d.length===0)throw A.getChecksumInstance();for(let x=0;x<d.length;x++)if(d[x]<c[x].length-1){d[x]++;break}else if(d[x]=0,x===d.length-1)throw A.getChecksumInstance()}throw A.getChecksumInstance()}static createBarcodeMatrix(t){let s=Array.from({length:t.getBarcodeRowCount()},()=>new Array(t.getBarcodeColumnCount()+2));for(let o=0;o<s.length;o++)for(let c=0;c<s[o].length;c++)s[o][c]=new Ta;let i=0;for(let o of t.getDetectionResultColumns()){if(o!=null){for(let c of o.getCodewords())if(c!=null){let d=c.getRowNumber();if(d>=0){if(d>=s.length)continue;s[d][i].setValue(c.getValue())}}}i++}return s}static isValidBarcodeColumn(t,s){return s>=0&&s<=t.getBarcodeColumnCount()+1}static getStartColumn(t,s,i,o){let c=o?1:-1,d=null;if(qe.isValidBarcodeColumn(t,s-c)&&(d=t.getDetectionResultColumn(s-c).getCodeword(i)),d!=null)return o?d.getEndX():d.getStartX();if(d=t.getDetectionResultColumn(s).getCodewordNearby(i),d!=null)return o?d.getStartX():d.getEndX();if(qe.isValidBarcodeColumn(t,s-c)&&(d=t.getDetectionResultColumn(s-c).getCodewordNearby(i)),d!=null)return o?d.getEndX():d.getStartX();let m=0;for(;qe.isValidBarcodeColumn(t,s-c);){s-=c;for(let x of t.getDetectionResultColumn(s).getCodewords())if(x!=null)return(o?x.getEndX():x.getStartX())+c*m*(x.getEndX()-x.getStartX());m++}return o?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()}static detectCodeword(t,s,i,o,c,d,m,x){c=qe.adjustCodewordStartColumn(t,s,i,o,c,d);let y=qe.getModuleBitCount(t,s,i,o,c,d);if(y==null)return null;let N,E=He.sum(y);if(o)N=c+E;else{for(let U=0;U<y.length/2;U++){let V=y[U];y[U]=y[y.length-1-U],y[y.length-1-U]=V}N=c,c=N-E}if(!qe.checkCodewordSkew(E,m,x))return null;let _=pr.getDecodedValue(y),L=Fe.getCodeword(_);return L===-1?null:new Ra(c,N,qe.getCodewordBucketNumber(_),L)}static getModuleBitCount(t,s,i,o,c,d){let m=c,x=new Int32Array(8),y=0,N=o?1:-1,E=o;for(;(o?m<i:m>=s)&&y<x.length;)t.get(m,d)===E?(x[y]++,m+=N):(y++,E=!E);return y===x.length||m===(o?i:s)&&y===x.length-1?x:null}static getNumberOfECCodeWords(t){return 2<<t}static adjustCodewordStartColumn(t,s,i,o,c,d){let m=c,x=o?-1:1;for(let y=0;y<2;y++){for(;(o?m>=s:m<i)&&o===t.get(m,d);){if(Math.abs(c-m)>qe.CODEWORD_SKEW_SIZE)return c;m+=x}x=-x,o=!o}return m}static checkCodewordSkew(t,s,i){return s-qe.CODEWORD_SKEW_SIZE<=t&&t<=i+qe.CODEWORD_SKEW_SIZE}static decodeCodewords(t,s,i){if(t.length===0)throw B.getFormatInstance();let o=1<<s+1,c=qe.correctErrors(t,i,o);qe.verifyCodewordCount(t,o);let d=J.decode(t,""+s);return d.setErrorsCorrected(c),d.setErasures(i.length),d}static correctErrors(t,s,i){if(s!=null&&s.length>i/2+qe.MAX_ERRORS||i<0||i>qe.MAX_EC_CODEWORDS)throw A.getChecksumInstance();return qe.errorCorrection.decode(t,i,s)}static verifyCodewordCount(t,s){if(t.length<4)throw B.getFormatInstance();let i=t[0];if(i>t.length)throw B.getFormatInstance();if(i===0)if(s<t.length)t[0]=t.length-s;else throw B.getFormatInstance()}static getBitCountForCodeword(t){let s=new Int32Array(8),i=0,o=s.length-1;for(;!((t&1)!==i&&(i=t&1,o--,o<0));)s[o]++,t>>=1;return s}static getCodewordBucketNumber(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)}static getCodewordBucketNumber_number(t){return qe.getCodewordBucketNumber(qe.getBitCountForCodeword(t))}static getCodewordBucketNumber_Int32Array(t){return(t[0]-t[2]+t[4]-t[6]+9)%9}static toString(t){let s=new Ea;for(let i=0;i<t.length;i++){s.format("Row %2d: ",i);for(let o=0;o<t[i].length;o++){let c=t[i][o];c.getValue().length===0?s.format("        ",null):s.format("%4d(%2d)",c.getValue()[0],c.getConfidence(c.getValue()[0]))}s.format("%n")}return s.toString()}}qe.CODEWORD_SKEW_SIZE=2,qe.MAX_ERRORS=3,qe.MAX_EC_CODEWORDS=512,qe.errorCorrection=new Wo;class Zt{decode(t,s=null){let i=Zt.decode(t,s,!1);if(i==null||i.length===0||i[0]==null)throw H.getNotFoundInstance();return i[0]}decodeMultiple(t,s=null){try{return Zt.decode(t,s,!0)}catch(i){throw i instanceof B||i instanceof A?H.getNotFoundInstance():i}}static decode(t,s,i){const o=new Array,c=We.detectMultiple(t,s,i);for(const d of c.getPoints()){const m=qe.decode(c.getBits(),d[4],d[5],d[6],d[7],Zt.getMinCodewordWidth(d),Zt.getMaxCodewordWidth(d)),x=new Ce(m.getText(),m.getRawBytes(),void 0,d,fe.PDF_417);x.putMetadata(Re.ERROR_CORRECTION_LEVEL,m.getECLevel());const y=m.getOther();y!=null&&x.putMetadata(Re.PDF417_EXTRA_METADATA,y),o.push(x)}return o.map(d=>d)}static getMaxWidth(t,s){return t==null||s==null?0:Math.trunc(Math.abs(t.getX()-s.getX()))}static getMinWidth(t,s){return t==null||s==null?P.MAX_VALUE:Math.trunc(Math.abs(t.getX()-s.getX()))}static getMaxCodewordWidth(t){return Math.floor(Math.max(Math.max(Zt.getMaxWidth(t[0],t[4]),Zt.getMaxWidth(t[6],t[2])*Fe.MODULES_IN_CODEWORD/Fe.MODULES_IN_STOP_PATTERN),Math.max(Zt.getMaxWidth(t[1],t[5]),Zt.getMaxWidth(t[7],t[3])*Fe.MODULES_IN_CODEWORD/Fe.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(t){return Math.floor(Math.min(Math.min(Zt.getMinWidth(t[0],t[4]),Zt.getMinWidth(t[6],t[2])*Fe.MODULES_IN_CODEWORD/Fe.MODULES_IN_STOP_PATTERN),Math.min(Zt.getMinWidth(t[1],t[5]),Zt.getMinWidth(t[7],t[3])*Fe.MODULES_IN_CODEWORD/Fe.MODULES_IN_STOP_PATTERN)))}reset(){}}class ln extends f{}ln.kind="ReaderException";class Yo{constructor(t,s){this.verbose=t===!0,s&&this.setHints(s)}decode(t,s){return s&&this.setHints(s),this.decodeInternal(t)}decodeWithState(t){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(t)}setHints(t){this.hints=t;const s=!l(t)&&t.get(D.TRY_HARDER)===!0,i=l(t)?null:t.get(D.POSSIBLE_FORMATS),o=new Array;if(!l(i)){const c=i.some(d=>d===fe.UPC_A||d===fe.UPC_E||d===fe.EAN_13||d===fe.EAN_8||d===fe.CODABAR||d===fe.CODE_39||d===fe.CODE_93||d===fe.CODE_128||d===fe.ITF||d===fe.RSS_14||d===fe.RSS_EXPANDED);c&&!s&&o.push(new Qs(t,this.verbose)),i.includes(fe.QR_CODE)&&o.push(new xs),i.includes(fe.DATA_MATRIX)&&o.push(new fs),i.includes(fe.AZTEC)&&o.push(new Je),i.includes(fe.PDF_417)&&o.push(new Zt),c&&s&&o.push(new Qs(t,this.verbose))}o.length===0&&(s||o.push(new Qs(t,this.verbose)),o.push(new xs),o.push(new fs),o.push(new Je),o.push(new Zt),s&&o.push(new Qs(t,this.verbose))),this.readers=o}reset(){if(this.readers!==null)for(const t of this.readers)t.reset()}decodeInternal(t){if(this.readers===null)throw new ln("No readers where selected, nothing can be read.");for(const s of this.readers)try{return s.decode(t,this.hints)}catch(i){if(i instanceof ln)continue}throw new H("No MultiFormat Readers were able to detect the code.")}}class A0 extends ge{constructor(t=null,s=500){const i=new Yo;i.setHints(t),super(i,s)}decodeBitmap(t){return this.reader.decodeWithState(t)}}class T0 extends ge{constructor(t=500){super(new Zt,t)}}class I0 extends ge{constructor(t=500){super(new xs,t)}}var xi;(function(S){S[S.ERROR_CORRECTION=0]="ERROR_CORRECTION",S[S.CHARACTER_SET=1]="CHARACTER_SET",S[S.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",S[S.MIN_SIZE=3]="MIN_SIZE",S[S.MAX_SIZE=4]="MAX_SIZE",S[S.MARGIN=5]="MARGIN",S[S.PDF417_COMPACT=6]="PDF417_COMPACT",S[S.PDF417_COMPACTION=7]="PDF417_COMPACTION",S[S.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",S[S.AZTEC_LAYERS=9]="AZTEC_LAYERS",S[S.QR_VERSION=10]="QR_VERSION"})(xi||(xi={}));var zt=xi;class pi{constructor(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new ke(t,Int32Array.from([1])))}buildGenerator(t){const s=this.cachedGenerators;if(t>=s.length){let i=s[s.length-1];const o=this.field;for(let c=s.length;c<=t;c++){const d=i.multiply(new ke(o,Int32Array.from([1,o.exp(c-1+o.getGeneratorBase())])));s.push(d),i=d}}return s[t]}encode(t,s){if(s===0)throw new v("No error correction bytes");const i=t.length-s;if(i<=0)throw new v("No data bytes provided");const o=this.buildGenerator(s),c=new Int32Array(i);T.arraycopy(t,0,c,0,i);let d=new ke(this.field,c);d=d.multiplyByMonomial(s,1);const x=d.divide(o)[1].getCoefficients(),y=s-x.length;for(let N=0;N<y;N++)t[i+N]=0;T.arraycopy(x,0,t,i+y,x.length)}}class Ot{constructor(){}static applyMaskPenaltyRule1(t){return Ot.applyMaskPenaltyRule1Internal(t,!0)+Ot.applyMaskPenaltyRule1Internal(t,!1)}static applyMaskPenaltyRule2(t){let s=0;const i=t.getArray(),o=t.getWidth(),c=t.getHeight();for(let d=0;d<c-1;d++){const m=i[d];for(let x=0;x<o-1;x++){const y=m[x];y===m[x+1]&&y===i[d+1][x]&&y===i[d+1][x+1]&&s++}}return Ot.N2*s}static applyMaskPenaltyRule3(t){let s=0;const i=t.getArray(),o=t.getWidth(),c=t.getHeight();for(let d=0;d<c;d++)for(let m=0;m<o;m++){const x=i[d];m+6<o&&x[m]===1&&x[m+1]===0&&x[m+2]===1&&x[m+3]===1&&x[m+4]===1&&x[m+5]===0&&x[m+6]===1&&(Ot.isWhiteHorizontal(x,m-4,m)||Ot.isWhiteHorizontal(x,m+7,m+11))&&s++,d+6<c&&i[d][m]===1&&i[d+1][m]===0&&i[d+2][m]===1&&i[d+3][m]===1&&i[d+4][m]===1&&i[d+5][m]===0&&i[d+6][m]===1&&(Ot.isWhiteVertical(i,m,d-4,d)||Ot.isWhiteVertical(i,m,d+7,d+11))&&s++}return s*Ot.N3}static isWhiteHorizontal(t,s,i){s=Math.max(s,0),i=Math.min(i,t.length);for(let o=s;o<i;o++)if(t[o]===1)return!1;return!0}static isWhiteVertical(t,s,i,o){i=Math.max(i,0),o=Math.min(o,t.length);for(let c=i;c<o;c++)if(t[c][s]===1)return!1;return!0}static applyMaskPenaltyRule4(t){let s=0;const i=t.getArray(),o=t.getWidth(),c=t.getHeight();for(let x=0;x<c;x++){const y=i[x];for(let N=0;N<o;N++)y[N]===1&&s++}const d=t.getHeight()*t.getWidth();return Math.floor(Math.abs(s*2-d)*10/d)*Ot.N4}static getDataMaskBit(t,s,i){let o,c;switch(t){case 0:o=i+s&1;break;case 1:o=i&1;break;case 2:o=s%3;break;case 3:o=(i+s)%3;break;case 4:o=Math.floor(i/2)+Math.floor(s/3)&1;break;case 5:c=i*s,o=(c&1)+c%3;break;case 6:c=i*s,o=(c&1)+c%3&1;break;case 7:c=i*s,o=c%3+(i+s&1)&1;break;default:throw new v("Invalid mask pattern: "+t)}return o===0}static applyMaskPenaltyRule1Internal(t,s){let i=0;const o=s?t.getHeight():t.getWidth(),c=s?t.getWidth():t.getHeight(),d=t.getArray();for(let m=0;m<o;m++){let x=0,y=-1;for(let N=0;N<c;N++){const E=s?d[m][N]:d[N][m];E===y?x++:(x>=5&&(i+=Ot.N1+(x-5)),x=1,y=E)}x>=5&&(i+=Ot.N1+(x-5))}return i}}Ot.N1=3,Ot.N2=3,Ot.N3=40,Ot.N4=10;class cn{constructor(t,s){this.width=t,this.height=s;const i=new Array(s);for(let o=0;o!==s;o++)i[o]=new Uint8Array(t);this.bytes=i}getHeight(){return this.height}getWidth(){return this.width}get(t,s){return this.bytes[s][t]}getArray(){return this.bytes}setNumber(t,s,i){this.bytes[s][t]=i}setBoolean(t,s,i){this.bytes[s][t]=i?1:0}clear(t){for(const s of this.bytes)O.fill(s,t)}equals(t){if(!(t instanceof cn))return!1;const s=t;if(this.width!==s.width||this.height!==s.height)return!1;for(let i=0,o=this.height;i<o;++i){const c=this.bytes[i],d=s.bytes[i];for(let m=0,x=this.width;m<x;++m)if(c[m]!==d[m])return!1}return!0}toString(){const t=new X;for(let s=0,i=this.height;s<i;++s){const o=this.bytes[s];for(let c=0,d=this.width;c<d;++c)switch(o[c]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ");break}t.append(`
`)}return t.toString()}}class As{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const t=new X;return t.append(`<<
`),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append(`
 ecLevel: `),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append(`
 version: `),t.append(this.version?this.version.toString():"null"),t.append(`
 maskPattern: `),t.append(this.maskPattern.toString()),this.matrix?(t.append(`
 matrix:
`),t.append(this.matrix.toString())):t.append(`
 matrix: null
`),t.append(`>>
`),t.toString()}setMode(t){this.mode=t}setECLevel(t){this.ecLevel=t}setVersion(t){this.version=t}setMaskPattern(t){this.maskPattern=t}setMatrix(t){this.matrix=t}static isValidMaskPattern(t){return t>=0&&t<As.NUM_MASK_PATTERNS}}As.NUM_MASK_PATTERNS=8;class gt extends f{}gt.kind="WriterException";class Me{constructor(){}static clearMatrix(t){t.clear(255)}static buildMatrix(t,s,i,o,c){Me.clearMatrix(c),Me.embedBasicPatterns(i,c),Me.embedTypeInfo(s,o,c),Me.maybeEmbedVersionInfo(i,c),Me.embedDataBits(t,o,c)}static embedBasicPatterns(t,s){Me.embedPositionDetectionPatternsAndSeparators(s),Me.embedDarkDotAtLeftBottomCorner(s),Me.maybeEmbedPositionAdjustmentPatterns(t,s),Me.embedTimingPatterns(s)}static embedTypeInfo(t,s,i){const o=new G;Me.makeTypeInfoBits(t,s,o);for(let c=0,d=o.getSize();c<d;++c){const m=o.get(o.getSize()-1-c),x=Me.TYPE_INFO_COORDINATES[c],y=x[0],N=x[1];if(i.setBoolean(y,N,m),c<8){const E=i.getWidth()-c-1;i.setBoolean(E,8,m)}else{const _=i.getHeight()-7+(c-8);i.setBoolean(8,_,m)}}}static maybeEmbedVersionInfo(t,s){if(t.getVersionNumber()<7)return;const i=new G;Me.makeVersionInfoBits(t,i);let o=6*3-1;for(let c=0;c<6;++c)for(let d=0;d<3;++d){const m=i.get(o);o--,s.setBoolean(c,s.getHeight()-11+d,m),s.setBoolean(s.getHeight()-11+d,c,m)}}static embedDataBits(t,s,i){let o=0,c=-1,d=i.getWidth()-1,m=i.getHeight()-1;for(;d>0;){for(d===6&&(d-=1);m>=0&&m<i.getHeight();){for(let x=0;x<2;++x){const y=d-x;if(!Me.isEmpty(i.get(y,m)))continue;let N;o<t.getSize()?(N=t.get(o),++o):N=!1,s!==255&&Ot.getDataMaskBit(s,y,m)&&(N=!N),i.setBoolean(y,m,N)}m+=c}c=-c,m+=c,d-=2}if(o!==t.getSize())throw new gt("Not all bits consumed: "+o+"/"+t.getSize())}static findMSBSet(t){return 32-P.numberOfLeadingZeros(t)}static calculateBCHCode(t,s){if(s===0)throw new v("0 polynomial");const i=Me.findMSBSet(s);for(t<<=i-1;Me.findMSBSet(t)>=i;)t^=s<<Me.findMSBSet(t)-i;return t}static makeTypeInfoBits(t,s,i){if(!As.isValidMaskPattern(s))throw new gt("Invalid mask pattern");const o=t.getBits()<<3|s;i.appendBits(o,5);const c=Me.calculateBCHCode(o,Me.TYPE_INFO_POLY);i.appendBits(c,10);const d=new G;if(d.appendBits(Me.TYPE_INFO_MASK_PATTERN,15),i.xor(d),i.getSize()!==15)throw new gt("should not happen but we got: "+i.getSize())}static makeVersionInfoBits(t,s){s.appendBits(t.getVersionNumber(),6);const i=Me.calculateBCHCode(t.getVersionNumber(),Me.VERSION_INFO_POLY);if(s.appendBits(i,12),s.getSize()!==18)throw new gt("should not happen but we got: "+s.getSize())}static isEmpty(t){return t===255}static embedTimingPatterns(t){for(let s=8;s<t.getWidth()-8;++s){const i=(s+1)%2;Me.isEmpty(t.get(s,6))&&t.setNumber(s,6,i),Me.isEmpty(t.get(6,s))&&t.setNumber(6,s,i)}}static embedDarkDotAtLeftBottomCorner(t){if(t.get(8,t.getHeight()-8)===0)throw new gt;t.setNumber(8,t.getHeight()-8,1)}static embedHorizontalSeparationPattern(t,s,i){for(let o=0;o<8;++o){if(!Me.isEmpty(i.get(t+o,s)))throw new gt;i.setNumber(t+o,s,0)}}static embedVerticalSeparationPattern(t,s,i){for(let o=0;o<7;++o){if(!Me.isEmpty(i.get(t,s+o)))throw new gt;i.setNumber(t,s+o,0)}}static embedPositionAdjustmentPattern(t,s,i){for(let o=0;o<5;++o){const c=Me.POSITION_ADJUSTMENT_PATTERN[o];for(let d=0;d<5;++d)i.setNumber(t+d,s+o,c[d])}}static embedPositionDetectionPattern(t,s,i){for(let o=0;o<7;++o){const c=Me.POSITION_DETECTION_PATTERN[o];for(let d=0;d<7;++d)i.setNumber(t+d,s+o,c[d])}}static embedPositionDetectionPatternsAndSeparators(t){const s=Me.POSITION_DETECTION_PATTERN[0].length;Me.embedPositionDetectionPattern(0,0,t),Me.embedPositionDetectionPattern(t.getWidth()-s,0,t),Me.embedPositionDetectionPattern(0,t.getWidth()-s,t);const i=8;Me.embedHorizontalSeparationPattern(0,i-1,t),Me.embedHorizontalSeparationPattern(t.getWidth()-i,i-1,t),Me.embedHorizontalSeparationPattern(0,t.getWidth()-i,t);const o=7;Me.embedVerticalSeparationPattern(o,0,t),Me.embedVerticalSeparationPattern(t.getHeight()-o-1,0,t),Me.embedVerticalSeparationPattern(o,t.getHeight()-o,t)}static maybeEmbedPositionAdjustmentPatterns(t,s){if(t.getVersionNumber()<2)return;const i=t.getVersionNumber()-1,o=Me.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[i];for(let c=0,d=o.length;c!==d;c++){const m=o[c];if(m>=0)for(let x=0;x!==d;x++){const y=o[x];y>=0&&Me.isEmpty(s.get(y,m))&&Me.embedPositionAdjustmentPattern(y-2,m-2,s)}}}}Me.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Me.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Me.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Me.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Me.VERSION_INFO_POLY=7973,Me.TYPE_INFO_POLY=1335,Me.TYPE_INFO_MASK_PATTERN=21522;class R0{constructor(t,s){this.dataBytes=t,this.errorCorrectionBytes=s}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class kt{constructor(){}static calculateMaskPenalty(t){return Ot.applyMaskPenaltyRule1(t)+Ot.applyMaskPenaltyRule2(t)+Ot.applyMaskPenaltyRule3(t)+Ot.applyMaskPenaltyRule4(t)}static encode(t,s,i=null){let o=kt.DEFAULT_BYTE_MODE_ENCODING;const c=i!==null&&i.get(zt.CHARACTER_SET)!==void 0;c&&(o=i.get(zt.CHARACTER_SET).toString());const d=this.chooseMode(t,o),m=new G;if(d===Oe.BYTE&&(c||kt.DEFAULT_BYTE_MODE_ENCODING!==o)){const we=z.getCharacterSetECIByName(o);we!==void 0&&this.appendECI(we,m)}this.appendModeInfo(d,m);const x=new G;this.appendBytes(t,d,x,o);let y;if(i!==null&&i.get(zt.QR_VERSION)!==void 0){const we=Number.parseInt(i.get(zt.QR_VERSION).toString(),10);y=Ae.getVersionForNumber(we);const xe=this.calculateBitsNeeded(d,m,x,y);if(!this.willFit(xe,y,s))throw new gt("Data too big for requested version")}else y=this.recommendVersion(s,d,m,x);const N=new G;N.appendBitArray(m);const E=d===Oe.BYTE?x.getSizeInBytes():t.length;this.appendLengthInfo(E,y,d,N),N.appendBitArray(x);const _=y.getECBlocksForLevel(s),L=y.getTotalCodewords()-_.getTotalECCodewords();this.terminateBits(L,N);const U=this.interleaveWithECBytes(N,y.getTotalCodewords(),L,_.getNumBlocks()),V=new As;V.setECLevel(s),V.setMode(d),V.setVersion(y);const Y=y.getDimensionForVersion(),te=new cn(Y,Y),be=this.chooseMaskPattern(U,s,y,te);return V.setMaskPattern(be),Me.buildMatrix(U,s,y,be,te),V.setMatrix(te),V}static recommendVersion(t,s,i,o){const c=this.calculateBitsNeeded(s,i,o,Ae.getVersionForNumber(1)),d=this.chooseVersion(c,t),m=this.calculateBitsNeeded(s,i,o,d);return this.chooseVersion(m,t)}static calculateBitsNeeded(t,s,i,o){return s.getSize()+t.getCharacterCountBits(o)+i.getSize()}static getAlphanumericCode(t){return t<kt.ALPHANUMERIC_TABLE.length?kt.ALPHANUMERIC_TABLE[t]:-1}static chooseMode(t,s=null){if(z.SJIS.getName()===s&&this.isOnlyDoubleByteKanji(t))return Oe.KANJI;let i=!1,o=!1;for(let c=0,d=t.length;c<d;++c){const m=t.charAt(c);if(kt.isDigit(m))i=!0;else if(this.getAlphanumericCode(m.charCodeAt(0))!==-1)o=!0;else return Oe.BYTE}return o?Oe.ALPHANUMERIC:i?Oe.NUMERIC:Oe.BYTE}static isOnlyDoubleByteKanji(t){let s;try{s=re.encode(t,z.SJIS)}catch{return!1}const i=s.length;if(i%2!==0)return!1;for(let o=0;o<i;o+=2){const c=s[o]&255;if((c<129||c>159)&&(c<224||c>235))return!1}return!0}static chooseMaskPattern(t,s,i,o){let c=Number.MAX_SAFE_INTEGER,d=-1;for(let m=0;m<As.NUM_MASK_PATTERNS;m++){Me.buildMatrix(t,s,i,m,o);let x=this.calculateMaskPenalty(o);x<c&&(c=x,d=m)}return d}static chooseVersion(t,s){for(let i=1;i<=40;i++){const o=Ae.getVersionForNumber(i);if(kt.willFit(t,o,s))return o}throw new gt("Data too big")}static willFit(t,s,i){const o=s.getTotalCodewords(),d=s.getECBlocksForLevel(i).getTotalECCodewords(),m=o-d,x=(t+7)/8;return m>=x}static terminateBits(t,s){const i=t*8;if(s.getSize()>i)throw new gt("data bits cannot fit in the QR Code"+s.getSize()+" > "+i);for(let d=0;d<4&&s.getSize()<i;++d)s.appendBit(!1);const o=s.getSize()&7;if(o>0)for(let d=o;d<8;d++)s.appendBit(!1);const c=t-s.getSizeInBytes();for(let d=0;d<c;++d)s.appendBits(d&1?17:236,8);if(s.getSize()!==i)throw new gt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(t,s,i,o,c,d){if(o>=i)throw new gt("Block ID too large");const m=t%i,x=i-m,y=Math.floor(t/i),N=y+1,E=Math.floor(s/i),_=E+1,L=y-E,U=N-_;if(L!==U)throw new gt("EC bytes mismatch");if(i!==x+m)throw new gt("RS blocks mismatch");if(t!==(E+L)*x+(_+U)*m)throw new gt("Total bytes mismatch");o<x?(c[0]=E,d[0]=L):(c[0]=_,d[0]=U)}static interleaveWithECBytes(t,s,i,o){if(t.getSizeInBytes()!==i)throw new gt("Number of bits and data bytes does not match");let c=0,d=0,m=0;const x=new Array;for(let N=0;N<o;++N){const E=new Int32Array(1),_=new Int32Array(1);kt.getNumDataBytesAndNumECBytesForBlockID(s,i,o,N,E,_);const L=E[0],U=new Uint8Array(L);t.toBytes(8*c,U,0,L);const V=kt.generateECBytes(U,_[0]);x.push(new R0(U,V)),d=Math.max(d,L),m=Math.max(m,V.length),c+=E[0]}if(i!==c)throw new gt("Data bytes does not match offset");const y=new G;for(let N=0;N<d;++N)for(const E of x){const _=E.getDataBytes();N<_.length&&y.appendBits(_[N],8)}for(let N=0;N<m;++N)for(const E of x){const _=E.getErrorCorrectionBytes();N<_.length&&y.appendBits(_[N],8)}if(s!==y.getSizeInBytes())throw new gt("Interleaving error: "+s+" and "+y.getSizeInBytes()+" differ.");return y}static generateECBytes(t,s){const i=t.length,o=new Int32Array(i+s);for(let d=0;d<i;d++)o[d]=t[d]&255;new pi(_e.QR_CODE_FIELD_256).encode(o,s);const c=new Uint8Array(s);for(let d=0;d<s;d++)c[d]=o[i+d];return c}static appendModeInfo(t,s){s.appendBits(t.getBits(),4)}static appendLengthInfo(t,s,i,o){const c=i.getCharacterCountBits(s);if(t>=1<<c)throw new gt(t+" is bigger than "+((1<<c)-1));o.appendBits(t,c)}static appendBytes(t,s,i,o){switch(s){case Oe.NUMERIC:kt.appendNumericBytes(t,i);break;case Oe.ALPHANUMERIC:kt.appendAlphanumericBytes(t,i);break;case Oe.BYTE:kt.append8BitBytes(t,i,o);break;case Oe.KANJI:kt.appendKanjiBytes(t,i);break;default:throw new gt("Invalid mode: "+s)}}static getDigit(t){return t.charCodeAt(0)-48}static isDigit(t){const s=kt.getDigit(t);return s>=0&&s<=9}static appendNumericBytes(t,s){const i=t.length;let o=0;for(;o<i;){const c=kt.getDigit(t.charAt(o));if(o+2<i){const d=kt.getDigit(t.charAt(o+1)),m=kt.getDigit(t.charAt(o+2));s.appendBits(c*100+d*10+m,10),o+=3}else if(o+1<i){const d=kt.getDigit(t.charAt(o+1));s.appendBits(c*10+d,7),o+=2}else s.appendBits(c,4),o++}}static appendAlphanumericBytes(t,s){const i=t.length;let o=0;for(;o<i;){const c=kt.getAlphanumericCode(t.charCodeAt(o));if(c===-1)throw new gt;if(o+1<i){const d=kt.getAlphanumericCode(t.charCodeAt(o+1));if(d===-1)throw new gt;s.appendBits(c*45+d,11),o+=2}else s.appendBits(c,6),o++}}static append8BitBytes(t,s,i){let o;try{o=re.encode(t,i)}catch(c){throw new gt(c)}for(let c=0,d=o.length;c!==d;c++){const m=o[c];s.appendBits(m,8)}}static appendKanjiBytes(t,s){let i;try{i=re.encode(t,z.SJIS)}catch(c){throw new gt(c)}const o=i.length;for(let c=0;c<o;c+=2){const d=i[c]&255,m=i[c+1]&255,x=d<<8&4294967295|m;let y=-1;if(x>=33088&&x<=40956?y=x-33088:x>=57408&&x<=60351&&(y=x-49472),y===-1)throw new gt("Invalid byte sequence");const N=(y>>8)*192+(y&255);s.appendBits(N,13)}}static appendECI(t,s){s.appendBits(Oe.ECI.getBits(),4),s.appendBits(t.getValue(),8)}}kt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),kt.DEFAULT_BYTE_MODE_ENCODING=z.UTF8.getName();class Ts{write(t,s,i,o=null){if(t.length===0)throw new v("Found empty contents");if(s<0||i<0)throw new v("Requested dimensions are too small: "+s+"x"+i);let c=pt.L,d=Ts.QUIET_ZONE_SIZE;o!==null&&(o.get(zt.ERROR_CORRECTION)!==void 0&&(c=pt.fromString(o.get(zt.ERROR_CORRECTION).toString())),o.get(zt.MARGIN)!==void 0&&(d=Number.parseInt(o.get(zt.MARGIN).toString(),10)));const m=kt.encode(t,c,o);return this.renderResult(m,s,i,d)}writeToDom(t,s,i,o,c=null){typeof t=="string"&&(t=document.querySelector(t));const d=this.write(s,i,o,c);t&&t.appendChild(d)}renderResult(t,s,i,o){const c=t.getMatrix();if(c===null)throw new yt;const d=c.getWidth(),m=c.getHeight(),x=d+o*2,y=m+o*2,N=Math.max(s,x),E=Math.max(i,y),_=Math.min(Math.floor(N/x),Math.floor(E/y)),L=Math.floor((N-d*_)/2),U=Math.floor((E-m*_)/2),V=this.createSVGElement(N,E);for(let Y=0,te=U;Y<m;Y++,te+=_)for(let be=0,we=L;be<d;be++,we+=_)if(c.get(be,Y)===1){const xe=this.createSvgRectElement(we,te,_,_);V.appendChild(xe)}return V}createSVGElement(t,s){const i=document.createElementNS(Ts.SVG_NS,"svg");return i.setAttributeNS(null,"height",t.toString()),i.setAttributeNS(null,"width",s.toString()),i}createSvgRectElement(t,s,i,o){const c=document.createElementNS(Ts.SVG_NS,"rect");return c.setAttributeNS(null,"x",t.toString()),c.setAttributeNS(null,"y",s.toString()),c.setAttributeNS(null,"height",i.toString()),c.setAttributeNS(null,"width",o.toString()),c.setAttributeNS(null,"fill","#000000"),c}}Ts.QUIET_ZONE_SIZE=4,Ts.SVG_NS="http://www.w3.org/2000/svg";class Ys{encode(t,s,i,o,c){if(t.length===0)throw new v("Found empty contents");if(s!==fe.QR_CODE)throw new v("Can only encode QR_CODE, but got "+s);if(i<0||o<0)throw new v(`Requested dimensions are too small: ${i}x${o}`);let d=pt.L,m=Ys.QUIET_ZONE_SIZE;c!==null&&(c.get(zt.ERROR_CORRECTION)!==void 0&&(d=pt.fromString(c.get(zt.ERROR_CORRECTION).toString())),c.get(zt.MARGIN)!==void 0&&(m=Number.parseInt(c.get(zt.MARGIN).toString(),10)));const x=kt.encode(t,d,c);return Ys.renderResult(x,i,o,m)}static renderResult(t,s,i,o){const c=t.getMatrix();if(c===null)throw new yt;const d=c.getWidth(),m=c.getHeight(),x=d+o*2,y=m+o*2,N=Math.max(s,x),E=Math.max(i,y),_=Math.min(Math.floor(N/x),Math.floor(E/y)),L=Math.floor((N-d*_)/2),U=Math.floor((E-m*_)/2),V=new ae(N,E);for(let Y=0,te=U;Y<m;Y++,te+=_)for(let be=0,we=L;be<d;be++,we+=_)c.get(be,Y)===1&&V.setRegion(we,te,_,_);return V}}Ys.QUIET_ZONE_SIZE=4;class _0{encode(t,s,i,o,c){let d;switch(s){case fe.QR_CODE:d=new Ys;break;default:throw new v("No encoder available for format "+s)}return d.encode(t,s,i,o,c)}}class Qr extends ie{constructor(t,s,i,o,c,d,m,x){if(super(d,m),this.yuvData=t,this.dataWidth=s,this.dataHeight=i,this.left=o,this.top=c,o+d>s||c+m>i)throw new v("Crop rectangle does not fit within image data.");x&&this.reverseHorizontal(d,m)}getRow(t,s){if(t<0||t>=this.getHeight())throw new v("Requested row is outside the image: "+t);const i=this.getWidth();(s==null||s.length<i)&&(s=new Uint8ClampedArray(i));const o=(t+this.top)*this.dataWidth+this.left;return T.arraycopy(this.yuvData,o,s,0,i),s}getMatrix(){const t=this.getWidth(),s=this.getHeight();if(t===this.dataWidth&&s===this.dataHeight)return this.yuvData;const i=t*s,o=new Uint8ClampedArray(i);let c=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return T.arraycopy(this.yuvData,c,o,0,i),o;for(let d=0;d<s;d++){const m=d*t;T.arraycopy(this.yuvData,c,o,m,t),c+=this.dataWidth}return o}isCropSupported(){return!0}crop(t,s,i,o){return new Qr(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+s,i,o,!1)}renderThumbnail(){const t=this.getWidth()/Qr.THUMBNAIL_SCALE_FACTOR,s=this.getHeight()/Qr.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(t*s),o=this.yuvData;let c=this.top*this.dataWidth+this.left;for(let d=0;d<s;d++){const m=d*t;for(let x=0;x<t;x++){const y=o[c+x*Qr.THUMBNAIL_SCALE_FACTOR]&255;i[m+x]=4278190080|y*65793}c+=this.dataWidth*Qr.THUMBNAIL_SCALE_FACTOR}return i}getThumbnailWidth(){return this.getWidth()/Qr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Qr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(t,s){const i=this.yuvData;for(let o=0,c=this.top*this.dataWidth+this.left;o<s;o++,c+=this.dataWidth){const d=c+t/2;for(let m=c,x=c+t-1;m<d;m++,x--){const y=i[m];i[m]=i[x],i[x]=y}}}invert(){return new je(this)}}Qr.THUMBNAIL_SCALE_FACTOR=2;class bi extends ie{constructor(t,s,i,o,c,d,m){if(super(s,i),this.dataWidth=o,this.dataHeight=c,this.left=d,this.top=m,t.BYTES_PER_ELEMENT===4){const x=s*i,y=new Uint8ClampedArray(x);for(let N=0;N<x;N++){const E=t[N],_=E>>16&255,L=E>>7&510,U=E&255;y[N]=(_+L+U)/4&255}this.luminances=y}else this.luminances=t;if(o===void 0&&(this.dataWidth=s),c===void 0&&(this.dataHeight=i),d===void 0&&(this.left=0),m===void 0&&(this.top=0),this.left+s>this.dataWidth||this.top+i>this.dataHeight)throw new v("Crop rectangle does not fit within image data.")}getRow(t,s){if(t<0||t>=this.getHeight())throw new v("Requested row is outside the image: "+t);const i=this.getWidth();(s==null||s.length<i)&&(s=new Uint8ClampedArray(i));const o=(t+this.top)*this.dataWidth+this.left;return T.arraycopy(this.luminances,o,s,0,i),s}getMatrix(){const t=this.getWidth(),s=this.getHeight();if(t===this.dataWidth&&s===this.dataHeight)return this.luminances;const i=t*s,o=new Uint8ClampedArray(i);let c=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return T.arraycopy(this.luminances,c,o,0,i),o;for(let d=0;d<s;d++){const m=d*t;T.arraycopy(this.luminances,c,o,m,t),c+=this.dataWidth}return o}isCropSupported(){return!0}crop(t,s,i,o){return new bi(this.luminances,i,o,this.dataWidth,this.dataHeight,this.left+t,this.top+s)}invert(){return new je(this)}}class Zo extends z{static forName(t){return this.getCharacterSetECIByName(t)}}class yi{}yi.ISO_8859_1=z.ISO8859_1;class Jo{isCompact(){return this.compact}setCompact(t){this.compact=t}getSize(){return this.size}setSize(t){this.size=t}getLayers(){return this.layers}setLayers(t){this.layers=t}getCodeWords(){return this.codeWords}setCodeWords(t){this.codeWords=t}getMatrix(){return this.matrix}setMatrix(t){this.matrix=t}}class el{static singletonList(t){return[t]}static min(t,s){return t.sort(s)[0]}}class O0{constructor(t){this.previous=t}getPrevious(){return this.previous}}class Zs extends O0{constructor(t,s,i){super(t),this.value=s,this.bitCount=i}appendTo(t,s){t.appendBits(this.value,this.bitCount)}add(t,s){return new Zs(this,t,s)}addBinaryShift(t,s){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Zs(this,t,s)}toString(){let t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+P.toBinaryString(t|1<<this.bitCount).substring(1)+">"}}class wi extends Zs{constructor(t,s,i){super(t,0,0),this.binaryShiftStart=s,this.binaryShiftByteCount=i}appendTo(t,s){for(let i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):i===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(s[this.binaryShiftStart+i],8)}addBinaryShift(t,s){return new wi(this,t,s)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function P0(S,t,s){return new wi(S,t,s)}function _a(S,t,s){return new Zs(S,t,s)}const D0=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],bs=0,dn=1,Ir=2,tl=3,Kr=4,M0=new Zs(null,0,0),vi=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function B0(S){for(let t of S)O.fill(t,-1);return S[bs][Kr]=0,S[dn][Kr]=0,S[dn][bs]=28,S[tl][Kr]=0,S[Ir][Kr]=0,S[Ir][bs]=15,S}const rl=B0(O.createInt32Array(6,6));class Yr{constructor(t,s,i,o){this.token=t,this.mode=s,this.binaryShiftByteCount=i,this.bitCount=o}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(t,s){let i=this.bitCount,o=this.token;if(t!==this.mode){let d=vi[this.mode][t];o=_a(o,d&65535,d>>16),i+=d>>16}let c=t===Ir?4:5;return o=_a(o,s,c),new Yr(o,t,0,i+c)}shiftAndAppend(t,s){let i=this.token,o=this.mode===Ir?4:5;return i=_a(i,rl[this.mode][t],o),i=_a(i,s,5),new Yr(i,this.mode,0,this.bitCount+o+5)}addBinaryShiftChar(t){let s=this.token,i=this.mode,o=this.bitCount;if(this.mode===Kr||this.mode===Ir){let m=vi[i][bs];s=_a(s,m&65535,m>>16),o+=m>>16,i=bs}let c=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,d=new Yr(s,i,this.binaryShiftByteCount+1,o+c);return d.binaryShiftByteCount===2078&&(d=d.endBinaryShift(t+1)),d}endBinaryShift(t){if(this.binaryShiftByteCount===0)return this;let s=this.token;return s=P0(s,t-this.binaryShiftByteCount,this.binaryShiftByteCount),new Yr(s,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(t){let s=this.bitCount+(vi[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?s+=Yr.calculateBinaryShiftCost(t)-Yr.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(s+=10),s<=t.bitCount}toBitArray(t){let s=[];for(let o=this.endBinaryShift(t.length).token;o!==null;o=o.getPrevious())s.unshift(o);let i=new G;for(const o of s)o.appendTo(i,t);return i}toString(){return F.format("%s bits=%d bytes=%d",D0[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(t){return t.binaryShiftByteCount>62?21:t.binaryShiftByteCount>31?20:t.binaryShiftByteCount>0?10:0}}Yr.INITIAL_STATE=new Yr(M0,bs,0,0);function L0(S){const t=F.getCharCode(" "),s=F.getCharCode("."),i=F.getCharCode(",");S[bs][t]=1;const o=F.getCharCode("Z"),c=F.getCharCode("A");for(let _=c;_<=o;_++)S[bs][_]=_-c+2;S[dn][t]=1;const d=F.getCharCode("z"),m=F.getCharCode("a");for(let _=m;_<=d;_++)S[dn][_]=_-m+2;S[Ir][t]=1;const x=F.getCharCode("9"),y=F.getCharCode("0");for(let _=y;_<=x;_++)S[Ir][_]=_-y+2;S[Ir][i]=12,S[Ir][s]=13;const N=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let _=0;_<N.length;_++)S[tl][F.getCharCode(N[_])]=_;const E=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let _=0;_<E.length;_++)F.getCharCode(E[_])>0&&(S[Kr][F.getCharCode(E[_])]=_);return S}const Ni=L0(O.createInt32Array(5,256));class Oa{constructor(t){this.text=t}encode(){const t=F.getCharCode(" "),s=F.getCharCode(`
`);let i=el.singletonList(Yr.INITIAL_STATE);for(let c=0;c<this.text.length;c++){let d,m=c+1<this.text.length?this.text[c+1]:0;switch(this.text[c]){case F.getCharCode("\r"):d=m===s?2:0;break;case F.getCharCode("."):d=m===t?3:0;break;case F.getCharCode(","):d=m===t?4:0;break;case F.getCharCode(":"):d=m===t?5:0;break;default:d=0}d>0?(i=Oa.updateStateListForPair(i,c,d),c++):i=this.updateStateListForChar(i,c)}return el.min(i,(c,d)=>c.getBitCount()-d.getBitCount()).toBitArray(this.text)}updateStateListForChar(t,s){const i=[];for(let o of t)this.updateStateForChar(o,s,i);return Oa.simplifyStates(i)}updateStateForChar(t,s,i){let o=this.text[s]&255,c=Ni[t.getMode()][o]>0,d=null;for(let m=0;m<=Kr;m++){let x=Ni[m][o];if(x>0){if(d==null&&(d=t.endBinaryShift(s)),!c||m===t.getMode()||m===Ir){const y=d.latchAndAppend(m,x);i.push(y)}if(!c&&rl[t.getMode()][m]>=0){const y=d.shiftAndAppend(m,x);i.push(y)}}}if(t.getBinaryShiftByteCount()>0||Ni[t.getMode()][o]===0){let m=t.addBinaryShiftChar(s);i.push(m)}}static updateStateListForPair(t,s,i){const o=[];for(let c of t)this.updateStateForPair(c,s,i,o);return this.simplifyStates(o)}static updateStateForPair(t,s,i,o){let c=t.endBinaryShift(s);if(o.push(c.latchAndAppend(Kr,i)),t.getMode()!==Kr&&o.push(c.shiftAndAppend(Kr,i)),i===3||i===4){let d=c.latchAndAppend(Ir,16-i).latchAndAppend(Ir,1);o.push(d)}if(t.getBinaryShiftByteCount()>0){let d=t.addBinaryShiftChar(s).addBinaryShiftChar(s+1);o.push(d)}}static simplifyStates(t){let s=[];for(const i of t){let o=!0;for(const c of s){if(c.isBetterThanOrEqualTo(i)){o=!1;break}i.isBetterThanOrEqualTo(c)&&(s=s.filter(d=>d!==c))}o&&s.push(i)}return s}}class tt{constructor(){}static encodeBytes(t){return tt.encode(t,tt.DEFAULT_EC_PERCENT,tt.DEFAULT_AZTEC_LAYERS)}static encode(t,s,i){let o=new Oa(t).encode(),c=P.truncDivision(o.getSize()*s,100)+11,d=o.getSize()+c,m,x,y,N,E;if(i!==tt.DEFAULT_AZTEC_LAYERS){if(m=i<0,x=Math.abs(i),x>(m?tt.MAX_NB_BITS_COMPACT:tt.MAX_NB_BITS))throw new v(F.format("Illegal value %s for layers",i));y=tt.totalBitsInLayer(x,m),N=tt.WORD_SIZE[x];let xe=y-y%N;if(E=tt.stuffBits(o,N),E.getSize()+c>xe)throw new v("Data to large for user specified layer");if(m&&E.getSize()>N*64)throw new v("Data to large for user specified layer")}else{N=0,E=null;for(let xe=0;;xe++){if(xe>tt.MAX_NB_BITS)throw new v("Data too large for an Aztec code");if(m=xe<=3,x=m?xe+1:xe,y=tt.totalBitsInLayer(x,m),d>y)continue;(E==null||N!==tt.WORD_SIZE[x])&&(N=tt.WORD_SIZE[x],E=tt.stuffBits(o,N));let Ke=y-y%N;if(!(m&&E.getSize()>N*64)&&E.getSize()+c<=Ke)break}}let _=tt.generateCheckWords(E,y,N),L=E.getSize()/N,U=tt.generateModeMessage(m,x,L),V=(m?11:14)+x*4,Y=new Int32Array(V),te;if(m){te=V;for(let xe=0;xe<Y.length;xe++)Y[xe]=xe}else{te=V+1+2*P.truncDivision(P.truncDivision(V,2)-1,15);let xe=P.truncDivision(V,2),Ke=P.truncDivision(te,2);for(let Ve=0;Ve<xe;Ve++){let br=Ve+P.truncDivision(Ve,15);Y[xe-Ve-1]=Ke-br-1,Y[xe+Ve]=Ke+br+1}}let be=new ae(te);for(let xe=0,Ke=0;xe<x;xe++){let Ve=(x-xe)*4+(m?9:12);for(let br=0;br<Ve;br++){let Lr=br*2;for(let yr=0;yr<2;yr++)_.get(Ke+Lr+yr)&&be.set(Y[xe*2+yr],Y[xe*2+br]),_.get(Ke+Ve*2+Lr+yr)&&be.set(Y[xe*2+br],Y[V-1-xe*2-yr]),_.get(Ke+Ve*4+Lr+yr)&&be.set(Y[V-1-xe*2-yr],Y[V-1-xe*2-br]),_.get(Ke+Ve*6+Lr+yr)&&be.set(Y[V-1-xe*2-br],Y[xe*2+yr])}Ke+=Ve*8}if(tt.drawModeMessage(be,m,te,U),m)tt.drawBullsEye(be,P.truncDivision(te,2),5);else{tt.drawBullsEye(be,P.truncDivision(te,2),7);for(let xe=0,Ke=0;xe<P.truncDivision(V,2)-1;xe+=15,Ke+=16)for(let Ve=P.truncDivision(te,2)&1;Ve<te;Ve+=2)be.set(P.truncDivision(te,2)-Ke,Ve),be.set(P.truncDivision(te,2)+Ke,Ve),be.set(Ve,P.truncDivision(te,2)-Ke),be.set(Ve,P.truncDivision(te,2)+Ke)}let we=new Jo;return we.setCompact(m),we.setSize(te),we.setLayers(x),we.setCodeWords(L),we.setMatrix(be),we}static drawBullsEye(t,s,i){for(let o=0;o<i;o+=2)for(let c=s-o;c<=s+o;c++)t.set(c,s-o),t.set(c,s+o),t.set(s-o,c),t.set(s+o,c);t.set(s-i,s-i),t.set(s-i+1,s-i),t.set(s-i,s-i+1),t.set(s+i,s-i),t.set(s+i,s-i+1),t.set(s+i,s+i-1)}static generateModeMessage(t,s,i){let o=new G;return t?(o.appendBits(s-1,2),o.appendBits(i-1,6),o=tt.generateCheckWords(o,28,4)):(o.appendBits(s-1,5),o.appendBits(i-1,11),o=tt.generateCheckWords(o,40,4)),o}static drawModeMessage(t,s,i,o){let c=P.truncDivision(i,2);if(s)for(let d=0;d<7;d++){let m=c-3+d;o.get(d)&&t.set(m,c-5),o.get(d+7)&&t.set(c+5,m),o.get(20-d)&&t.set(m,c+5),o.get(27-d)&&t.set(c-5,m)}else for(let d=0;d<10;d++){let m=c-5+d+P.truncDivision(d,5);o.get(d)&&t.set(m,c-7),o.get(d+10)&&t.set(c+7,m),o.get(29-d)&&t.set(m,c+7),o.get(39-d)&&t.set(c-7,m)}}static generateCheckWords(t,s,i){let o=t.getSize()/i,c=new pi(tt.getGF(i)),d=P.truncDivision(s,i),m=tt.bitsToWords(t,i,d);c.encode(m,d-o);let x=s%i,y=new G;y.appendBits(0,x);for(const N of Array.from(m))y.appendBits(N,i);return y}static bitsToWords(t,s,i){let o=new Int32Array(i),c,d;for(c=0,d=t.getSize()/s;c<d;c++){let m=0;for(let x=0;x<s;x++)m|=t.get(c*s+x)?1<<s-x-1:0;o[c]=m}return o}static getGF(t){switch(t){case 4:return _e.AZTEC_PARAM;case 6:return _e.AZTEC_DATA_6;case 8:return _e.AZTEC_DATA_8;case 10:return _e.AZTEC_DATA_10;case 12:return _e.AZTEC_DATA_12;default:throw new v("Unsupported word size "+t)}}static stuffBits(t,s){let i=new G,o=t.getSize(),c=(1<<s)-2;for(let d=0;d<o;d+=s){let m=0;for(let x=0;x<s;x++)(d+x>=o||t.get(d+x))&&(m|=1<<s-1-x);(m&c)===c?(i.appendBits(m&c,s),d--):m&c?i.appendBits(m,s):(i.appendBits(m|1,s),d--)}return i}static totalBitsInLayer(t,s){return((s?88:112)+16*t)*t}}tt.DEFAULT_EC_PERCENT=33,tt.DEFAULT_AZTEC_LAYERS=0,tt.MAX_NB_BITS=32,tt.MAX_NB_BITS_COMPACT=4,tt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class un{encode(t,s,i,o){return this.encodeWithHints(t,s,i,o,null)}encodeWithHints(t,s,i,o,c){let d=yi.ISO_8859_1,m=tt.DEFAULT_EC_PERCENT,x=tt.DEFAULT_AZTEC_LAYERS;return c!=null&&(c.has(zt.CHARACTER_SET)&&(d=Zo.forName(c.get(zt.CHARACTER_SET).toString())),c.has(zt.ERROR_CORRECTION)&&(m=P.parseInt(c.get(zt.ERROR_CORRECTION).toString())),c.has(zt.AZTEC_LAYERS)&&(x=P.parseInt(c.get(zt.AZTEC_LAYERS).toString()))),un.encodeLayers(t,s,i,o,d,m,x)}static encodeLayers(t,s,i,o,c,d,m){if(s!==fe.AZTEC)throw new v("Can only encode AZTEC, but got "+s);let x=tt.encode(F.getBytes(t,c),d,m);return un.renderResult(x,i,o)}static renderResult(t,s,i){let o=t.getMatrix();if(o==null)throw new yt;let c=o.getWidth(),d=o.getHeight(),m=Math.max(s,c),x=Math.max(i,d),y=Math.min(m/c,x/d),N=(m-c*y)/2,E=(x-d*y)/2,_=new ae(m,x);for(let L=0,U=E;L<d;L++,U+=y)for(let V=0,Y=N;V<c;V++,Y+=y)o.get(V,L)&&_.setRegion(Y,U,y,y);return _}}a.AbstractExpandedDecoder=oi,a.ArgumentException=w,a.ArithmeticException=Ge,a.AztecCode=Jo,a.AztecCodeReader=Je,a.AztecCodeWriter=un,a.AztecDecoder=et,a.AztecDetector=oe,a.AztecDetectorResult=vt,a.AztecEncoder=tt,a.AztecHighLevelEncoder=Oa,a.AztecPoint=Nt,a.BarcodeFormat=fe,a.Binarizer=C,a.BinaryBitmap=k,a.BitArray=G,a.BitMatrix=ae,a.BitSource=ui,a.BrowserAztecCodeReader=Ue,a.BrowserBarcodeReader=f0,a.BrowserCodeReader=ge,a.BrowserDatamatrixCodeReader=p0,a.BrowserMultiFormatReader=A0,a.BrowserPDF417Reader=T0,a.BrowserQRCodeReader=I0,a.BrowserQRCodeSvgWriter=Ts,a.CharacterSetECI=z,a.ChecksumException=A,a.Code128Reader=pe,a.Code39Reader=nt,a.DataMatrixDecodedBitStreamParser=gs,a.DataMatrixReader=fs,a.DecodeHintType=D,a.DecoderResult=ue,a.DefaultGridSampler=tr,a.DetectorResult=Xe,a.EAN13Reader=js,a.EncodeHintType=zt,a.Exception=f,a.FormatException=B,a.GenericGF=_e,a.GenericGFPoly=ke,a.GlobalHistogramBinarizer=ve,a.GridSampler=Kt,a.GridSamplerInstance=dr,a.HTMLCanvasElementLuminanceSource=se,a.HybridBinarizer=me,a.ITFReader=mt,a.IllegalArgumentException=v,a.IllegalStateException=yt,a.InvertedLuminanceSource=je,a.LuminanceSource=ie,a.MathUtils=He,a.MultiFormatOneDReader=Qs,a.MultiFormatReader=Yo,a.MultiFormatWriter=_0,a.NotFoundException=H,a.OneDReader=Be,a.PDF417DecodedBitStreamParser=J,a.PDF417DecoderErrorCorrection=Wo,a.PDF417Reader=Zt,a.PDF417ResultMetadata=Go,a.PerspectiveTransform=At,a.PlanarYUVLuminanceSource=Qr,a.QRCodeByteMatrix=cn,a.QRCodeDataMask=Ar,a.QRCodeDecodedBitStreamParser=Tt,a.QRCodeDecoderErrorCorrectionLevel=pt,a.QRCodeDecoderFormatInformation=sr,a.QRCodeEncoder=kt,a.QRCodeEncoderQRCode=As,a.QRCodeMaskUtil=Ot,a.QRCodeMatrixUtil=Me,a.QRCodeMode=Oe,a.QRCodeReader=xs,a.QRCodeVersion=Ae,a.QRCodeWriter=Ys,a.RGBLuminanceSource=bi,a.RSS14Reader=_t,a.RSSExpandedReader=he,a.ReaderException=ln,a.ReedSolomonDecoder=ze,a.ReedSolomonEncoder=pi,a.ReedSolomonException=bt,a.Result=Ce,a.ResultMetadataType=Re,a.ResultPoint=q,a.StringUtils=F,a.UnsupportedOperationException=K,a.VideoInputDevice=le,a.WhiteRectangleDetector=It,a.WriterException=gt,a.ZXingArrays=O,a.ZXingCharset=Zo,a.ZXingInteger=P,a.ZXingStandardCharsets=yi,a.ZXingStringBuilder=X,a.ZXingStringEncoding=re,a.ZXingSystem=T,a.createAbstractExpandedDecoder=zo,Object.defineProperty(a,"__esModule",{value:!0})})})(lo,lo.exports);var jt=lo.exports;const I1=ya(jt),R1=Q0({__proto__:null,default:I1},[jt]);var Zl=function(){function n(r,a,l){if(this.formatMap=new Map([[Ee.QR_CODE,jt.BarcodeFormat.QR_CODE],[Ee.AZTEC,jt.BarcodeFormat.AZTEC],[Ee.CODABAR,jt.BarcodeFormat.CODABAR],[Ee.CODE_39,jt.BarcodeFormat.CODE_39],[Ee.CODE_93,jt.BarcodeFormat.CODE_93],[Ee.CODE_128,jt.BarcodeFormat.CODE_128],[Ee.DATA_MATRIX,jt.BarcodeFormat.DATA_MATRIX],[Ee.MAXICODE,jt.BarcodeFormat.MAXICODE],[Ee.ITF,jt.BarcodeFormat.ITF],[Ee.EAN_13,jt.BarcodeFormat.EAN_13],[Ee.EAN_8,jt.BarcodeFormat.EAN_8],[Ee.PDF_417,jt.BarcodeFormat.PDF_417],[Ee.RSS_14,jt.BarcodeFormat.RSS_14],[Ee.RSS_EXPANDED,jt.BarcodeFormat.RSS_EXPANDED],[Ee.UPC_A,jt.BarcodeFormat.UPC_A],[Ee.UPC_E,jt.BarcodeFormat.UPC_E],[Ee.UPC_EAN_EXTENSION,jt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!R1)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=a,this.logger=l;var u=this.createZXingFormats(r),h=new Map;h.set(jt.DecodeHintType.POSSIBLE_FORMATS,u),h.set(jt.DecodeHintType.TRY_HARDER,!1),this.hints=h}return n.prototype.decodeAsync=function(r){var a=this;return new Promise(function(l,u){try{l(a.decode(r))}catch(h){u(h)}})},n.prototype.decode=function(r){var a=new jt.MultiFormatReader(this.verbose,this.hints),l=new jt.HTMLCanvasElementLuminanceSource(r),u=new jt.BinaryBitmap(new jt.HybridBinarizer(l)),h=a.decode(u);return{text:h.text,format:$d.create(this.toHtml5QrcodeSupportedFormats(h.format)),debugData:this.createDebugData()}},n.prototype.createReverseFormatMap=function(){var r=new Map;return this.formatMap.forEach(function(a,l,u){r.set(a,l)}),r},n.prototype.toHtml5QrcodeSupportedFormats=function(r){if(!this.reverseFormatMap.has(r))throw"reverseFormatMap doesn't have ".concat(r);return this.reverseFormatMap.get(r)},n.prototype.createZXingFormats=function(r){for(var a=[],l=0,u=r;l<u.length;l++){var h=u[l];this.formatMap.has(h)?a.push(this.formatMap.get(h)):this.logger.logError("".concat(h," is not supported by")+"ZXingHtml5QrcodeShim")}return a},n.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},n}(),_1=function(n,r,a,l){function u(h){return h instanceof a?h:new a(function(g){g(h)})}return new(a||(a=Promise))(function(h,g){function p(w){try{f(l.next(w))}catch(v){g(v)}}function b(w){try{f(l.throw(w))}catch(v){g(v)}}function f(w){w.done?h(w.value):u(w.value).then(p,b)}f((l=l.apply(n,r||[])).next())})},O1=function(n,r){var a={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},l,u,h,g;return g={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function p(f){return function(w){return b([f,w])}}function b(f){if(l)throw new TypeError("Generator is already executing.");for(;g&&(g=0,f[0]&&(a=0)),a;)try{if(l=1,u&&(h=f[0]&2?u.return:f[0]?u.throw||((h=u.return)&&h.call(u),0):u.next)&&!(h=h.call(u,f[1])).done)return h;switch(u=0,h&&(f=[f[0]&2,h.value]),f[0]){case 0:case 1:h=f;break;case 4:return a.label++,{value:f[1],done:!1};case 5:a.label++,u=f[1],f=[0];continue;case 7:f=a.ops.pop(),a.trys.pop();continue;default:if(h=a.trys,!(h=h.length>0&&h[h.length-1])&&(f[0]===6||f[0]===2)){a=0;continue}if(f[0]===3&&(!h||f[1]>h[0]&&f[1]<h[3])){a.label=f[1];break}if(f[0]===6&&a.label<h[1]){a.label=h[1],h=f;break}if(h&&a.label<h[2]){a.label=h[2],a.ops.push(f);break}h[2]&&a.ops.pop(),a.trys.pop();continue}f=r.call(n,a)}catch(w){f=[6,w],u=0}finally{l=h=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},Jl=function(){function n(r,a,l){if(this.formatMap=new Map([[Ee.QR_CODE,"qr_code"],[Ee.AZTEC,"aztec"],[Ee.CODABAR,"codabar"],[Ee.CODE_39,"code_39"],[Ee.CODE_93,"code_93"],[Ee.CODE_128,"code_128"],[Ee.DATA_MATRIX,"data_matrix"],[Ee.ITF,"itf"],[Ee.EAN_13,"ean_13"],[Ee.EAN_8,"ean_8"],[Ee.PDF_417,"pdf417"],[Ee.UPC_A,"upc_a"],[Ee.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!n.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=a,this.logger=l;var u=this.createBarcodeDetectorFormats(r);if(this.detector=new BarcodeDetector(u),!this.detector)throw"BarcodeDetector detector not supported"}return n.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var r=new BarcodeDetector({formats:["qr_code"]});return typeof r<"u"},n.prototype.decodeAsync=function(r){return _1(this,void 0,void 0,function(){var a,l;return O1(this,function(u){switch(u.label){case 0:return[4,this.detector.detect(r)];case 1:if(a=u.sent(),!a||a.length===0)throw"No barcode or QR code detected.";return l=this.selectLargestBarcode(a),[2,{text:l.rawValue,format:$d.create(this.toHtml5QrcodeSupportedFormats(l.format)),debugData:this.createDebugData()}]}})})},n.prototype.selectLargestBarcode=function(r){for(var a=null,l=0,u=0,h=r;u<h.length;u++){var g=h[u],p=g.boundingBox.width*g.boundingBox.height;p>l&&(l=p,a=g)}if(!a)throw"No largest barcode found";return a},n.prototype.createBarcodeDetectorFormats=function(r){for(var a=[],l=0,u=r;l<u.length;l++){var h=u[l];this.formatMap.has(h)?a.push(this.formatMap.get(h)):this.logger.warn("".concat(h," is not supported by")+"BarcodeDetectorDelegate")}return{formats:a}},n.prototype.toHtml5QrcodeSupportedFormats=function(r){if(!this.reverseFormatMap.has(r))throw"reverseFormatMap doesn't have ".concat(r);return this.reverseFormatMap.get(r)},n.prototype.createReverseFormatMap=function(){var r=new Map;return this.formatMap.forEach(function(a,l,u){r.set(a,l)}),r},n.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},n}(),ec=function(n,r,a,l){function u(h){return h instanceof a?h:new a(function(g){g(h)})}return new(a||(a=Promise))(function(h,g){function p(w){try{f(l.next(w))}catch(v){g(v)}}function b(w){try{f(l.throw(w))}catch(v){g(v)}}function f(w){w.done?h(w.value):u(w.value).then(p,b)}f((l=l.apply(n,r||[])).next())})},tc=function(n,r){var a={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},l,u,h,g;return g={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function p(f){return function(w){return b([f,w])}}function b(f){if(l)throw new TypeError("Generator is already executing.");for(;g&&(g=0,f[0]&&(a=0)),a;)try{if(l=1,u&&(h=f[0]&2?u.return:f[0]?u.throw||((h=u.return)&&h.call(u),0):u.next)&&!(h=h.call(u,f[1])).done)return h;switch(u=0,h&&(f=[f[0]&2,h.value]),f[0]){case 0:case 1:h=f;break;case 4:return a.label++,{value:f[1],done:!1};case 5:a.label++,u=f[1],f=[0];continue;case 7:f=a.ops.pop(),a.trys.pop();continue;default:if(h=a.trys,!(h=h.length>0&&h[h.length-1])&&(f[0]===6||f[0]===2)){a=0;continue}if(f[0]===3&&(!h||f[1]>h[0]&&f[1]<h[3])){a.label=f[1];break}if(f[0]===6&&a.label<h[1]){a.label=h[1],h=f;break}if(h&&a.label<h[2]){a.label=h[2],a.ops.push(f);break}h[2]&&a.ops.pop(),a.trys.pop();continue}f=r.call(n,a)}catch(w){f=[6,w],u=0}finally{l=h=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},P1=function(){function n(r,a,l,u){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=l,a&&Jl.isSupported()?(this.primaryDecoder=new Jl(r,l,u),this.secondaryDecoder=new Zl(r,l,u)):this.primaryDecoder=new Zl(r,l,u)}return n.prototype.decodeAsync=function(r){return ec(this,void 0,void 0,function(){var a;return tc(this,function(l){switch(l.label){case 0:a=performance.now(),l.label=1;case 1:return l.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(r)];case 2:return[2,l.sent()];case 3:return this.possiblyLogPerformance(a),[7];case 4:return[2]}})})},n.prototype.decodeRobustlyAsync=function(r){return ec(this,void 0,void 0,function(){var a,l;return tc(this,function(u){switch(u.label){case 0:a=performance.now(),u.label=1;case 1:return u.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(r)];case 2:return[2,u.sent()];case 3:if(l=u.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(r)];throw l;case 4:return this.possiblyLogPerformance(a),[7];case 5:return[2]}})})},n.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},n.prototype.possiblyLogPerformance=function(r){if(this.verbose){var a=performance.now()-r;this.executionResults.push(a),this.executions++,this.possiblyFlushPerformanceReport()}},n.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var r=0,a=0,l=this.executionResults;a<l.length;a++){var u=l[a];r+=u}var h=r/this.executionResults.length;console.log("".concat(h," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},n}(),Fo=function(){var n=function(r,a){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,u){l.__proto__=u}||function(l,u){for(var h in u)Object.prototype.hasOwnProperty.call(u,h)&&(l[h]=u[h])},n(r,a)};return function(r,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");n(r,a);function l(){this.constructor=r}r.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)}}(),Un=function(n,r,a,l){function u(h){return h instanceof a?h:new a(function(g){g(h)})}return new(a||(a=Promise))(function(h,g){function p(w){try{f(l.next(w))}catch(v){g(v)}}function b(w){try{f(l.throw(w))}catch(v){g(v)}}function f(w){w.done?h(w.value):u(w.value).then(p,b)}f((l=l.apply(n,r||[])).next())})},Vn=function(n,r){var a={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},l,u,h,g;return g={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function p(f){return function(w){return b([f,w])}}function b(f){if(l)throw new TypeError("Generator is already executing.");for(;g&&(g=0,f[0]&&(a=0)),a;)try{if(l=1,u&&(h=f[0]&2?u.return:f[0]?u.throw||((h=u.return)&&h.call(u),0):u.next)&&!(h=h.call(u,f[1])).done)return h;switch(u=0,h&&(f=[f[0]&2,h.value]),f[0]){case 0:case 1:h=f;break;case 4:return a.label++,{value:f[1],done:!1};case 5:a.label++,u=f[1],f=[0];continue;case 7:f=a.ops.pop(),a.trys.pop();continue;default:if(h=a.trys,!(h=h.length>0&&h[h.length-1])&&(f[0]===6||f[0]===2)){a=0;continue}if(f[0]===3&&(!h||f[1]>h[0]&&f[1]<h[3])){a.label=f[1];break}if(f[0]===6&&a.label<h[1]){a.label=h[1],h=f;break}if(h&&a.label<h[2]){a.label=h[2],a.ops.push(f);break}h[2]&&a.ops.pop(),a.trys.pop();continue}f=r.call(n,a)}catch(w){f=[6,w],u=0}finally{l=h=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},Hd=function(){function n(r,a){this.name=r,this.track=a}return n.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},n.prototype.apply=function(r){var a={};a[this.name]=r;var l={advanced:[a]};return this.track.applyConstraints(l)},n.prototype.value=function(){var r=this.track.getSettings();if(this.name in r){var a=r[this.name];return a}return null},n}(),D1=function(n){Fo(r,n);function r(a,l){return n.call(this,a,l)||this}return r.prototype.min=function(){return this.getCapabilities().min},r.prototype.max=function(){return this.getCapabilities().max},r.prototype.step=function(){return this.getCapabilities().step},r.prototype.apply=function(a){var l={};l[this.name]=a;var u={advanced:[l]};return this.track.applyConstraints(u)},r.prototype.getCapabilities=function(){this.failIfNotSupported();var a=this.track.getCapabilities(),l=a[this.name];return{min:l.min,max:l.max,step:l.step}},r.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},r}(Hd),M1=function(n){Fo(r,n);function r(a){return n.call(this,"zoom",a)||this}return r}(D1),B1=function(n){Fo(r,n);function r(a){return n.call(this,"torch",a)||this}return r}(Hd),L1=function(){function n(r){this.track=r}return n.prototype.zoomFeature=function(){return new M1(this.track)},n.prototype.torchFeature=function(){return new B1(this.track)},n}(),F1=function(){function n(r,a,l){this.isClosed=!1,this.parentElement=r,this.mediaStream=a,this.callbacks=l,this.surface=this.createVideoElement(this.parentElement.clientWidth),r.append(this.surface)}return n.prototype.createVideoElement=function(r){var a=document.createElement("video");return a.style.width="".concat(r,"px"),a.style.display="block",a.muted=!0,a.setAttribute("muted","true"),a.playsInline=!0,a},n.prototype.setupSurface=function(){var r=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var a=function(){var l=r.surface.clientWidth,u=r.surface.clientHeight;r.callbacks.onRenderSurfaceReady(l,u),r.surface.removeEventListener("playing",a)};this.surface.addEventListener("playing",a),this.surface.srcObject=this.mediaStream,this.surface.play()},n.create=function(r,a,l,u){return Un(this,void 0,void 0,function(){var h,g;return Vn(this,function(p){switch(p.label){case 0:return h=new n(r,a,u),l.aspectRatio?(g={aspectRatio:l.aspectRatio},[4,h.getFirstTrackOrFail().applyConstraints(g)]):[3,2];case 1:p.sent(),p.label=2;case 2:return h.setupSurface(),[2,h]}})})},n.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},n.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},n.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},n.prototype.resume=function(r){this.failIfClosed();var a=this,l=function(){setTimeout(r,200),a.surface.removeEventListener("playing",l)};this.surface.addEventListener("playing",l),this.surface.play()},n.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},n.prototype.getSurface=function(){return this.failIfClosed(),this.surface},n.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},n.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},n.prototype.applyVideoConstraints=function(r){return Un(this,void 0,void 0,function(){return Vn(this,function(a){if("aspectRatio"in r)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(r)]})})},n.prototype.close=function(){if(this.isClosed)return Promise.resolve();var r=this;return new Promise(function(a,l){var u=r.mediaStream.getVideoTracks(),h=u.length,g=0;r.mediaStream.getVideoTracks().forEach(function(p){r.mediaStream.removeTrack(p),p.stop(),++g,g>=h&&(r.isClosed=!0,r.parentElement.removeChild(r.surface),a())})})},n.prototype.getCapabilities=function(){return new L1(this.getFirstTrackOrFail())},n}(),U1=function(){function n(r){this.mediaStream=r}return n.prototype.render=function(r,a,l){return Un(this,void 0,void 0,function(){return Vn(this,function(u){return[2,F1.create(r,this.mediaStream,a,l)]})})},n.create=function(r){return Un(this,void 0,void 0,function(){var a,l;return Vn(this,function(u){switch(u.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return a={audio:!1,video:r},[4,navigator.mediaDevices.getUserMedia(a)];case 1:return l=u.sent(),[2,new n(l)]}})})},n}(),rc=function(n,r,a,l){function u(h){return h instanceof a?h:new a(function(g){g(h)})}return new(a||(a=Promise))(function(h,g){function p(w){try{f(l.next(w))}catch(v){g(v)}}function b(w){try{f(l.throw(w))}catch(v){g(v)}}function f(w){w.done?h(w.value):u(w.value).then(p,b)}f((l=l.apply(n,r||[])).next())})},sc=function(n,r){var a={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},l,u,h,g;return g={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function p(f){return function(w){return b([f,w])}}function b(f){if(l)throw new TypeError("Generator is already executing.");for(;g&&(g=0,f[0]&&(a=0)),a;)try{if(l=1,u&&(h=f[0]&2?u.return:f[0]?u.throw||((h=u.return)&&h.call(u),0):u.next)&&!(h=h.call(u,f[1])).done)return h;switch(u=0,h&&(f=[f[0]&2,h.value]),f[0]){case 0:case 1:h=f;break;case 4:return a.label++,{value:f[1],done:!1};case 5:a.label++,u=f[1],f=[0];continue;case 7:f=a.ops.pop(),a.trys.pop();continue;default:if(h=a.trys,!(h=h.length>0&&h[h.length-1])&&(f[0]===6||f[0]===2)){a=0;continue}if(f[0]===3&&(!h||f[1]>h[0]&&f[1]<h[3])){a.label=f[1];break}if(f[0]===6&&a.label<h[1]){a.label=h[1],h=f;break}if(h&&a.label<h[2]){a.label=h[2],a.ops.push(f);break}h[2]&&a.ops.pop(),a.trys.pop();continue}f=r.call(n,a)}catch(w){f=[6,w],u=0}finally{l=h=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},V1=function(){function n(){}return n.failIfNotSupported=function(){return rc(this,void 0,void 0,function(){return sc(this,function(r){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new n]})})},n.prototype.create=function(r){return rc(this,void 0,void 0,function(){return sc(this,function(a){return[2,U1.create(r)]})})},n}(),$1=function(n,r,a,l){function u(h){return h instanceof a?h:new a(function(g){g(h)})}return new(a||(a=Promise))(function(h,g){function p(w){try{f(l.next(w))}catch(v){g(v)}}function b(w){try{f(l.throw(w))}catch(v){g(v)}}function f(w){w.done?h(w.value):u(w.value).then(p,b)}f((l=l.apply(n,r||[])).next())})},z1=function(n,r){var a={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},l,u,h,g;return g={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function p(f){return function(w){return b([f,w])}}function b(f){if(l)throw new TypeError("Generator is already executing.");for(;g&&(g=0,f[0]&&(a=0)),a;)try{if(l=1,u&&(h=f[0]&2?u.return:f[0]?u.throw||((h=u.return)&&h.call(u),0):u.next)&&!(h=h.call(u,f[1])).done)return h;switch(u=0,h&&(f=[f[0]&2,h.value]),f[0]){case 0:case 1:h=f;break;case 4:return a.label++,{value:f[1],done:!1};case 5:a.label++,u=f[1],f=[0];continue;case 7:f=a.ops.pop(),a.trys.pop();continue;default:if(h=a.trys,!(h=h.length>0&&h[h.length-1])&&(f[0]===6||f[0]===2)){a=0;continue}if(f[0]===3&&(!h||f[1]>h[0]&&f[1]<h[3])){a.label=f[1];break}if(f[0]===6&&a.label<h[1]){a.label=h[1],h=f;break}if(h&&a.label<h[2]){a.label=h[2],a.ops.push(f);break}h[2]&&a.ops.pop(),a.trys.pop();continue}f=r.call(n,a)}catch(w){f=[6,w],u=0}finally{l=h=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},H1=function(){function n(){}return n.retrieve=function(){if(navigator.mediaDevices)return n.getCamerasFromMediaDevices();var r=MediaStreamTrack;return MediaStreamTrack&&r.getSources?n.getCamerasFromMediaStreamTrack():n.rejectWithError()},n.rejectWithError=function(){var r=ca.unableToQuerySupportedDevices();return n.isHttpsOrLocalhost()||(r=ca.insecureContextCameraQueryError()),Promise.reject(r)},n.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var r=location.host.split(":")[0];return r==="127.0.0.1"||r==="localhost"},n.getCamerasFromMediaDevices=function(){return $1(this,void 0,void 0,function(){var r,a,l,u,h,g,p;return z1(this,function(b){switch(b.label){case 0:return r=function(f){for(var w=f.getVideoTracks(),v=0,k=w;v<k.length;v++){var A=k[v];A.enabled=!1,A.stop(),f.removeTrack(A)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return a=b.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(l=b.sent(),u=[],h=0,g=l;h<g.length;h++)p=g[h],p.kind==="videoinput"&&u.push({id:p.deviceId,label:p.label});return r(a),[2,u]}})})},n.getCamerasFromMediaStreamTrack=function(){return new Promise(function(r,a){var l=function(h){for(var g=[],p=0,b=h;p<b.length;p++){var f=b[p];f.kind==="video"&&g.push({id:f.id,label:f.label})}r(g)},u=MediaStreamTrack;u.getSources(l)})},n}(),Dt;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.NOT_STARTED=1]="NOT_STARTED",n[n.SCANNING=2]="SCANNING",n[n.PAUSED=3]="PAUSED"})(Dt||(Dt={}));var W1=function(){function n(){this.state=Dt.NOT_STARTED,this.onGoingTransactionNewState=Dt.UNKNOWN}return n.prototype.directTransition=function(r){this.failIfTransitionOngoing(),this.validateTransition(r),this.state=r},n.prototype.startTransition=function(r){return this.failIfTransitionOngoing(),this.validateTransition(r),this.onGoingTransactionNewState=r,this},n.prototype.execute=function(){if(this.onGoingTransactionNewState===Dt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var r=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Dt.UNKNOWN,this.directTransition(r)},n.prototype.cancel=function(){if(this.onGoingTransactionNewState===Dt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Dt.UNKNOWN},n.prototype.getState=function(){return this.state},n.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Dt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},n.prototype.validateTransition=function(r){switch(this.state){case Dt.UNKNOWN:throw"Transition from unknown is not allowed";case Dt.NOT_STARTED:this.failIfNewStateIs(r,[Dt.PAUSED]);break;case Dt.SCANNING:break;case Dt.PAUSED:break}},n.prototype.failIfNewStateIs=function(r,a){for(var l=0,u=a;l<u.length;l++){var h=u[l];if(r===h)throw"Cannot transition from ".concat(this.state," to ").concat(r)}},n}(),q1=function(){function n(r){this.stateManager=r}return n.prototype.startTransition=function(r){return this.stateManager.startTransition(r)},n.prototype.directTransition=function(r){this.stateManager.directTransition(r)},n.prototype.getState=function(){return this.stateManager.getState()},n.prototype.canScanFile=function(){return this.stateManager.getState()===Dt.NOT_STARTED},n.prototype.isScanning=function(){return this.stateManager.getState()!==Dt.NOT_STARTED},n.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Dt.SCANNING},n.prototype.isPaused=function(){return this.stateManager.getState()===Dt.PAUSED},n}(),G1=function(){function n(){}return n.create=function(){return new q1(new W1)},n}(),X1=function(){var n=function(r,a){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,u){l.__proto__=u}||function(l,u){for(var h in u)Object.prototype.hasOwnProperty.call(u,h)&&(l[h]=u[h])},n(r,a)};return function(r,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");n(r,a);function l(){this.constructor=r}r.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)}}(),jr=function(n){X1(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.DEFAULT_WIDTH=300,r.DEFAULT_WIDTH_OFFSET=2,r.FILE_SCAN_MIN_HEIGHT=300,r.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,r.MIN_QR_BOX_SIZE=50,r.SHADED_LEFT=1,r.SHADED_RIGHT=2,r.SHADED_TOP=3,r.SHADED_BOTTOM=4,r.SHADED_REGION_ELEMENT_ID="qr-shaded-region",r.VERBOSE=!1,r.BORDER_SHADER_DEFAULT_COLOR="#ffffff",r.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",r}(E1),Q1=function(){function n(r,a){this.logger=a,this.fps=jr.SCAN_DEFAULT_FPS,r?(r.fps&&(this.fps=r.fps),this.disableFlip=r.disableFlip===!0,this.qrbox=r.qrbox,this.aspectRatio=r.aspectRatio,this.videoConstraints=r.videoConstraints):this.disableFlip=jr.DEFAULT_DISABLE_FLIP}return n.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?zd.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},n.prototype.isShadedBoxEnabled=function(){return!is(this.qrbox)},n.create=function(r,a){return new n(r,a)},n}(),K1=function(){function n(r,a){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(r))throw"HTML Element with id=".concat(r," not found");this.elementId=r,this.verbose=!1;var l;typeof a=="boolean"?this.verbose=a===!0:a&&(l=a,this.verbose=l.verbose===!0,l.experimentalFeatures),this.logger=new T1(this.verbose),this.qrcode=new P1(this.getSupportedFormats(a),this.getUseBarCodeDetectorIfSupported(l),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=G1.create()}return n.prototype.start=function(r,a,l,u){var h=this;if(!r)throw"cameraIdOrConfig is required";if(!l||typeof l!="function")throw"qrCodeSuccessCallback is required and should be a function.";var g;u?g=u:g=this.verbose?this.logger.log:function(){};var p=Q1.create(a,this.logger);this.clearElement();var b=!1;p.videoConstraints&&(p.isMediaStreamConstraintsValid()?b=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var f=b,w=document.getElementById(this.elementId);w.clientWidth?w.clientWidth:jr.DEFAULT_WIDTH,w.style.position="relative",this.shouldScan=!0,this.element=w;var v=this,k=this.stateManagerProxy.startTransition(Dt.SCANNING);return new Promise(function(A,C){var T=f?p.videoConstraints:v.createVideoConstraints(r);if(!T){k.cancel(),C("videoConstraints should be defined");return}var I={};(!f||p.aspectRatio)&&(I.aspectRatio=p.aspectRatio);var R={onRenderSurfaceReady:function(O,P){v.setupUi(O,P,p),v.isScanning=!0,v.foreverScan(p,l,g)}};V1.failIfNotSupported().then(function(O){O.create(T).then(function(P){return P.render(h.element,I,R).then(function(G){v.renderedCamera=G,k.execute(),A(null)}).catch(function(G){k.cancel(),C(G)})}).catch(function(P){k.cancel(),C(ca.errorGettingUserMedia(P))})}).catch(function(O){k.cancel(),C(ca.cameraStreamingNotSupported())})})},n.prototype.pause=function(r){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Dt.PAUSED),this.showPausedState(),(is(r)||r!==!0)&&(r=!1),r&&this.renderedCamera&&this.renderedCamera.pause()},n.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var r=this,a=function(){r.stateManagerProxy.directTransition(Dt.SCANNING),r.hidePausedState()};if(!this.renderedCamera.isPaused()){a();return}this.renderedCamera.resume(function(){a()})},n.prototype.getState=function(){return this.stateManagerProxy.getState()},n.prototype.stop=function(){var r=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var a=this.stateManagerProxy.startTransition(Dt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var l=function(){if(r.element){var h=document.getElementById(jr.SHADED_REGION_ELEMENT_ID);h&&r.element.removeChild(h)}},u=this;return this.renderedCamera.close().then(function(){return u.renderedCamera=null,u.element&&(u.element.removeChild(u.canvasElement),u.canvasElement=null),l(),u.qrRegion&&(u.qrRegion=null),u.context&&(u.context=null),a.execute(),u.hidePausedState(),u.isScanning=!1,Promise.resolve()})},n.prototype.scanFile=function(r,a){return this.scanFileV2(r,a).then(function(l){return l.decodedText})},n.prototype.scanFileV2=function(r,a){var l=this;if(!r||!(r instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(is(a)&&(a=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(u,h){l.possiblyCloseLastScanImageFile(),l.clearElement(),l.lastScanImageFile=URL.createObjectURL(r);var g=new Image;g.onload=function(){var p=g.width,b=g.height,f=document.getElementById(l.elementId),w=f.clientWidth?f.clientWidth:jr.DEFAULT_WIDTH,v=Math.max(f.clientHeight?f.clientHeight:b,jr.FILE_SCAN_MIN_HEIGHT),k=l.computeCanvasDrawConfig(p,b,w,v);if(a){var A=l.createCanvasElement(w,v,"qr-canvas-visible");A.style.display="inline-block",f.appendChild(A);var C=A.getContext("2d");if(!C)throw"Unable to get 2d context from canvas";C.canvas.width=w,C.canvas.height=v,C.drawImage(g,0,0,p,b,k.x,k.y,k.width,k.height)}var T=jr.FILE_SCAN_HIDDEN_CANVAS_PADDING,I=Math.max(g.width,k.width),R=Math.max(g.height,k.height),O=I+2*T,P=R+2*T,G=l.createCanvasElement(O,P);f.appendChild(G);var Q=G.getContext("2d");if(!Q)throw"Unable to get 2d context from canvas";Q.canvas.width=O,Q.canvas.height=P,Q.drawImage(g,0,0,p,b,T,T,I,R);try{l.qrcode.decodeRobustlyAsync(G).then(function(D){u(Yl.createFromQrcodeResult(D))}).catch(h)}catch(D){h("QR code parse error, error = ".concat(D))}},g.onerror=h,g.onabort=h,g.onstalled=h,g.onsuspend=h,g.src=URL.createObjectURL(r)})},n.prototype.clear=function(){this.clearElement()},n.getCameras=function(){return H1.retrieve()},n.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},n.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},n.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},n.prototype.applyVideoConstraints=function(r){if(r){if(!zd.isMediaStreamConstraintsValid(r,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(r)},n.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},n.prototype.getSupportedFormats=function(r){var a=[Ee.QR_CODE,Ee.AZTEC,Ee.CODABAR,Ee.CODE_39,Ee.CODE_93,Ee.CODE_128,Ee.DATA_MATRIX,Ee.MAXICODE,Ee.ITF,Ee.EAN_13,Ee.EAN_8,Ee.PDF_417,Ee.RSS_14,Ee.RSS_EXPANDED,Ee.UPC_A,Ee.UPC_E,Ee.UPC_EAN_EXTENSION];if(!r||typeof r=="boolean"||!r.formatsToSupport)return a;if(!Array.isArray(r.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(r.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var l=[],u=0,h=r.formatsToSupport;u<h.length;u++){var g=h[u];S1(g)?l.push(g):this.logger.warn("Invalid format: ".concat(g," passed in config, ignoring."))}if(l.length===0)throw"None of formatsToSupport match supported values.";return l},n.prototype.getUseBarCodeDetectorIfSupported=function(r){if(is(r))return!0;if(!is(r.useBarCodeDetectorIfSupported))return r.useBarCodeDetectorIfSupported!==!1;if(is(r.experimentalFeatures))return!0;var a=r.experimentalFeatures;return is(a.useBarCodeDetectorIfSupported)?!0:a.useBarCodeDetectorIfSupported!==!1},n.prototype.validateQrboxSize=function(r,a,l){var u=this,h=l.qrbox;this.validateQrboxConfig(h);var g=this.toQrdimensions(r,a,h),p=function(f){if(f<jr.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(jr.MIN_QR_BOX_SIZE,"px.")},b=function(f){return f>r&&(u.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),f=r),f};p(g.width),p(g.height),g.width=b(g.width)},n.prototype.validateQrboxConfig=function(r){if(typeof r!="number"&&typeof r!="function"&&(r.width===void 0||r.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},n.prototype.toQrdimensions=function(r,a,l){if(typeof l=="number")return{width:l,height:l};if(typeof l=="function")try{return l(r,a)}catch(u){throw new Error("qrbox config was passed as a function but it failed with unknown error"+u)}return l},n.prototype.setupUi=function(r,a,l){l.isShadedBoxEnabled()&&this.validateQrboxSize(r,a,l);var u=is(l.qrbox)?{width:r,height:a}:l.qrbox;this.validateQrboxConfig(u);var h=this.toQrdimensions(r,a,u);h.height>a&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var g=l.isShadedBoxEnabled()&&h.height<=a,p={x:0,y:0,width:r,height:a},b=g?this.getShadedRegionBounds(r,a,h):p,f=this.createCanvasElement(b.width,b.height),w={willReadFrequently:!0},v=f.getContext("2d",w);v.canvas.width=b.width,v.canvas.height=b.height,this.element.append(f),g&&this.possiblyInsertShadingElement(this.element,r,a,h),this.createScannerPausedUiElement(this.element),this.qrRegion=b,this.context=v,this.canvasElement=f},n.prototype.createScannerPausedUiElement=function(r){var a=document.createElement("div");a.innerText=ca.scannerPaused(),a.style.display="none",a.style.position="absolute",a.style.top="0px",a.style.zIndex="1",a.style.background="rgba(9, 9, 9, 0.46)",a.style.color="#FFECEC",a.style.textAlign="center",a.style.width="100%",r.appendChild(a),this.scannerPausedUiElement=a},n.prototype.scanContext=function(r,a){var l=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(u){return r(u.text,Yl.createFromQrcodeResult(u)),l.possiblyUpdateShaders(!0),!0}).catch(function(u){l.possiblyUpdateShaders(!1);var h=ca.codeParseError(u);return a(h,A1.createFrom(h)),!1})},n.prototype.foreverScan=function(r,a,l){var u=this;if(this.shouldScan&&this.renderedCamera){var h=this.renderedCamera.getSurface(),g=h.videoWidth/h.clientWidth,p=h.videoHeight/h.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var b=this.qrRegion.width*g,f=this.qrRegion.height*p,w=this.qrRegion.x*g,v=this.qrRegion.y*p;this.context.drawImage(h,w,v,b,f,0,0,this.qrRegion.width,this.qrRegion.height);var k=function(){u.foreverScanTimeout=setTimeout(function(){u.foreverScan(r,a,l)},u.getTimeoutFps(r.fps))};this.scanContext(a,l).then(function(A){!A&&r.disableFlip!==!0?(u.context.translate(u.context.canvas.width,0),u.context.scale(-1,1),u.scanContext(a,l).finally(function(){k()})):k()}).catch(function(A){u.logger.logError("Error happend while scanning context",A),k()})}},n.prototype.createVideoConstraints=function(r){if(typeof r=="string")return{deviceId:{exact:r}};if(typeof r=="object"){var a="facingMode",l="deviceId",u={user:!0,environment:!0},h="exact",g=function(C){if(C in u)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(C,"'")},p=Object.keys(r);if(p.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(p.length," keys");var b=Object.keys(r)[0];if(b!==a&&b!==l)throw"Only '".concat(a,"' and '").concat(l,"' ")+" are supported for 'cameraIdOrConfig'";if(b===a){var f=r.facingMode;if(typeof f=="string"){if(g(f))return{facingMode:f}}else if(typeof f=="object")if(h in f){if(g(f["".concat(h)]))return{facingMode:{exact:f["".concat(h)]}}}else throw"'facingMode' should be string or object with"+" ".concat(h," as key.");else{var w=typeof f;throw"Invalid type of 'facingMode' = ".concat(w)}}else{var v=r.deviceId;if(typeof v=="string")return{deviceId:v};if(typeof v=="object"){if(h in v)return{deviceId:{exact:v["".concat(h)]}};throw"'deviceId' should be string or object with"+" ".concat(h," as key.")}else{var k=typeof v;throw"Invalid type of 'deviceId' = ".concat(k)}}}var A=typeof r;throw"Invalid type of 'cameraIdOrConfig' = ".concat(A)},n.prototype.computeCanvasDrawConfig=function(r,a,l,u){if(r<=l&&a<=u){var h=(l-r)/2,g=(u-a)/2;return{x:h,y:g,width:r,height:a}}else{var p=r,b=a;return r>l&&(a=l/r*a,r=l),a>u&&(r=u/a*r,a=u),this.logger.log("Image downsampled from "+"".concat(p,"X").concat(b)+" to ".concat(r,"X").concat(a,".")),this.computeCanvasDrawConfig(r,a,l,u)}},n.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var r=document.getElementById(this.elementId);r&&(r.innerHTML="")},n.prototype.possiblyUpdateShaders=function(r){this.qrMatch!==r&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(a){a.style.backgroundColor=r?jr.BORDER_SHADER_MATCH_COLOR:jr.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=r)},n.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},n.prototype.createCanvasElement=function(r,a,l){var u=r,h=a,g=document.createElement("canvas");return g.style.width="".concat(u,"px"),g.style.height="".concat(h,"px"),g.style.display="none",g.id=is(l)?"qr-canvas":l,g},n.prototype.getShadedRegionBounds=function(r,a,l){if(l.width>r||l.height>a)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(r-l.width)/2,y:(a-l.height)/2,width:l.width,height:l.height}},n.prototype.possiblyInsertShadingElement=function(r,a,l,u){if(!(a-u.width<1||l-u.height<1)){var h=document.createElement("div");h.style.position="absolute";var g=(a-u.width)/2,p=(l-u.height)/2;if(h.style.borderLeft="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),h.style.borderRight="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),h.style.borderTop="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),h.style.borderBottom="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),h.style.boxSizing="border-box",h.style.top="0px",h.style.bottom="0px",h.style.left="0px",h.style.right="0px",h.id="".concat(jr.SHADED_REGION_ELEMENT_ID),a-u.width<11||l-u.height<11)this.hasBorderShaders=!1;else{var b=5,f=40;this.insertShaderBorders(h,f,b,-b,null,0,!0),this.insertShaderBorders(h,f,b,-b,null,0,!1),this.insertShaderBorders(h,f,b,null,-b,0,!0),this.insertShaderBorders(h,f,b,null,-b,0,!1),this.insertShaderBorders(h,b,f+b,-b,null,-b,!0),this.insertShaderBorders(h,b,f+b,null,-b,-b,!0),this.insertShaderBorders(h,b,f+b,-b,null,-b,!1),this.insertShaderBorders(h,b,f+b,null,-b,-b,!1),this.hasBorderShaders=!0}r.append(h)}},n.prototype.insertShaderBorders=function(r,a,l,u,h,g,p){var b=document.createElement("div");b.style.position="absolute",b.style.backgroundColor=jr.BORDER_SHADER_DEFAULT_COLOR,b.style.width="".concat(a,"px"),b.style.height="".concat(l,"px"),u!==null&&(b.style.top="".concat(u,"px")),h!==null&&(b.style.bottom="".concat(h,"px")),p?b.style.left="".concat(g,"px"):b.style.right="".concat(g,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(b),r.appendChild(b)},n.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},n.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},n.prototype.getTimeoutFps=function(r){return 1e3/r},n}(),ac;(function(n){n[n.STATUS_DEFAULT=0]="STATUS_DEFAULT",n[n.STATUS_SUCCESS=1]="STATUS_SUCCESS",n[n.STATUS_WARNING=2]="STATUS_WARNING",n[n.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(ac||(ac={}));const Y1=({isOpen:n,onClose:r,onScan:a})=>{const l=j.useRef(null),[u,h]=j.useState(!1),[g,p]=j.useState(null),[b,f]=j.useState(null),[w,v]=j.useState(!1),k=j.useRef(!0);return j.useEffect(()=>(k.current=!0,()=>{k.current=!1}),[]),j.useEffect(()=>{if(!n){p(null),f(null),l.current&&u?l.current.stop().then(()=>{k.current&&(h(!1),v(!1))}).catch(C=>{console.warn("Erro ao parar scanner:",C),k.current&&(h(!1),v(!1))}).finally(()=>{l.current=null}):(h(!1),v(!1),l.current=null);return}return(async()=>{if(await new Promise(T=>setTimeout(T,100)),!document.getElementById("qr-reader")){p("Elemento scanner no encontrado");return}try{const T=new K1("qr-reader");l.current=T,await T.start({facingMode:"environment"},{fps:10,qrbox:{width:250,height:250}},I=>{k.current&&(f(I),h(!1),l.current&&l.current.stop().then(()=>{k.current&&(a(I),setTimeout(()=>{r()},1500))}).catch(R=>{console.warn("Erro ao parar scanner aps scan:",R),k.current&&(a(I),r())}))},()=>{}),h(!0),v(!0),p(null)}catch(T){console.error("Erro ao iniciar scanner:",T),k.current&&(p("No foi possvel acessar a cmera. Verifique as permisses."),h(!1))}})(),()=>{l.current&&u&&l.current.stop().catch(C=>{console.warn("Erro ao parar scanner no cleanup:",C)}).finally(()=>{l.current=null})}},[n,a,r]),n?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-lg w-full animate-in fade-in zoom-in duration-200",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-t-2xl p-6",children:e.jsxs("div",{className:"flex items-center justify-between text-white",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-white bg-opacity-20 rounded-lg flex items-center justify-center",children:e.jsx(Ao,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold",children:"Escanear QR Code"}),e.jsx("p",{className:"text-sm text-blue-100",children:"Aponte para o QR Code da carteira"})]})]}),e.jsx("button",{onClick:r,className:"p-2 hover:bg-white hover:bg-opacity-20 rounded-lg transition-colors","aria-label":"Fechar scanner",children:e.jsx(Dr,{className:"w-6 h-6"})})]})}),e.jsxs("div",{className:"p-6",children:[g?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(rt,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),e.jsx("p",{className:"text-red-600 dark:text-red-400 mb-4",children:g}),e.jsx("button",{onClick:r,className:"px-6 py-2 bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",children:"Fechar"})]}):b?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Pe,{className:"w-16 h-16 text-green-500 mx-auto mb-4 animate-pulse"}),e.jsx("p",{className:"text-lg font-semibold text-green-600 dark:text-green-400 mb-2",children:"Endereo Escaneado!"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 font-mono bg-gray-100 dark:bg-gray-900 rounded-lg p-3 break-all",children:b})]}):e.jsxs("div",{children:[e.jsx("div",{id:"qr-reader",className:"rounded-lg overflow-hidden border-4 border-blue-500"}),u&&e.jsx("div",{className:"mt-4 text-center",children:e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"}),e.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400 font-medium",children:"Procurando QR Code..."})]})})]}),!g&&!b&&e.jsx("div",{className:"mt-6 bg-gray-50 dark:bg-gray-900 rounded-lg p-4",children:e.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 text-center",children:[e.jsx("strong",{children:"Dica:"})," Posicione o QR Code dentro do quadrado azul para escanear automaticamente"]})})]})]})}):null};class Z1{apiClient=Ne;async getTransactions(r){try{const a=new URLSearchParams;r?.wallet_id&&a.append("wallet_id",r.wallet_id),r?.network&&a.append("network",r.network),r?.status&&a.append("status",r.status),r?.limit&&a.append("limit",r.limit.toString()),r?.offset&&a.append("offset",r.offset.toString()),r?.date_from&&a.append("date_from",r.date_from),r?.date_to&&a.append("date_to",r.date_to);const l=a.toString(),u=`/tx/${l?`?${l}`:""}`;return(await this.apiClient.get(u)).data}catch(a){throw console.error("Error fetching transactions:",a),new Error(a.response?.data?.detail||"Erro ao buscar transaes. Tente novamente.")}}async getTransaction(r){try{return(await this.apiClient.get(`/tx/${r}`)).data}catch(a){throw console.error("Error fetching transaction:",a),new Error(a.response?.data?.detail||"Erro ao buscar transao. Tente novamente.")}}async syncWalletTransactions(r){try{return(await this.apiClient.post(`/tx/sync/${r}`)).data}catch(a){throw console.error("Error syncing transactions:",a),new Error(a.response?.data?.detail||"Erro ao sincronizar transaes. Tente novamente.")}}async getWalletBlockchainTransactions(r,a,l=50){try{const u=new URLSearchParams;a&&u.append("network",a),u.append("limit",l.toString());const h=u.toString(),g=`/wallets/${r}/transactions${h?`?${h}`:""}`;console.log(`[DEBUG] Fetching blockchain transactions: ${g}`);const p=await this.apiClient.get(g);return console.log("[DEBUG] Blockchain transactions received:",p.data),{transactions:p.data.transactions,total_count:p.data.total,offset:0,limit:l}}catch(u){throw console.error("Error fetching blockchain transactions:",u),new Error(u.response?.data?.detail||"Erro ao buscar transaes do blockchain. Tente novamente.")}}formatAmount(r,a=8){const l=parseFloat(r);return isNaN(l)?"0":l<1e-8&&l>0?l.toExponential(2):l.toFixed(a).replace(/\.?0+$/,"")}getTransactionType(r,a){const l=r.from_address.toLowerCase(),u=r.to_address.toLowerCase(),h=a.map(g=>g.toLowerCase());return h.includes(l)?"send":(h.includes(u),"receive")}formatHash(r,a=6){return!r||r.length<=a*2?r:`${r.substring(0,a)}...${r.substring(r.length-a)}`}getExplorerUrl(r,a){return{ethereum:`https://etherscan.io/tx/${a}`,eth:`https://etherscan.io/tx/${a}`,polygon:`https://polygonscan.com/tx/${a}`,bsc:`https://bscscan.com/tx/${a}`,bitcoin:`https://blockstream.info/tx/${a}`,btc:`https://blockstream.info/tx/${a}`,multi:`https://etherscan.io/tx/${a}`}[r.toLowerCase()]||`https://etherscan.io/tx/${a}`}async sendTransactionDirect(r){try{const a={to_address:r.to_address,amount:r.amount,network:r.network,fee_level:r.fee_level||r.fee_preference||"standard",...r.password&&{password:r.password},...r.note&&{note:r.note},...r.memo&&{note:r.memo},...r.token_symbol&&{token_symbol:r.token_symbol},...r.token_address&&{token_address:r.token_address},...r.two_factor_token&&{two_factor_token:r.two_factor_token}};return r.wallet_id&&(a.wallet_id=r.wallet_id),(await this.apiClient.post("/wallets/send",a)).data}catch(a){const l=a.response?.data?.detail||"Erro ao enviar transao";throw new Error(l)}}async createTransaction(r){try{return(await this.apiClient.post("/wallets/send",{to_address:r.to_address,amount:r.amount,network:r.network,fee_level:r.fee_preference||"standard",...r.memo&&{note:r.memo}})).data}catch(a){const l=a.response?.data?.detail||"Erro ao criar transao";throw new Error(l)}}async signTransaction(r){return{signed:!0}}async broadcastTransaction(r){return{broadcasted:!0}}async getTransactionStatus(r){try{return(await this.apiClient.get(`/api/v1/transactions/status/${r}`)).data}catch(a){const l=a.response?.data?.detail||"Erro ao verificar status";throw new Error(l)}}async sendTransaction(r,a,l){try{console.log(" Enviando transao (tudo em um)..."),console.log("Token 2FA recebido:",l),console.log("Token Symbol:",r.token_symbol);const u={to_address:r.to_address,amount:r.amount,network:r.network,fee_level:(r.fee_preference==="safe"?"slow":r.fee_preference)||"standard"};r.memo&&(u.note=r.memo),a&&(u.password=a),r.wallet_id&&(u.wallet_id=r.wallet_id),r.token_address&&(u.token_address=r.token_address),r.token_symbol&&(u.token_symbol=r.token_symbol,console.log(" Token symbol adicionado ao payload:",r.token_symbol)),l?(u.two_factor_token=l,console.log(" Token 2FA adicionado ao payload:",l)):console.warn(" Token 2FA no foi fornecido"),console.log("Payload a ser enviado:",u);const h=await this.sendTransactionDirect(u);return console.log(" Transao enviada com sucesso!"),{transactionId:h.transaction_id,txHash:h.tx_hash,status:h.status}}catch(u){throw console.error(" Erro no fluxo de transao:",u.message),u}}async estimateFee(r){try{console.log(" Estimando taxa de gs...");const a={wallet_id:r.wallet_id,to_address:r.to_address,amount:r.amount,network:r.network},l=await this.apiClient.post("/wallets/estimate-fee",a);return console.log(" Taxas estimadas com sucesso:",l.data),l.data}catch(a){throw console.error(" Erro ao estimar taxa:",a.message),new Error(a.response?.data?.detail||"Erro ao estimar taxa de gs. Tente novamente.")}}}const Va=new Z1,J1=()=>{const[n,r]=j.useState(!1),[a,l]=j.useState("USDT"),[u,h]=j.useState("polygon"),[g,p]=j.useState(""),[b,f]=j.useState(""),[w,v]=j.useState(""),[k,A]=j.useState(!1),[C,T]=j.useState(""),[I,R]=j.useState(!1),[O,P]=j.useState(!1),[G,Q]=j.useState(!1),[D,B]=j.useState(null),[$,z]=j.useState("standard"),[K,re]=j.useState(!1),[F,X]=j.useState(""),[ae,H]=j.useState(null),{wallets:ve}=tn(),me=j.useMemo(()=>ve?.map(W=>String(W.id))||[],[ve]),ie=ri(me),je=j.useMemo(()=>ve?.find(W=>W.network==="multi"),[ve]),se=["bitcoin","ethereum","polygon","bsc","tron","base","solana","litecoin","dogecoin","cardano","avalanche","polkadot","chainlink","shiba","xrp"],{addresses:le}=Lo(je?.id?.toString(),se),[de]=j.useState(()=>{const W=localStorage.getItem("wallet_network_preferences"),q={bitcoin:!0,ethereum:!0,polygon:!0,bsc:!0,tron:!0,base:!0,solana:!0,litecoin:!0,dogecoin:!0,cardano:!0,avalanche:!0,polkadot:!0,chainlink:!0,shiba:!0,xrp:!0};if(W){const Xe=JSON.parse(W);return{...q,...Xe}}return q}),[ge]=j.useState(()=>{const W=localStorage.getItem("wallet_token_preferences"),q={usdt:!0,usdc:!0};if(W){const Xe=JSON.parse(W);return{...q,...Xe}}return q}),Ce=j.useMemo(()=>{if(!ve||!ie)return[];const W=[];return ve.forEach((q,Xe)=>{const vt=ie[Xe];if(q.network==="multi"){if([{network:"bitcoin",symbol:"BTC"},{network:"ethereum",symbol:"ETH"},{network:"polygon",symbol:"MATIC"},{network:"bsc",symbol:"BNB"},{network:"tron",symbol:"TRX"},{network:"base",symbol:"BASE"},{network:"solana",symbol:"SOL"},{network:"litecoin",symbol:"LTC"},{network:"dogecoin",symbol:"DOGE"},{network:"cardano",symbol:"ADA"},{network:"avalanche",symbol:"AVAX"},{network:"polkadot",symbol:"DOT"},{network:"chainlink",symbol:"LINK"},{network:"shiba",symbol:"SHIB"},{network:"xrp",symbol:"XRP"}].forEach(({network:Kt,symbol:At})=>{const tr=vt?.data?.[Kt],dr=tr?.balance?Number(tr.balance):0,Nt=tr?.balance_usd?Number(tr.balance_usd):0,oe=le[Kt]||"";W.push({walletId:q.id,symbol:At,network:Kt,address:oe,balance:dr,balanceUSD:Nt})}),vt?.data){const Kt=vt.data;console.log(" [DEBUG] Token processing - balancesData keys:",Object.keys(Kt)),console.log(" [DEBUG] balanceQueryResult:",vt);for(const[At,tr]of Object.entries(Kt)){console.log(` [DEBUG] Checking key: "${At}" against token pattern`);const Nt=String(At).toLowerCase().match(/^([a-z0-9]+)_(usdt|usdc)$/);if(Nt&&Nt.length>=3){const oe=Nt[1],Ue=Nt[2].toUpperCase();if(Ue==="USDT"&&!ge.usdt||Ue==="USDC"&&!ge.usdc)continue;const Be=tr?.balance?Number(tr.balance):0,pe=tr?.balance_usd?Number(tr.balance_usd):0,nt=le[oe]||"";console.log(` [DEBUG] Token found: ${Ue} on ${oe}, balance: ${Be}, address: ${nt}`),W.push({walletId:q.id,symbol:Ue,network:oe,address:nt,balance:Be,balanceUSD:pe})}}}}else{const It=vt?.data||{},Kt=Object.keys(It),At=Kt.length>0?It[Kt[0]]:null,tr=At?.balance?Number(At.balance):0,dr=At?.balance_usd?Number(At.balance_usd):0;W.push({walletId:q.id,symbol:q.symbol||q.network.toUpperCase(),network:q.network,balance:tr,balanceUSD:dr})}}),console.log(" [DEBUG] expandedWallets FINAL:",W),W.sort((q,Xe)=>Number(Xe.balance)-Number(q.balance))},[ve,ie,le,ge]),Ie=j.useMemo(()=>{const W=new Map;return Ce.forEach(q=>{if(de[q.network]){const vt={USDT:{name:"Tether",isStablecoin:!0},USDC:{name:"USD Coin",isStablecoin:!0},BTC:{name:"Bitcoin",isStablecoin:!1},ETH:{name:"Ethereum",isStablecoin:!1},BNB:{name:"Binance",isStablecoin:!1},MATIC:{name:"Polygon",isStablecoin:!1},TRX:{name:"Tron",isStablecoin:!1},ADA:{name:"Cardano",isStablecoin:!1},SOL:{name:"Solana",isStablecoin:!1},LINK:{name:"Chainlink",isStablecoin:!1},LTC:{name:"Litecoin",isStablecoin:!1},DOGE:{name:"Dogecoin",isStablecoin:!1},BASE:{name:"Base",isStablecoin:!1},AVAX:{name:"Avalanche",isStablecoin:!1},DOT:{name:"Polkadot",isStablecoin:!1},SHIB:{name:"Shiba Inu",isStablecoin:!1},XRP:{name:"XRP",isStablecoin:!1}}[q.symbol]||{name:q.symbol,isStablecoin:!1};if(q.symbol==="USDT"&&!ge.usdt||q.symbol==="USDC"&&!ge.usdc)return;if(W.has(q.symbol)){const It=W.get(q.symbol);It.balance+=q.balance,It.balanceUSD+=q.balanceUSD,It.networks=[...It.networks||[],q.network]}else W.set(q.symbol,{symbol:q.symbol,network:q.network,networks:[q.network],balance:q.balance,balanceUSD:q.balanceUSD,...vt})}}),console.log(" [DEBUG] tokenList FINAL:",Array.from(W.values())),Array.from(W.values()).sort((q,Xe)=>q.isStablecoin?-1:1)},[Ce,de,ge]),fe=j.useMemo(()=>{const W=new Map;return Ce.forEach(q=>{if(de[q.network]&&!W.has(q.network)){const vt={polygon:{name:"Polygon",symbol:"MATIC"},tron:{name:"Tron (TRC-20)",symbol:"TRX"},base:{name:"Base (L2)",symbol:"BASE"},bsc:{name:"BSC (BEP-20)",symbol:"BNB"},ethereum:{name:"Ethereum (ERC-20)",symbol:"ETH"},bitcoin:{name:"Bitcoin",symbol:"BTC"},cardano:{name:"Cardano",symbol:"ADA"},solana:{name:"Solana",symbol:"SOL"},litecoin:{name:"Litecoin",symbol:"LTC"},dogecoin:{name:"Dogecoin",symbol:"DOGE"},avalanche:{name:"Avalanche",symbol:"AVAX"},polkadot:{name:"Polkadot",symbol:"DOT"},chainlink:{name:"Chainlink",symbol:"LINK"},shiba:{name:"Shiba Inu",symbol:"SHIB"},xrp:{name:"XRP",symbol:"XRP"}}[q.network]||{name:q.network,symbol:q.symbol};W.set(q.network,{network:q.network,...vt})}}),Array.from(W.values()).sort((q,Xe)=>q.name.localeCompare(Xe.name))},[Ce,de]),ye=()=>Ie.find(W=>W.symbol===a),Re=()=>fe.find(W=>W.network===u),ue=W=>{l(W.symbol);const q=W.networks?.[0]||W.network;h(q),R(!1)},ce=W=>{h(W),P(!1)},ke=W=>{p(W),A(!1),Te.success("Endereo capturado!")},Ge=W=>{navigator.clipboard.writeText(W).then(()=>Te.success("Copiado!")).catch(()=>Te.error("Erro ao copiar"))},_e=()=>{if(!g.trim())return B("Endereo obrigatrio"),!1;if(!bt(g))return B("Endereo invlido. Use um endereo Ethereum/EVM vlido (0x...)"),!1;if(!b.trim())return B("Valor obrigatrio"),!1;const W=Number.parseFloat(b);if(Number.isNaN(W)||W<=0)return B("Valor invlido"),!1;const q=ye();return q&&W>q.balance?(B("Saldo insuficiente"),!1):(B(null),!0)},bt=W=>!!/^0x[a-fA-F0-9]{40}$/.test(W.trim()),yt=()=>g.trim()===""?"border-gray-300 dark:border-gray-600 focus:ring-blue-500":bt(g)?"border-green-500 dark:border-green-400 focus:ring-green-500":"border-red-500 dark:border-red-400 focus:ring-red-500",ze=async()=>{if(_e())try{Q(!0);const W=Ce.find(vt=>vt.symbol===a&&vt.network===u);if(!W){B("Nenhuma carteira encontrada para este token");return}if(!W.address){B("Endereo da carteira no disponvel para esta rede");return}const q=ve?.find(vt=>String(vt.id)===String(W.walletId));if(!q){B("Carteira no encontrada");return}console.log(" Iniciando transao..."),console.log("Carteira ID:",q.id),console.log("De:",W.address),console.log("Para:",g),console.log("Valor:",b),console.log("Rede:",u),console.log(" Estimando taxa de gs...");const Xe=await Va.estimateFee({wallet_id:String(q.id),to_address:g,amount:b,network:u});console.log(" Taxas estimadas:",Xe),H({wallet_id:String(q.id),to_address:g,amount:b,network:u,fee_preference:$,token_symbol:a,memo:w||void 0,feeEstimate:Xe}),re(!0),Q(!1)}catch(W){console.error(" Erro ao preparar envio:",W),B(W.message||"Erro ao estimar taxa ou preparar transao"),Te.error(W.message||"Erro ao estimar taxa"),Q(!1)}},wt=async()=>{if(!F||F.length<6){Te.error("Cdigo 2FA invlido (mnimo 6 dgitos)");return}if(!ae){Te.error("Nenhuma transao pendente");return}try{Q(!0),console.log(" Enviando transao com 2FA..."),console.log("Token 2FA:",F),console.log("Transao pendente:",ae);const W=await Va.sendTransaction({...ae},void 0,F);console.log(" Transao concluda:",W),T(W.txHash),r(!0),Te.success("Transao enviada com sucesso!"),re(!1),X(""),H(null)}catch(W){console.error(" Erro ao enviar:",W),B(W.message||"Erro ao enviar transao"),Te.error(W.message||"Erro ao enviar transao")}finally{Q(!1)}},et=()=>{re(!1),X(""),H(null),B(null)},He=()=>{p(""),f(""),v(""),B(null),T(""),r(!1)};return Ce.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Pr,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Nenhuma carteira disponvel"})]}):n?e.jsxs("div",{className:"text-center space-y-6 py-8",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900/20 rounded-full flex items-center justify-center",children:e.jsx(Pe,{className:"w-8 h-8 text-green-500"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Enviado!"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mt-2",children:"Transao confirmada"})]}),C&&e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-2",children:"Hash:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"font-mono text-xs text-gray-900 dark:text-white flex-1 truncate",children:C}),e.jsx("button",{onClick:()=>Ge(C),className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded transition-colors",children:e.jsx(Fr,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})})]})]}),e.jsx("div",{className:"flex gap-3",children:e.jsx("button",{onClick:He,className:"flex-1 px-4 py-3 bg-blue-500 hover:bg-blue-600 text-white font-semibold rounded-lg transition-colors",children:"Nova Transao"})})]}):e.jsxs("div",{className:"space-y-4 py-6",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-cyan-600 rounded-xl flex items-center justify-center",children:e.jsx(Pr,{className:"w-5 h-5 text-white"})}),"Enviar"]})}),D&&e.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3 flex gap-2",children:[e.jsx(rt,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),e.jsx("p",{className:"text-red-800 dark:text-red-200 text-sm",children:D})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Moeda"}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>R(!I),className:"w-full px-3 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg flex items-center justify-between hover:border-blue-500 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(or,{symbol:a,size:24}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-semibold text-gray-900 dark:text-white text-sm",children:a}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:ye()?.balance.toFixed(4)})]})]}),e.jsx(Fs,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})]}),I&&e.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg shadow-lg z-10 max-h-48 overflow-y-auto",children:Ie.map(W=>e.jsxs("button",{onClick:()=>ue(W),className:"w-full px-3 py-2 flex items-center gap-2 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors text-left border-b border-gray-200 dark:border-gray-700 last:border-b-0",children:[e.jsx(or,{symbol:W.symbol,size:24}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-gray-900 dark:text-white text-sm",children:W.symbol}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:W.name})]}),e.jsx("p",{className:"text-xs font-semibold text-gray-900 dark:text-white",children:W.balance.toFixed(4)})]},W.symbol))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Rede"}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>P(!O),className:"w-full px-3 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg flex items-center justify-between hover:border-blue-500 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(or,{symbol:Re()?.symbol||"CRYPTO",size:24}),e.jsx("p",{className:"font-semibold text-gray-900 dark:text-white text-sm",children:Re()?.name})]}),e.jsx(Fs,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})]}),O&&e.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg shadow-lg z-10 max-h-48 overflow-y-auto",children:fe.map(W=>e.jsxs("button",{onClick:()=>ce(W.network),className:"w-full px-3 py-2 flex items-center gap-2 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors text-left border-b border-gray-200 dark:border-gray-700 last:border-b-0",children:[e.jsx(or,{symbol:W.symbol,size:24}),e.jsx("p",{className:"font-semibold text-gray-900 dark:text-white text-sm flex-1",children:W.name})]},W.network))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Endereo"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("input",{type:"text",placeholder:"Cole o endereo (0x...)",value:g,onChange:W=>p(W.target.value),className:`w-full px-3 py-2 bg-white dark:bg-gray-800 border rounded-lg focus:ring-2 focus:border-transparent outline-none text-gray-900 dark:text-white text-sm transition-all ${yt()}`}),g.trim()!==""&&e.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:bt(g)?e.jsx(Pe,{className:"w-5 h-5 text-green-500"}):e.jsx(rt,{className:"w-5 h-5 text-red-500"})})]}),e.jsx("button",{onClick:()=>A(!0),className:"px-3 py-2 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors",title:"Escanear QR",children:e.jsx(ga,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]}),g.trim()!==""&&!bt(g)&&e.jsxs("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1 flex items-center gap-1",children:[e.jsx(rt,{className:"w-3 h-3"}),"Endereo invlido. Use um endereo Ethereum vlido (0x...)"]}),g.trim()!==""&&bt(g)&&e.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400 mt-1 flex items-center gap-1",children:[e.jsx(Pe,{className:"w-3 h-3"}),"Endereo vlido"]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-700 dark:text-gray-300",children:"Valor"}),e.jsx("button",{onClick:()=>{const W=ye()?.balance||0;f(W.toString())},className:"text-xs px-2 py-1 bg-blue-100 dark:bg-blue-900/30 hover:bg-blue-200 dark:hover:bg-blue-900/50 text-blue-700 dark:text-blue-300 rounded transition-colors font-semibold",children:"MAX"})]}),e.jsx("input",{type:"number",placeholder:"0.00",value:b,onChange:W=>f(W.target.value),step:"0.01",min:"0",className:"w-full px-3 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none text-gray-900 dark:text-white text-sm"}),b&&e.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:[" $",(Number(b)*(ye()?.balanceUSD||0)/(ye()?.balance||1)).toFixed(2)]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Velocidade"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:["slow","standard","fast"].map(W=>e.jsxs("button",{onClick:()=>z(W),className:`p-2 rounded-lg border-2 transition-all text-center ${$===W?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500"}`,children:[W==="slow"&&e.jsx(_p,{className:"w-5 h-5 mx-auto text-yellow-600 dark:text-yellow-400"}),W==="standard"&&e.jsx(ct,{className:"w-5 h-5 mx-auto text-blue-600 dark:text-blue-400"}),W==="fast"&&e.jsx(Zx,{className:"w-5 h-5 mx-auto text-orange-600 dark:text-orange-400"}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:W==="slow"?"5-10min":W==="standard"?"2-5min":"<1min"})]},W))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Memo (Opcional)"}),e.jsx("input",{type:"text",placeholder:"Nota...",value:w,onChange:W=>v(W.target.value),className:"w-full px-3 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none text-gray-900 dark:text-white text-sm"})]}),e.jsx("button",{onClick:ze,disabled:G||!g||!b,className:"w-full py-3 bg-gradient-to-r from-blue-500 to-cyan-600 hover:from-blue-600 hover:to-cyan-700 disabled:opacity-50 disabled:cursor-not-allowed text-white font-semibold rounded-lg transition-all flex items-center justify-center gap-2",children:G?e.jsxs(e.Fragment,{children:[e.jsx(hr,{className:"w-5 h-5 animate-spin"}),"Enviando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Pr,{className:"w-5 h-5"}),"Enviar"]})})]}),k&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Escanear QR"}),e.jsx(Y1,{isOpen:k,onScan:ke,onClose:()=>A(!1)}),e.jsx("button",{onClick:()=>A(!1),className:"w-full mt-4 px-4 py-2 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-900 dark:text-white rounded-lg transition-colors text-sm font-medium",children:"Fechar"})]})}),K&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Pe,{className:"w-5 h-5 text-blue-500"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Autenticao de Dois Fatores"})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Digite o cdigo de 6 dgitos do seu aplicativo Authy ou Google Authenticator"}),D&&e.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3 mb-4 flex gap-2",children:[e.jsx(rt,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),e.jsx("p",{className:"text-red-800 dark:text-red-200 text-sm",children:D})]}),ae?.feeEstimate&&e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(ct,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),e.jsx("p",{className:"text-xs font-semibold text-blue-900 dark:text-blue-200",children:"Taxa de Gs Estimada"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3 text-xs",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded p-2 text-center",children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-xs mb-1",children:"Slow"}),e.jsx("p",{className:"font-mono font-semibold text-blue-700 dark:text-blue-300 text-sm break-words",children:Number.parseFloat(ae.feeEstimate.fee_estimates.slow_fee).toFixed(8)})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded p-2 text-center",children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-xs mb-1",children:"Standard"}),e.jsx("p",{className:"font-mono font-semibold text-blue-700 dark:text-blue-300 text-sm break-words",children:Number.parseFloat(ae.feeEstimate.fee_estimates.standard_fee).toFixed(8)})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded p-2 text-center",children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-xs mb-1",children:"Fast"}),e.jsx("p",{className:"font-mono font-semibold text-blue-700 dark:text-blue-300 text-sm break-words",children:Number.parseFloat(ae.feeEstimate.fee_estimates.fast_fee).toFixed(8)})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Cdigo 2FA"}),e.jsx("input",{type:"text",placeholder:"000000",value:F,onChange:W=>X(W.target.value.replace(/\D/g,"").slice(0,8)),maxLength:8,className:"w-full px-3 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none text-gray-900 dark:text-white text-sm font-mono text-center text-2xl tracking-widest"}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[F.length,"/6 dgitos"]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:et,disabled:G,className:"flex-1 px-4 py-2 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 disabled:opacity-50 text-gray-900 dark:text-white rounded-lg transition-colors text-sm font-medium",children:"Cancelar"}),e.jsx("button",{onClick:wt,disabled:G||F.length<6,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-cyan-600 hover:from-blue-600 hover:to-cyan-700 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-lg transition-colors text-sm font-medium flex items-center justify-center gap-2",children:G?e.jsxs(e.Fragment,{children:[e.jsx(hr,{className:"w-4 h-4 animate-spin"}),"Verificando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Pr,{className:"w-4 h-4"}),"Enviar"]})})]})]})})]})};var e2=Object.defineProperty,$n=Object.getOwnPropertySymbols,Wd=Object.prototype.hasOwnProperty,qd=Object.prototype.propertyIsEnumerable,nc=(n,r,a)=>r in n?e2(n,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):n[r]=a,co=(n,r)=>{for(var a in r||(r={}))Wd.call(r,a)&&nc(n,a,r[a]);if($n)for(var a of $n(r))qd.call(r,a)&&nc(n,a,r[a]);return n},uo=(n,r)=>{var a={};for(var l in n)Wd.call(n,l)&&r.indexOf(l)<0&&(a[l]=n[l]);if(n!=null&&$n)for(var l of $n(n))r.indexOf(l)<0&&qd.call(n,l)&&(a[l]=n[l]);return a};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var zs;(n=>{const r=class Qe{constructor(b,f,w,v){if(this.version=b,this.errorCorrectionLevel=f,this.modules=[],this.isFunction=[],b<Qe.MIN_VERSION||b>Qe.MAX_VERSION)throw new RangeError("Version value out of range");if(v<-1||v>7)throw new RangeError("Mask value out of range");this.size=b*4+17;let k=[];for(let C=0;C<this.size;C++)k.push(!1);for(let C=0;C<this.size;C++)this.modules.push(k.slice()),this.isFunction.push(k.slice());this.drawFunctionPatterns();const A=this.addEccAndInterleave(w);if(this.drawCodewords(A),v==-1){let C=1e9;for(let T=0;T<8;T++){this.applyMask(T),this.drawFormatBits(T);const I=this.getPenaltyScore();I<C&&(v=T,C=I),this.applyMask(T)}}u(0<=v&&v<=7),this.mask=v,this.applyMask(v),this.drawFormatBits(v),this.isFunction=[]}static encodeText(b,f){const w=n.QrSegment.makeSegments(b);return Qe.encodeSegments(w,f)}static encodeBinary(b,f){const w=n.QrSegment.makeBytes(b);return Qe.encodeSegments([w],f)}static encodeSegments(b,f,w=1,v=40,k=-1,A=!0){if(!(Qe.MIN_VERSION<=w&&w<=v&&v<=Qe.MAX_VERSION)||k<-1||k>7)throw new RangeError("Invalid value");let C,T;for(C=w;;C++){const P=Qe.getNumDataCodewords(C,f)*8,G=g.getTotalBits(b,C);if(G<=P){T=G;break}if(C>=v)throw new RangeError("Data too long")}for(const P of[Qe.Ecc.MEDIUM,Qe.Ecc.QUARTILE,Qe.Ecc.HIGH])A&&T<=Qe.getNumDataCodewords(C,P)*8&&(f=P);let I=[];for(const P of b){a(P.mode.modeBits,4,I),a(P.numChars,P.mode.numCharCountBits(C),I);for(const G of P.getData())I.push(G)}u(I.length==T);const R=Qe.getNumDataCodewords(C,f)*8;u(I.length<=R),a(0,Math.min(4,R-I.length),I),a(0,(8-I.length%8)%8,I),u(I.length%8==0);for(let P=236;I.length<R;P^=253)a(P,8,I);let O=[];for(;O.length*8<I.length;)O.push(0);return I.forEach((P,G)=>O[G>>>3]|=P<<7-(G&7)),new Qe(C,f,O,k)}getModule(b,f){return 0<=b&&b<this.size&&0<=f&&f<this.size&&this.modules[f][b]}getModules(){return this.modules}drawFunctionPatterns(){for(let w=0;w<this.size;w++)this.setFunctionModule(6,w,w%2==0),this.setFunctionModule(w,6,w%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const b=this.getAlignmentPatternPositions(),f=b.length;for(let w=0;w<f;w++)for(let v=0;v<f;v++)w==0&&v==0||w==0&&v==f-1||w==f-1&&v==0||this.drawAlignmentPattern(b[w],b[v]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(b){const f=this.errorCorrectionLevel.formatBits<<3|b;let w=f;for(let k=0;k<10;k++)w=w<<1^(w>>>9)*1335;const v=(f<<10|w)^21522;u(v>>>15==0);for(let k=0;k<=5;k++)this.setFunctionModule(8,k,l(v,k));this.setFunctionModule(8,7,l(v,6)),this.setFunctionModule(8,8,l(v,7)),this.setFunctionModule(7,8,l(v,8));for(let k=9;k<15;k++)this.setFunctionModule(14-k,8,l(v,k));for(let k=0;k<8;k++)this.setFunctionModule(this.size-1-k,8,l(v,k));for(let k=8;k<15;k++)this.setFunctionModule(8,this.size-15+k,l(v,k));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let b=this.version;for(let w=0;w<12;w++)b=b<<1^(b>>>11)*7973;const f=this.version<<12|b;u(f>>>18==0);for(let w=0;w<18;w++){const v=l(f,w),k=this.size-11+w%3,A=Math.floor(w/3);this.setFunctionModule(k,A,v),this.setFunctionModule(A,k,v)}}drawFinderPattern(b,f){for(let w=-4;w<=4;w++)for(let v=-4;v<=4;v++){const k=Math.max(Math.abs(v),Math.abs(w)),A=b+v,C=f+w;0<=A&&A<this.size&&0<=C&&C<this.size&&this.setFunctionModule(A,C,k!=2&&k!=4)}}drawAlignmentPattern(b,f){for(let w=-2;w<=2;w++)for(let v=-2;v<=2;v++)this.setFunctionModule(b+v,f+w,Math.max(Math.abs(v),Math.abs(w))!=1)}setFunctionModule(b,f,w){this.modules[f][b]=w,this.isFunction[f][b]=!0}addEccAndInterleave(b){const f=this.version,w=this.errorCorrectionLevel;if(b.length!=Qe.getNumDataCodewords(f,w))throw new RangeError("Invalid argument");const v=Qe.NUM_ERROR_CORRECTION_BLOCKS[w.ordinal][f],k=Qe.ECC_CODEWORDS_PER_BLOCK[w.ordinal][f],A=Math.floor(Qe.getNumRawDataModules(f)/8),C=v-A%v,T=Math.floor(A/v);let I=[];const R=Qe.reedSolomonComputeDivisor(k);for(let P=0,G=0;P<v;P++){let Q=b.slice(G,G+T-k+(P<C?0:1));G+=Q.length;const D=Qe.reedSolomonComputeRemainder(Q,R);P<C&&Q.push(0),I.push(Q.concat(D))}let O=[];for(let P=0;P<I[0].length;P++)I.forEach((G,Q)=>{(P!=T-k||Q>=C)&&O.push(G[P])});return u(O.length==A),O}drawCodewords(b){if(b.length!=Math.floor(Qe.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let f=0;for(let w=this.size-1;w>=1;w-=2){w==6&&(w=5);for(let v=0;v<this.size;v++)for(let k=0;k<2;k++){const A=w-k,T=(w+1&2)==0?this.size-1-v:v;!this.isFunction[T][A]&&f<b.length*8&&(this.modules[T][A]=l(b[f>>>3],7-(f&7)),f++)}}u(f==b.length*8)}applyMask(b){if(b<0||b>7)throw new RangeError("Mask value out of range");for(let f=0;f<this.size;f++)for(let w=0;w<this.size;w++){let v;switch(b){case 0:v=(w+f)%2==0;break;case 1:v=f%2==0;break;case 2:v=w%3==0;break;case 3:v=(w+f)%3==0;break;case 4:v=(Math.floor(w/3)+Math.floor(f/2))%2==0;break;case 5:v=w*f%2+w*f%3==0;break;case 6:v=(w*f%2+w*f%3)%2==0;break;case 7:v=((w+f)%2+w*f%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[f][w]&&v&&(this.modules[f][w]=!this.modules[f][w])}}getPenaltyScore(){let b=0;for(let k=0;k<this.size;k++){let A=!1,C=0,T=[0,0,0,0,0,0,0];for(let I=0;I<this.size;I++)this.modules[k][I]==A?(C++,C==5?b+=Qe.PENALTY_N1:C>5&&b++):(this.finderPenaltyAddHistory(C,T),A||(b+=this.finderPenaltyCountPatterns(T)*Qe.PENALTY_N3),A=this.modules[k][I],C=1);b+=this.finderPenaltyTerminateAndCount(A,C,T)*Qe.PENALTY_N3}for(let k=0;k<this.size;k++){let A=!1,C=0,T=[0,0,0,0,0,0,0];for(let I=0;I<this.size;I++)this.modules[I][k]==A?(C++,C==5?b+=Qe.PENALTY_N1:C>5&&b++):(this.finderPenaltyAddHistory(C,T),A||(b+=this.finderPenaltyCountPatterns(T)*Qe.PENALTY_N3),A=this.modules[I][k],C=1);b+=this.finderPenaltyTerminateAndCount(A,C,T)*Qe.PENALTY_N3}for(let k=0;k<this.size-1;k++)for(let A=0;A<this.size-1;A++){const C=this.modules[k][A];C==this.modules[k][A+1]&&C==this.modules[k+1][A]&&C==this.modules[k+1][A+1]&&(b+=Qe.PENALTY_N2)}let f=0;for(const k of this.modules)f=k.reduce((A,C)=>A+(C?1:0),f);const w=this.size*this.size,v=Math.ceil(Math.abs(f*20-w*10)/w)-1;return u(0<=v&&v<=9),b+=v*Qe.PENALTY_N4,u(0<=b&&b<=2568888),b}getAlignmentPatternPositions(){if(this.version==1)return[];{const b=Math.floor(this.version/7)+2,f=this.version==32?26:Math.ceil((this.version*4+4)/(b*2-2))*2;let w=[6];for(let v=this.size-7;w.length<b;v-=f)w.splice(1,0,v);return w}}static getNumRawDataModules(b){if(b<Qe.MIN_VERSION||b>Qe.MAX_VERSION)throw new RangeError("Version number out of range");let f=(16*b+128)*b+64;if(b>=2){const w=Math.floor(b/7)+2;f-=(25*w-10)*w-55,b>=7&&(f-=36)}return u(208<=f&&f<=29648),f}static getNumDataCodewords(b,f){return Math.floor(Qe.getNumRawDataModules(b)/8)-Qe.ECC_CODEWORDS_PER_BLOCK[f.ordinal][b]*Qe.NUM_ERROR_CORRECTION_BLOCKS[f.ordinal][b]}static reedSolomonComputeDivisor(b){if(b<1||b>255)throw new RangeError("Degree out of range");let f=[];for(let v=0;v<b-1;v++)f.push(0);f.push(1);let w=1;for(let v=0;v<b;v++){for(let k=0;k<f.length;k++)f[k]=Qe.reedSolomonMultiply(f[k],w),k+1<f.length&&(f[k]^=f[k+1]);w=Qe.reedSolomonMultiply(w,2)}return f}static reedSolomonComputeRemainder(b,f){let w=f.map(v=>0);for(const v of b){const k=v^w.shift();w.push(0),f.forEach((A,C)=>w[C]^=Qe.reedSolomonMultiply(A,k))}return w}static reedSolomonMultiply(b,f){if(b>>>8||f>>>8)throw new RangeError("Byte out of range");let w=0;for(let v=7;v>=0;v--)w=w<<1^(w>>>7)*285,w^=(f>>>v&1)*b;return u(w>>>8==0),w}finderPenaltyCountPatterns(b){const f=b[1];u(f<=this.size*3);const w=f>0&&b[2]==f&&b[3]==f*3&&b[4]==f&&b[5]==f;return(w&&b[0]>=f*4&&b[6]>=f?1:0)+(w&&b[6]>=f*4&&b[0]>=f?1:0)}finderPenaltyTerminateAndCount(b,f,w){return b&&(this.finderPenaltyAddHistory(f,w),f=0),f+=this.size,this.finderPenaltyAddHistory(f,w),this.finderPenaltyCountPatterns(w)}finderPenaltyAddHistory(b,f){f[0]==0&&(b+=this.size),f.pop(),f.unshift(b)}};r.MIN_VERSION=1,r.MAX_VERSION=40,r.PENALTY_N1=3,r.PENALTY_N2=3,r.PENALTY_N3=40,r.PENALTY_N4=10,r.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],r.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],n.QrCode=r;function a(p,b,f){if(b<0||b>31||p>>>b)throw new RangeError("Value out of range");for(let w=b-1;w>=0;w--)f.push(p>>>w&1)}function l(p,b){return(p>>>b&1)!=0}function u(p){if(!p)throw new Error("Assertion error")}const h=class Pt{constructor(b,f,w){if(this.mode=b,this.numChars=f,this.bitData=w,f<0)throw new RangeError("Invalid argument");this.bitData=w.slice()}static makeBytes(b){let f=[];for(const w of b)a(w,8,f);return new Pt(Pt.Mode.BYTE,b.length,f)}static makeNumeric(b){if(!Pt.isNumeric(b))throw new RangeError("String contains non-numeric characters");let f=[];for(let w=0;w<b.length;){const v=Math.min(b.length-w,3);a(parseInt(b.substring(w,w+v),10),v*3+1,f),w+=v}return new Pt(Pt.Mode.NUMERIC,b.length,f)}static makeAlphanumeric(b){if(!Pt.isAlphanumeric(b))throw new RangeError("String contains unencodable characters in alphanumeric mode");let f=[],w;for(w=0;w+2<=b.length;w+=2){let v=Pt.ALPHANUMERIC_CHARSET.indexOf(b.charAt(w))*45;v+=Pt.ALPHANUMERIC_CHARSET.indexOf(b.charAt(w+1)),a(v,11,f)}return w<b.length&&a(Pt.ALPHANUMERIC_CHARSET.indexOf(b.charAt(w)),6,f),new Pt(Pt.Mode.ALPHANUMERIC,b.length,f)}static makeSegments(b){return b==""?[]:Pt.isNumeric(b)?[Pt.makeNumeric(b)]:Pt.isAlphanumeric(b)?[Pt.makeAlphanumeric(b)]:[Pt.makeBytes(Pt.toUtf8ByteArray(b))]}static makeEci(b){let f=[];if(b<0)throw new RangeError("ECI assignment value out of range");if(b<128)a(b,8,f);else if(b<16384)a(2,2,f),a(b,14,f);else if(b<1e6)a(6,3,f),a(b,21,f);else throw new RangeError("ECI assignment value out of range");return new Pt(Pt.Mode.ECI,0,f)}static isNumeric(b){return Pt.NUMERIC_REGEX.test(b)}static isAlphanumeric(b){return Pt.ALPHANUMERIC_REGEX.test(b)}getData(){return this.bitData.slice()}static getTotalBits(b,f){let w=0;for(const v of b){const k=v.mode.numCharCountBits(f);if(v.numChars>=1<<k)return 1/0;w+=4+k+v.bitData.length}return w}static toUtf8ByteArray(b){b=encodeURI(b);let f=[];for(let w=0;w<b.length;w++)b.charAt(w)!="%"?f.push(b.charCodeAt(w)):(f.push(parseInt(b.substring(w+1,w+3),16)),w+=2);return f}};h.NUMERIC_REGEX=/^[0-9]*$/,h.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,h.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let g=h;n.QrSegment=h})(zs||(zs={}));(n=>{(r=>{const a=class{constructor(u,h){this.ordinal=u,this.formatBits=h}};a.LOW=new a(0,1),a.MEDIUM=new a(1,0),a.QUARTILE=new a(2,3),a.HIGH=new a(3,2),r.Ecc=a})(n.QrCode||(n.QrCode={}))})(zs||(zs={}));(n=>{(r=>{const a=class{constructor(u,h){this.modeBits=u,this.numBitsCharCount=h}numCharCountBits(u){return this.numBitsCharCount[Math.floor((u+7)/17)]}};a.NUMERIC=new a(1,[10,12,14]),a.ALPHANUMERIC=new a(2,[9,11,13]),a.BYTE=new a(4,[8,16,16]),a.KANJI=new a(8,[8,10,12]),a.ECI=new a(7,[0,0,0]),r.Mode=a})(n.QrSegment||(n.QrSegment={}))})(zs||(zs={}));var da=zs;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var t2={L:da.QrCode.Ecc.LOW,M:da.QrCode.Ecc.MEDIUM,Q:da.QrCode.Ecc.QUARTILE,H:da.QrCode.Ecc.HIGH},Gd=128,Xd="L",Qd="#FFFFFF",Kd="#000000",Yd=!1,Zd=1,r2=4,s2=0,a2=.1;function Jd(n,r=0){const a=[];return n.forEach(function(l,u){let h=null;l.forEach(function(g,p){if(!g&&h!==null){a.push(`M${h+r} ${u+r}h${p-h}v1H${h+r}z`),h=null;return}if(p===l.length-1){if(!g)return;h===null?a.push(`M${p+r},${u+r} h1v1H${p+r}z`):a.push(`M${h+r},${u+r} h${p+1-h}v1H${h+r}z`);return}g&&h===null&&(h=p)})}),a.join("")}function e0(n,r){return n.slice().map((a,l)=>l<r.y||l>=r.y+r.h?a:a.map((u,h)=>h<r.x||h>=r.x+r.w?u:!1))}function n2(n,r,a,l){if(l==null)return null;const u=n.length+a*2,h=Math.floor(r*a2),g=u/r,p=(l.width||h)*g,b=(l.height||h)*g,f=l.x==null?n.length/2-p/2:l.x*g,w=l.y==null?n.length/2-b/2:l.y*g,v=l.opacity==null?1:l.opacity;let k=null;if(l.excavate){let C=Math.floor(f),T=Math.floor(w),I=Math.ceil(p+f-C),R=Math.ceil(b+w-T);k={x:C,y:T,w:I,h:R}}const A=l.crossOrigin;return{x:f,y:w,h:b,w:p,excavation:k,opacity:v,crossOrigin:A}}function i2(n,r){return r!=null?Math.max(Math.floor(r),0):n?r2:s2}function t0({value:n,level:r,minVersion:a,includeMargin:l,marginSize:u,imageSettings:h,size:g,boostLevel:p}){let b=ot.useMemo(()=>{const C=(Array.isArray(n)?n:[n]).reduce((T,I)=>(T.push(...da.QrSegment.makeSegments(I)),T),[]);return da.QrCode.encodeSegments(C,t2[r],a,void 0,void 0,p)},[n,r,a,p]);const{cells:f,margin:w,numCells:v,calculatedImageSettings:k}=ot.useMemo(()=>{let A=b.getModules();const C=i2(l,u),T=A.length+C*2,I=n2(A,g,C,h);return{cells:A,margin:C,numCells:T,calculatedImageSettings:I}},[b,g,h,l,u]);return{qrcode:b,margin:w,cells:f,numCells:v,calculatedImageSettings:k}}var o2=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),l2=ot.forwardRef(function(r,a){const l=r,{value:u,size:h=Gd,level:g=Xd,bgColor:p=Qd,fgColor:b=Kd,includeMargin:f=Yd,minVersion:w=Zd,boostLevel:v,marginSize:k,imageSettings:A}=l,T=uo(l,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:I}=T,R=uo(T,["style"]),O=A?.src,P=ot.useRef(null),G=ot.useRef(null),Q=ot.useCallback(ae=>{P.current=ae,typeof a=="function"?a(ae):a&&(a.current=ae)},[a]),[D,B]=ot.useState(!1),{margin:$,cells:z,numCells:K,calculatedImageSettings:re}=t0({value:u,level:g,minVersion:w,boostLevel:v,includeMargin:f,marginSize:k,imageSettings:A,size:h});ot.useEffect(()=>{if(P.current!=null){const ae=P.current,H=ae.getContext("2d");if(!H)return;let ve=z;const me=G.current,ie=re!=null&&me!==null&&me.complete&&me.naturalHeight!==0&&me.naturalWidth!==0;ie&&re.excavation!=null&&(ve=e0(z,re.excavation));const je=window.devicePixelRatio||1;ae.height=ae.width=h*je;const se=h/K*je;H.scale(se,se),H.fillStyle=p,H.fillRect(0,0,K,K),H.fillStyle=b,o2?H.fill(new Path2D(Jd(ve,$))):z.forEach(function(le,de){le.forEach(function(ge,Ce){ge&&H.fillRect(Ce+$,de+$,1,1)})}),re&&(H.globalAlpha=re.opacity),ie&&H.drawImage(me,re.x+$,re.y+$,re.w,re.h)}}),ot.useEffect(()=>{B(!1)},[O]);const F=co({height:h,width:h},I);let X=null;return O!=null&&(X=ot.createElement("img",{src:O,key:O,style:{display:"none"},onLoad:()=>{B(!0)},ref:G,crossOrigin:re?.crossOrigin})),ot.createElement(ot.Fragment,null,ot.createElement("canvas",co({style:F,height:h,width:h,ref:Q,role:"img"},R)),X)});l2.displayName="QRCodeCanvas";var r0=ot.forwardRef(function(r,a){const l=r,{value:u,size:h=Gd,level:g=Xd,bgColor:p=Qd,fgColor:b=Kd,includeMargin:f=Yd,minVersion:w=Zd,boostLevel:v,title:k,marginSize:A,imageSettings:C}=l,T=uo(l,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:I,cells:R,numCells:O,calculatedImageSettings:P}=t0({value:u,level:g,minVersion:w,boostLevel:v,includeMargin:f,marginSize:A,imageSettings:C,size:h});let G=R,Q=null;C!=null&&P!=null&&(P.excavation!=null&&(G=e0(R,P.excavation)),Q=ot.createElement("image",{href:C.src,height:P.h,width:P.w,x:P.x+I,y:P.y+I,preserveAspectRatio:"none",opacity:P.opacity,crossOrigin:P.crossOrigin}));const D=Jd(G,I);return ot.createElement("svg",co({height:h,width:h,viewBox:`0 0 ${O} ${O}`,ref:a,role:"img"},T),!!k&&ot.createElement("title",null,k),ot.createElement("path",{fill:p,d:`M0,0 h${O}v${O}H0z`,shapeRendering:"crispEdges"}),ot.createElement("path",{fill:b,d:D,shapeRendering:"crispEdges"}),Q)});r0.displayName="QRCodeSVG";const c2=()=>{const[n,r]=j.useState("USDT"),[a,l]=j.useState("polygon"),[u,h]=j.useState(0),[g]=j.useState(()=>{const D=localStorage.getItem("wallet_network_preferences"),B={bitcoin:!0,ethereum:!0,polygon:!0,bsc:!0,tron:!0,base:!0,solana:!0,litecoin:!0,dogecoin:!0,cardano:!0,avalanche:!0,polkadot:!0,chainlink:!0,shiba:!0,xrp:!0};if(D){const $=JSON.parse(D);return{...B,...$}}return B}),[p]=j.useState(()=>{const D=localStorage.getItem("wallet_token_preferences"),B={usdt:!0,usdc:!0};if(D){const $=JSON.parse(D);return{...B,...$}}return B}),{wallets:b}=tn(),f=j.useMemo(()=>b?.map(D=>String(D.id))||[],[b]),w=ri(f),v=j.useMemo(()=>b?.find(D=>D.network==="multi"),[b]),k=["bitcoin","ethereum","polygon","bsc","tron","base","solana","litecoin","dogecoin","cardano","avalanche","polkadot","chainlink","shiba","xrp"],{addresses:A}=Lo(v?.id?.toString(),k);j.useEffect(()=>{console.log("[ReceivePage]  Wallet/Address Status:",{hasMultiWallet:!!v,multiWalletId:v?.id,networksList:k,loadedNetworks:Object.keys(A),addresses:A})},[v,A]);const C=j.useMemo(()=>{if(!b||!w)return[];const D=[];return b.forEach((B,$)=>{const z=w[$];B.network==="multi"?[{network:"bitcoin",symbol:"BTC"},{network:"ethereum",symbol:"ETH"},{network:"polygon",symbol:"MATIC"},{network:"bsc",symbol:"BNB"},{network:"tron",symbol:"TRX"},{network:"base",symbol:"BASE"},{network:"solana",symbol:"SOL"},{network:"litecoin",symbol:"LTC"},{network:"dogecoin",symbol:"DOGE"},{network:"cardano",symbol:"ADA"},{network:"avalanche",symbol:"AVAX"},{network:"polkadot",symbol:"DOT"},{network:"chainlink",symbol:"LINK"},{network:"shiba",symbol:"SHIB"},{network:"xrp",symbol:"XRP"}].forEach(({network:re,symbol:F})=>{const X=A[re]||"";D.push({id:`${B.id}-${re}`,walletId:B.id,symbol:F,network:re,address:X,balance:z?.data?.balance?Number(z.data.balance):0,balanceUSD:z?.data?.balance_usd?Number(z.data.balance_usd):0})}):D.push({id:B.id,walletId:B.id,symbol:B.symbol||B.network.toUpperCase(),network:B.network,address:B.address||"",balance:z?.data?.balance?Number(z.data.balance):0,balanceUSD:z?.data?.balance_usd?Number(z.data.balance_usd):0})}),D.sort((B,$)=>Number($.balance)-Number(B.balance))},[b,w,A]);j.useEffect(()=>{if(C.length>0&&u>=C.length){const D=Math.max(C.findIndex(B=>B.network===a),0);h(D)}},[C,a]);const T=(D,B)=>{navigator.clipboard.writeText(D).then(()=>Te.success(B)).catch(()=>Te.error("Erro ao copiar"))},I=D=>D==="Alta"?"text-xs text-yellow-600 dark:text-opacity-80":D==="Mnima"?"text-xs text-green-600 dark:text-opacity-80":"text-xs text-gray-600 dark:text-opacity-80",R=C[u]?.address||"",O=j.useMemo(()=>{const D=new Map;return C.forEach(B=>{if(g[B.network]&&!D.has(B.symbol)){const $={symbol:B.symbol,network:B.network},K={USDT:{name:"Tether",isStablecoin:!0},USDC:{name:"USD Coin",isStablecoin:!0},BTC:{name:"Bitcoin",isStablecoin:!1},ETH:{name:"Ethereum",isStablecoin:!1},BNB:{name:"Binance",isStablecoin:!1},MATIC:{name:"Polygon",isStablecoin:!1},TRX:{name:"Tron",isStablecoin:!1},ADA:{name:"Cardano",isStablecoin:!1},SOL:{name:"Solana",isStablecoin:!1},LINK:{name:"Chainlink",isStablecoin:!1},LTC:{name:"Litecoin",isStablecoin:!1},DOGE:{name:"Dogecoin",isStablecoin:!1},BASE:{name:"Base",isStablecoin:!1},AVAX:{name:"Avalanche",isStablecoin:!1},DOT:{name:"Polkadot",isStablecoin:!1},SHIB:{name:"Shiba Inu",isStablecoin:!1},XRP:{name:"XRP",isStablecoin:!1}}[B.symbol]||{name:B.symbol,isStablecoin:!1};if(B.symbol==="USDT"&&!p.usdt||B.symbol==="USDC"&&!p.usdc)return;D.set(B.symbol,{...$,...K})}}),Array.from(D.values())},[C,g,p]),P=j.useMemo(()=>{const D=new Map;return C.forEach($=>{if(g[$.network]&&!D.has($.network)){const K={polygon:{name:"Polygon",icon:"MATIC",fee:"Mnima"},tron:{name:"Tron (TRC-20)",icon:"TRX",fee:"Mnima"},base:{name:"Base (L2)",icon:"ETH",fee:"Mnima"},bsc:{name:"BSC (BEP-20)",icon:"BNB",fee:"Baixa"},ethereum:{name:"Ethereum (ERC-20)",icon:"ETH",fee:"Alta"},bitcoin:{name:"Bitcoin",icon:"BTC",fee:"Varivel"},cardano:{name:"Cardano",icon:"ADA",fee:"Mnima"},solana:{name:"Solana",icon:"SOL",fee:"Mnima"},litecoin:{name:"Litecoin",icon:"LTC",fee:"Varivel"},dogecoin:{name:"Dogecoin",icon:"DOGE",fee:"Varivel"},avalanche:{name:"Avalanche",icon:"AVAX",fee:"Baixa"},polkadot:{name:"Polkadot",icon:"DOT",fee:"Varivel"},chainlink:{name:"Chainlink",icon:"LINK",fee:"Alta"},shiba:{name:"Shiba Inu",icon:"SHIB",fee:"Varivel"},xrp:{name:"XRP",icon:"XRP",fee:"Mnima"}}[$.network]||{name:$.network,icon:$.symbol,fee:"Desconhecida"};D.set($.network,{network:$.network,...K})}}),Array.from(D.values()).sort(($,z)=>{const K={Mnima:0,Baixa:1,Varivel:2,Alta:3,Desconhecida:4};return(K[$.fee]||4)-(K[z.fee]||4)})},[C,g]),G=D=>{r(D.symbol),l(D.network);const B=Math.max(C.findIndex($=>$.network===D.network),0);console.log("Token selecionado:",D.symbol,"Rede:",D.network,"Index:",B),console.log("Carteiras disponveis:",C),h(B)},Q=D=>{l(D);const B=Math.max(C.findIndex($=>$.network===D),0);console.log("Rede selecionada:",D,"Index:",B),console.log("Carteiras disponveis:",C),h(B)};return C.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ga,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Nenhuma carteira disponvel"})]}):(console.log(" Estado ReceivePage:",{selectedToken:n,selectedNetwork:a,selectedWalletIndex:u,carteirasTotal:C.length,enderecoAtual:R,carteiraSelecionada:C[u],todasAsCarteiras:C}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"mb-4",children:e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-green-500 to-emerald-600 rounded-xl flex items-center justify-center",children:e.jsx(ds,{className:"w-5 h-5 text-white"})}),"Receber Criptomoeda"]})}),e.jsx("div",{className:"bg-gradient-to-br from-blue-600 to-purple-600 rounded-xl shadow-lg p-6 text-white",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx("p",{className:"text-sm font-medium text-blue-100 mb-4",children:"Escaneie para enviar"}),R?e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"bg-white rounded-xl p-4 shadow-lg",children:e.jsx(r0,{value:R,size:180,level:"H",className:"w-full h-auto"})}),e.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:e.jsx("div",{className:"bg-white rounded-full p-2 shadow-lg",children:e.jsx(or,{symbol:n,size:44})})})]}):e.jsx("div",{className:"w-48 h-48 bg-gray-200 rounded-lg flex items-center justify-center",children:e.jsx(ga,{className:"w-12 h-12 text-gray-400"})})]}),e.jsxs("div",{className:"flex flex-col justify-center space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-100 text-xs mb-1 uppercase font-semibold",children:"Recebendo"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(or,{symbol:n,size:32}),e.jsxs("div",{children:[e.jsx("p",{className:"text-3xl font-bold",children:n}),e.jsxs("p",{className:"text-xs text-blue-200",children:["via ",a.toUpperCase()]})]})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-100 text-xs mb-2 uppercase font-semibold",children:"Seu Endereo"}),e.jsxs("div",{className:"flex items-center gap-2 bg-white bg-opacity-20 rounded-lg p-3 backdrop-blur-sm",children:[e.jsx("input",{type:"text",value:R||"Carregando...",readOnly:!0,"aria-label":`Endereo para receber ${n}`,className:"flex-1 bg-transparent text-white text-xs font-mono outline-none placeholder-blue-200 truncate"}),e.jsx("button",{onClick:()=>R&&T(R,"Endereo copiado!"),className:"p-2 bg-white bg-opacity-30 hover:bg-opacity-40 rounded-lg transition-all flex-shrink-0","aria-label":"Copiar endereo",children:e.jsx(Fr,{className:"w-4 h-4"})})]})]}),e.jsx("div",{className:"pt-2 border-t border-white border-opacity-20",children:e.jsxs("span",{className:"inline-block px-3 py-1 bg-white bg-opacity-20 rounded-full text-xs font-medium",children:[a==="ethereum"&&"ERC-20",a==="bsc"&&"BEP-20",a==="polygon"&&"Polygon",a==="tron"&&"TRC-20",a==="base"&&"Base L2",a==="bitcoin"&&"BTC Native"]})})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-4",children:[e.jsxs("div",{className:"text-xs font-bold text-gray-700 dark:text-gray-300 mb-3 block uppercase tracking-wider",children:["Selecionar Token (",O.length,")"]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2 max-h-96 overflow-y-auto",children:O.map(D=>e.jsxs("button",{onClick:()=>G(D),className:`flex flex-col items-center gap-1 p-2 rounded-lg border-2 transition-all text-center ${n===D.symbol?"border-blue-500 bg-blue-50 dark:bg-blue-900/30":"border-gray-200 dark:border-gray-700 hover:border-blue-300 dark:hover:border-blue-600"}`,children:[e.jsx(or,{symbol:D.symbol,size:20}),e.jsx("span",{className:"text-xs font-bold text-gray-900 dark:text-white",children:D.symbol}),e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:D.name})]},D.symbol))})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-4",children:[e.jsxs("div",{className:"text-xs font-bold text-gray-700 dark:text-gray-300 mb-3 block uppercase tracking-wider",children:["Rede Blockchain (",P.length,")"]}),e.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:P.map(({network:D,name:B,icon:$,fee:z})=>e.jsx("button",{onClick:()=>Q(D),className:`w-full flex items-center justify-between gap-2 p-2 rounded-lg border-2 transition-all text-left ${a===D?"border-green-500 bg-green-50 dark:bg-green-900/30":"border-gray-200 dark:border-gray-700 hover:border-green-300 dark:hover:border-green-600"}`,children:e.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[e.jsx(or,{symbol:$,size:16}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-xs font-bold text-gray-900 dark:text-white truncate",children:B}),e.jsx("p",{className:I(z),children:z})]})]})},D))})]})]}),e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border-l-4 border-red-600 dark:border-red-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(rt,{className:"w-5 h-5 text-red-600 dark:text-red-400 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-bold text-red-900 dark:text-red-100 mb-2",children:" ATENO CRTICA!"}),e.jsxs("ul",{className:"text-xs text-red-800 dark:text-red-200 space-y-1.5",children:[e.jsxs("li",{children:[" ",e.jsx("strong",{children:"Rede errada = perda total!"})," Confirme que o remetente envia pela rede ",a.toUpperCase()]}),e.jsxs("li",{children:[" ",e.jsx("strong",{children:"Verifique endereo:"})," Confira cada caractere antes de compartilhar"]}),e.jsxs("li",{children:[" ",e.jsx("strong",{children:"Nunca compartilhe:"})," suas chaves privadas com ningum"]}),e.jsxs("li",{children:[" ",e.jsx("strong",{children:"Teste pequeno:"})," Pea transferncia de $1 como teste para quantias grandes"]})]})]})]})})]}))},d2=n=>{const[r,a]=j.useState([]),[l,u]=j.useState(!1),[h,g]=j.useState(null),[p,b]=j.useState(0),[f,w]=j.useState(0),v=j.useRef(!0),{isAuthenticated:k,user:A}=Vt(),C=n?.limit||20,T=j.useCallback(async(Q=0,D=!1)=>{if(!(!k||!A||!v.current)){u(!0),g(null);try{console.log("Loading transactions...",{offset:Q,filters:n});let B;n?.wallet_id?(console.log("Fetching real blockchain transactions for wallet:",n.wallet_id),B=await Va.getWalletBlockchainTransactions(n.wallet_id,n.network,C)):B=await Va.getTransactions({...n,offset:Q,limit:C}),console.log("Transactions loaded:",B),a(D?$=>[...$,...B.transactions]:B.transactions),b(B.total_count),w(Q)}catch(B){console.error("Error loading transactions:",B),g(B.message||"Erro ao carregar transaes")}finally{u(!1)}}},[k,A,n,C]),I=j.useCallback(async()=>{await T(0,!1)},[T]),R=j.useCallback(async()=>{const Q=f+C;Q<p&&await T(Q,!0)},[f,C,p,T]),O=j.useCallback(async Q=>{u(!0),g(null);try{console.log("Syncing wallet transactions:",Q);const D=await Va.syncWalletTransactions(Q);console.log("Sync result:",D),await I()}catch(D){throw console.error("Error syncing transactions:",D),g(D.message||"Erro ao sincronizar transaes"),D}finally{u(!1)}},[I]),P=j.useCallback(()=>{g(null)},[]),G=f+C<p;return j.useEffect(()=>{let Q=!0;return v.current=!0,(async()=>{k&&A&&Q&&await T(0,!1)})(),()=>{Q=!1,v.current=!1}},[k,A]),{transactions:r,isLoading:l,error:h,totalCount:p,refreshTransactions:I,syncWalletTransactions:O,loadMore:R,clearError:P,hasMore:G}},pn=10,u2=(n,r,a)=>{const l=`RELATRIO DE TRANSAES - HOLDWALLET
ID da Carteira,${r}
Endereo Principal,${a}
Data do Relatrio,${new Date().toLocaleString("pt-BR")}
Total de Transaes,${n.length}

`,u=["Data","Tipo","Moeda","Valor","Taxa","Status","Rede","Hash","De","Para"],h=n.map(p=>[new Date(p.created_at).toLocaleString("pt-BR"),p.to_address.toLowerCase()===a.toLowerCase()?"Recebido":"Enviado",p.token_symbol||p.network.toUpperCase(),p.amount,p.fee||"0",p.status,p.network,p.hash,p.from_address,p.to_address]);return l+[u,...h].map(p=>p.map(b=>`"${b}"`).join(",")).join(`
`)},h2=(n,r,a)=>{const l={export_date:new Date().toISOString(),wallet_id:r,wallet_address:a,total_transactions:n.length,transactions:n.map(u=>({date:u.created_at,type:u.to_address.toLowerCase()===a.toLowerCase()?"received":"sent",symbol:u.token_symbol||u.network.toUpperCase(),amount:u.amount,fee:u.fee,status:u.status,network:u.network,hash:u.hash,from:u.from_address,to:u.to_address}))};return JSON.stringify(l,null,2)},m2=n=>{const r=new Date,a=new Date;switch(n){case"7d":a.setDate(r.getDate()-7);break;case"30d":a.setMonth(r.getMonth()-1);break;case"90d":a.setMonth(r.getMonth()-3);break;case"all":a.setFullYear(1970);break}return{start:a,end:r}},g2=(n,r,a)=>`
    <!DOCTYPE html>
    <html>
    <head>
      <meta charset="UTF-8">
      <title>Relatrio de Transaes</title>
      <style>
        body { font-family: Arial, sans-serif; margin: 20px; color: #333; }
        h1 { color: #2563eb; border-bottom: 2px solid #2563eb; padding-bottom: 10px; }
        .header { background-color: #f3f4f6; padding: 15px; border-radius: 8px; margin-bottom: 20px; }
        .header-item { margin: 8px 0; font-size: 14px; }
        .header-label { font-weight: bold; color: #1f2937; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th { background-color: #2563eb; color: white; padding: 12px; text-align: left; font-weight: bold; }
        td { padding: 10px; border-bottom: 1px solid #e5e7eb; }
        tr:nth-child(even) { background-color: #f9fafb; }
        .received { color: #059669; font-weight: bold; }
        .sent { color: #dc2626; font-weight: bold; }
        .footer { margin-top: 30px; text-align: center; color: #6b7280; font-size: 12px; }
        .summary { background-color: #f0fdf4; padding: 15px; border-radius: 8px; margin-top: 20px; border-left: 4px solid #059669; }
      </style>
    </head>
    <body>
      <h1>Relatrio de Transaes - HOLDWallet</h1>
      
      <div class="header">
        <div class="header-item">
          <span class="header-label">ID da Carteira:</span> ${r}
        </div>
        <div class="header-item">
          <span class="header-label">Endereo Principal:</span> ${a}
        </div>
        <div class="header-item">
          <span class="header-label">Data do Relatrio:</span> ${new Date().toLocaleString("pt-BR")}
        </div>
        <div class="header-item">
          <span class="header-label">Total de Transaes:</span> ${n.length}
        </div>
      </div>

      <table>
        <thead>
          <tr>
            <th>Data</th>
            <th>Tipo</th>
            <th>Moeda</th>
            <th>Valor</th>
            <th>Taxa</th>
            <th>Status</th>
            <th>Rede</th>
            <th>Hash</th>
          </tr>
        </thead>
        <tbody>
          ${n.map(u=>`
            <tr>
              <td>${new Date(u.created_at).toLocaleString("pt-BR")}</td>
              <td class="${a.toLowerCase()===u.to_address.toLowerCase()?"received":"sent"}">
                ${a.toLowerCase()===u.to_address.toLowerCase()?"Recebido":"Enviado"}
              </td>
              <td>${u.token_symbol||u.network.toUpperCase()}</td>
              <td>${u.amount}</td>
              <td>${u.fee||"-"}</td>
              <td>${u.status}</td>
              <td>${u.network}</td>
              <td style="font-size: 12px; font-family: monospace;">${u.hash.slice(0,10)}...${u.hash.slice(-8)}</td>
            </tr>
          `).join("")}
        </tbody>
      </table>

      <div class="summary">
        <strong>Resumo:</strong> Relatrio gerado automaticamente pelo HOLDWallet em ${new Date().toLocaleString("pt-BR")}
      </div>

      <div class="footer">
        <p> 2025 HOLDWallet - Todos os direitos reservados</p>
        <p>Este  um documento eletrnico de carter informativo</p>
      </div>
    </body>
    </html>
  `,f2={bitcoin:"https://blockstream.info/tx",ethereum:"https://etherscan.io/tx",polygon:"https://polygonscan.com/tx",bsc:"https://bscscan.com/tx",tron:"https://tronscan.org/#/transaction",base:"https://basescan.org/tx",avalanche:"https://snowtrace.io/tx",solana:"https://solscan.io/tx",litecoin:"https://blockstream.info/ltc/tx",dogecoin:"https://blockchair.com/dogecoin/transaction",cardano:"https://cardanoscan.io/transaction",polkadot:"https://polkascan.io/polkadot/transaction",xrp:"https://xrpscan.com/tx"},x2=n=>{switch(n){case"confirmed":return e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400",children:[e.jsx(Pe,{className:"w-3 h-3"}),"Confirmado"]});case"pending":return e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400",children:[e.jsx(Et,{className:"w-3 h-3"}),"Pendente"]});case"failed":return e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400",children:[e.jsx(rt,{className:"w-3 h-3"}),"Falhou"]});default:return null}},p2=({tx:n,walletAddresses:r,copyToClipboard:a,openExplorer:l})=>{const u=r.some(g=>g.toLowerCase()===n.to_address.toLowerCase()),h=Number.parseFloat(n.amount);return e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-6 gap-2 sm:gap-3 p-3 sm:p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors items-center",children:[e.jsx("div",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:new Date(n.created_at).toLocaleDateString("pt-BR")}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0 ${u?"bg-green-100 dark:bg-green-900/30":"bg-blue-100 dark:bg-blue-900/30"}`,children:u?e.jsx(Sd,{className:"w-3 h-3 text-green-600 dark:text-green-400"}):e.jsx(ws,{className:"w-3 h-3 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(or,{symbol:n.token_symbol||n.network.toUpperCase(),size:20}),e.jsx("span",{className:"text-xs sm:text-sm font-medium text-gray-900 dark:text-white truncate",children:n.token_symbol||n.network.toUpperCase()})]})]}),e.jsxs("div",{className:`text-xs sm:text-sm font-semibold text-right ${u?"text-green-600 dark:text-green-400":"text-gray-900 dark:text-white"}`,children:[u?"+":"-",h.toFixed(4)]}),e.jsx("div",{className:"hidden sm:block",children:x2(n.status)}),e.jsx("div",{className:"hidden md:block text-xs text-gray-600 dark:text-gray-400 text-center",children:n.network}),e.jsxs("div",{className:"flex justify-end gap-1",children:[e.jsx("button",{onClick:()=>a(n.hash),className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors",title:"Copiar hash",children:e.jsx(Fr,{className:"w-3.5 h-3.5 text-gray-500 dark:text-gray-400"})}),e.jsx("button",{onClick:()=>l(n.hash,n.network),className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors",title:"Abrir no explorer",children:e.jsx(Ro,{className:"w-3.5 h-3.5 text-gray-500 dark:text-gray-400"})})]})]})},b2=()=>{const[n,r]=j.useState(""),[a,l]=j.useState("all"),[u,h]=j.useState("all"),[g,p]=j.useState("recent"),[b,f]=j.useState("all"),[w,v]=j.useState(""),[k,A]=j.useState(""),[C,T]=j.useState(!1),[I,R]=j.useState(1),[O,P]=j.useState(!1),{wallets:G}=tn(),Q=j.useMemo(()=>{if(!G||G.length===0)return;const ie=G[0];return ie?String(ie.id):void 0},[G]),{transactions:D,isLoading:B,error:$,refreshTransactions:z}=d2({wallet_id:Q||"",limit:100});j.useEffect(()=>{if(!Q)return;const ie=setInterval(()=>{z()},3e4);return()=>clearInterval(ie)},[z,Q]);const K=j.useMemo(()=>G?G.filter(ie=>ie?.first_address).map(ie=>String(ie.first_address)):[],[G]),re=j.useMemo(()=>{let ie=D||[];a!=="all"&&(ie=ie.filter(le=>{const de=K.some(ge=>ge.toLowerCase()===le.to_address.toLowerCase());return a==="send"?!de:a==="receive"?de:a==="pending"?le.status==="pending":!0})),u!=="all"&&(ie=ie.filter(le=>le.network===u));let je=null,se=null;if(b==="custom")w&&(je=new Date(w)),k&&(se=new Date(k));else if(b!=="all"){const le=m2(b);je=le.start,se=le.end}if((je||se)&&(ie=ie.filter(le=>{const de=new Date(le.created_at);return!(je&&de<je||se&&de>se)})),n){const le=n.toLowerCase();ie=ie.filter(de=>de.hash.toLowerCase().includes(le)||de.from_address.toLowerCase().includes(le)||de.to_address.toLowerCase().includes(le))}return ie.sort((le,de)=>{const ge=new Date(le.created_at).getTime(),Ce=new Date(de.created_at).getTime(),Ie=Number.parseFloat(le.amount),fe=Number.parseFloat(de.amount);switch(g){case"recent":return Ce-ge;case"oldest":return ge-Ce;case"highest":return fe-Ie;case"lowest":return Ie-fe;default:return 0}}),ie},[D,a,u,n,g,K,b,w,k]),F=j.useMemo(()=>Array.from(new Set(D?.map(ie=>ie.network)||[])),[D]),X=ie=>{navigator.clipboard.writeText(ie),Te.success("Copiado!")},ae=(ie,je)=>{const se=f2[je];se&&window.open(`${se}/${ie}`,"_blank")};if(!Q)return e.jsxs("div",{className:"text-center py-12",children:[e.jsx(rt,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Nenhuma carteira disponvel"})]});const H=ie=>{if(!Q||!K[0])return;let je="",se="",le="";const de=K[0];ie==="csv"?(je=u2(re,Q,de),se=`transacoes-${new Date().toISOString().split("T")[0]}.csv`,le="text/csv"):ie==="json"?(je=h2(re,Q,de),se=`transacoes-${new Date().toISOString().split("T")[0]}.json`,le="application/json"):ie==="pdf"&&(je=g2(re,Q,de),se=`transacoes-${new Date().toISOString().split("T")[0]}.html`,le="text/html");const ge=new Blob([je],{type:le}),Ce=globalThis.URL.createObjectURL(ge),Ie=document.createElement("a");Ie.href=Ce,Ie.download=se,document.body.appendChild(Ie),Ie.click(),globalThis.URL.revokeObjectURL(Ce),Ie.remove(),Te.success(`Relatrio ${ie.toUpperCase()} baixado!`),P(!1)},ve=Math.ceil(re.length/pn),me=re.slice((I-1)*pn,I*pn);return e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white",children:"Transaes"}),e.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 mt-1",children:["Total: ",re.length," transaes"]})]}),e.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[e.jsxs("button",{onClick:()=>z(),disabled:B,className:"flex items-center justify-center gap-2 px-3 sm:px-4 py-2 bg-blue-500 hover:bg-blue-600 disabled:opacity-50 text-white rounded-lg transition-colors text-sm",children:[e.jsx(Ws,{className:`w-4 h-4 ${B?"animate-spin":""}`}),e.jsx("span",{className:"hidden sm:inline",children:"Atualizar"})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>P(!O),className:"flex items-center justify-center gap-2 px-3 sm:px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg transition-colors text-sm",children:[e.jsx(ds,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Relatrio"})]}),O&&e.jsxs("div",{className:"absolute right-0 mt-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg shadow-lg z-10 min-w-[140px]",children:[e.jsxs("button",{onClick:()=>H("csv"),className:"block w-full text-left px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 text-sm text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(Cr,{className:"w-4 h-4"}),"CSV"]}),e.jsxs("button",{onClick:()=>H("json"),className:"block w-full text-left px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 text-sm text-gray-900 dark:text-white border-t border-gray-300 dark:border-gray-700 flex items-center gap-2",children:[e.jsx(Jf,{className:"w-4 h-4"}),"JSON"]}),e.jsxs("button",{onClick:()=>H("pdf"),className:"block w-full text-left px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 text-sm text-gray-900 dark:text-white border-t border-gray-300 dark:border-gray-700 flex items-center gap-2",children:[e.jsx(rx,{className:"w-4 h-4"}),"PDF"]})]})]})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(us,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Buscar hash ou endereo...",value:n,onChange:ie=>r(ie.target.value),className:"w-full pl-10 pr-4 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:()=>T(!C),className:"flex items-center gap-2 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors text-sm",children:[e.jsx(Jn,{className:"w-4 h-4"}),"Filtros",e.jsx(Fs,{className:`w-4 h-4 transition-transform ${C?"rotate-180":""}`})]}),C&&e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-lg",children:[e.jsxs("select",{title:"Filtrar por tipo",value:a,onChange:ie=>l(ie.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-sm",children:[e.jsx("option",{value:"all",children:"Todos os tipos"}),e.jsx("option",{value:"send",children:"Enviados"}),e.jsx("option",{value:"receive",children:"Recebidos"}),e.jsx("option",{value:"pending",children:"Pendentes"})]}),e.jsxs("select",{title:"Filtrar por rede",value:u,onChange:ie=>h(ie.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-sm",children:[e.jsx("option",{value:"all",children:"Todas as redes"}),F.map(ie=>e.jsx("option",{value:ie,children:ie.charAt(0).toUpperCase()+ie.slice(1)},ie))]}),e.jsxs("select",{title:"Filtrar por perodo",value:b,onChange:ie=>{f(ie.target.value),R(1)},className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-sm",children:[e.jsx("option",{value:"all",children:"Todos os perodos"}),e.jsx("option",{value:"7d",children:"ltimos 7 dias"}),e.jsx("option",{value:"30d",children:"ltimos 30 dias"}),e.jsx("option",{value:"90d",children:"ltimos 90 dias"}),e.jsx("option",{value:"custom",children:"Perodo customizado"})]}),e.jsxs("select",{title:"Ordenar por",value:g,onChange:ie=>p(ie.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-sm",children:[e.jsx("option",{value:"recent",children:"Mais recente"}),e.jsx("option",{value:"oldest",children:"Mais antigo"}),e.jsx("option",{value:"highest",children:"Maior valor"}),e.jsx("option",{value:"lowest",children:"Menor valor"})]}),b==="custom"&&e.jsx("input",{type:"date",title:"Data inicial",placeholder:"Data inicial",value:w,onChange:ie=>{v(ie.target.value),R(1)},className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-sm"}),b==="custom"&&e.jsx("input",{type:"date",title:"Data final",placeholder:"Data final",value:k,onChange:ie=>{A(ie.target.value),R(1)},className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-sm"})]})]}),$&&e.jsx("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:e.jsx("p",{className:"text-red-800 dark:text-red-400 text-sm",children:$})}),B&&e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(hr,{className:"w-8 h-8 animate-spin text-blue-500"})}),!B&&re.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(rt,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:n||a!=="all"||u!=="all"||b!=="all"?"Nenhuma transao encontrada com esses filtros":"Nenhuma transao ainda"})]}),!B&&me.length>0&&e.jsx("div",{className:"space-y-2 sm:space-y-3",children:me.map(ie=>e.jsx(p2,{tx:ie,walletAddresses:K,copyToClipboard:X,openExplorer:ae},ie.id))}),!B&&re.length>pn&&e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-lg",children:[e.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:["Pgina ",I," de ",ve,"  ",re.length," transaes"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>R(Math.max(1,I-1)),disabled:I===1,className:"px-3 py-1 border border-gray-300 dark:border-gray-600 rounded text-sm hover:bg-gray-100 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:" Anterior"}),Array.from({length:ve}).map((ie,je)=>{const se=je+1;return!(Math.abs(se-I)<=1||se===1||se===ve)&&je!==1&&je!==ve-2?null:je===1&&I>3?e.jsx("span",{className:"px-2 py-1",children:"..."},"dots-start"):e.jsx("button",{onClick:()=>{R(se),window.scrollTo({top:0,behavior:"smooth"})},className:`px-3 py-1 rounded text-sm transition-colors ${I===se?"bg-blue-500 text-white":"border border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:se},se)}),ve>3&&I<ve-2&&e.jsx("span",{className:"px-2 py-1",children:"..."}),e.jsx("button",{onClick:()=>R(Math.min(ve,I+1)),disabled:I===ve,className:"px-3 py-1 border border-gray-300 dark:border-gray-600 rounded text-sm hover:bg-gray-100 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Prximo "})]})]}),!B&&re.length>0&&e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:["Atualizado em ",new Date().toLocaleTimeString("pt-BR")]})]})};class y2{async validateAddress(r){try{console.log("[SendService] Validating address:",{address:r.address,network:r.network});const a=await Ne.post("/wallets/validate-address",r);return console.log("[SendService] Validation response:",a.data),a.data}catch(a){throw console.error("[SendService] Validation error:",{message:a.message,response:a.response?.data,status:a.response?.status}),new Error(a.response?.data?.detail||"Falha ao validar endereo")}}async estimateFee(r){try{console.log("[SendService] Estimating fees:",{wallet_id:r.wallet_id,to_address:r.to_address,amount:r.amount,network:r.network});const a=await Ne.post("/wallets/estimate-fee",r);return console.log("[SendService] Fee estimation response:",a.data),a.data}catch(a){throw console.error("[SendService] Fee estimation error:",{message:a.message,response:a.response?.data,status:a.response?.status}),new Error(a.response?.data?.detail||"Falha ao estimar taxas")}}async sendTransaction(r){try{console.log("[SendService] Sending transaction:",{wallet_id:r.wallet_id,to_address:r.to_address,amount:r.amount,network:r.network,fee_level:r.fee_level,mode:r.mode||"custodial",has_2fa_token:!!r.two_factor_token,token_length:r.two_factor_token?.length,token_value:r.two_factor_token}),console.log("[SendService] Full request data:",r);const a=await Ne.post("/wallets/send",{...r,mode:r.mode||"custodial"});return console.log("[SendService] Transaction response:",{success:a.data.success,tx_hash:a.data.tx_hash,status:a.data.status}),a.data}catch(a){throw console.error("[SendService] Transaction error:",{message:a.message,response:a.response?.data,status:a.response?.status}),new Error(a.response?.data?.detail||"Falha ao enviar transao")}}async sendCustodial(r){return this.sendTransaction({...r,mode:"custodial"})}async sendNonCustodial(r){return this.sendTransaction({...r,mode:"non-custodial"})}async getTransactionStatus(r){return(await Ne.get(`/transactions/${r}/status`)).data}}const Oi=new y2;function w2(n){const[r,a]=j.useState(null),[l,u]=j.useState(null),h=ht({mutationFn:k=>Oi.validateAddress(k),onSuccess:k=>{console.log("[useSendTransaction] Address validation success:",k),a(k)},onError:k=>{console.error("[useSendTransaction] Address validation failed:",k),a(null)}}),g=ht({mutationFn:k=>Oi.estimateFee(k),onSuccess:k=>{console.log("[useSendTransaction] Fee estimation success:",k),u(k)},onError:k=>{console.error("[useSendTransaction] Fee estimation failed:",k),u(null)}}),p=ht({mutationFn:k=>Oi.sendTransaction(k),onSuccess:k=>{console.log("[useSendTransaction] Transaction success:",k),n?.onSuccess?.(k)},onError:k=>{console.error("[useSendTransaction] Transaction failed:",k),n?.onError?.(k)}}),b=j.useCallback((k,A)=>{h.mutate({address:k,network:A})},[h]),f=j.useCallback((k,A,C,T)=>{g.mutate({wallet_id:k,to_address:A,amount:C,network:T})},[g]),w=j.useCallback(k=>{p.mutate(k)},[p]),v=j.useCallback(()=>{a(null),u(null),h.reset(),g.reset(),p.reset()},[h,g,p]);return{validateAddress:b,validationResult:r,isValidating:h.isPending,validationError:h.error,estimateFee:f,feeEstimates:l,isEstimatingFee:g.isPending,feeEstimationError:g.error,sendTransaction:w,sendResult:p.data,isSending:p.isPending,sendError:p.error,sendSuccess:p.isSuccess,reset:v,isLoading:h.isPending||g.isPending||p.isPending}}async function v2(){return(await Ne.get("/auth/2fa/status")).data}function N2(){return Hr({queryKey:["2fa-status"],queryFn:v2,staleTime:5*60*1e3,retry:1})}const k2=n=>{const[r,a]=j.useState(null),[l,u]=j.useState(!1),[h,g]=j.useState(null),{prices:p,loading:b,error:f}=Ja([n],"usd");return j.useEffect(()=>{if(b){u(!0);return}if(u(!1),f){const v=f instanceof Error?f.message:String(f);g(v),a(0);return}const w=p[n.toUpperCase()];w?(a(w.change_24h||0),g(null)):(g(`Moeda no suportada: ${n}`),a(0))},[p,b,f,n]),{change24h:r,isLoading:l,error:h}},j2=n=>{const[r,a]=j.useState({}),[l,u]=j.useState(!1),[h,g]=j.useState(null),p=[...n].sort((k,A)=>k.localeCompare(A)),b=JSON.stringify(p),{prices:f,loading:w,error:v}=Ja(n,"usd");return j.useEffect(()=>{if(w){u(!0);return}if(u(!1),v){const A=v instanceof Error?v.message:String(v);g(A),a({});return}const k={};for(const A of n){const C=A.toUpperCase(),T=f[C];T&&(k[C]=T.change_24h||0)}a(k),g(null)},[f,w,v,b]),{changes:r,isLoading:l,error:h}},C2=["BTC","ETH","MATIC","BNB","TRX","BASE","SOL","LTC","DOGE","ADA","AVAX","DOT","LINK","SHIB","XRP","USDT","USDC"],S2=()=>{const[n,r]=j.useState(!0),[a,l]=j.useState("overview"),{formatCurrency:u,currency:h}=en();w2({onSuccess:X=>{Te.success(e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Transao enviada com sucesso!"}),e.jsxs("p",{className:"text-xs",children:["TX: ",X.tx_hash?.slice(0,10),"..."]})]}),{duration:5e3}),l("transactions")},onError:X=>{Te.error(X.message)}});const{wallets:g,isLoading:p,error:b}=tn(),{data:f}=N2();j.useEffect(()=>{console.log("[WalletPage] 2FA Status:",f)},[f]);const{prices:w}=Vd(C2);j.useEffect(()=>{w&&Object.keys(w).length>0&&console.log("[WalletPage] marketPrices updated:",Object.keys(w))},[w]);const v=j.useMemo(()=>g?.map(X=>String(X.id))||[],[g]),k=ri(v),[A,C]=j.useState(()=>{const X=localStorage.getItem("wallet_network_preferences"),ae={bitcoin:!0,ethereum:!0,polygon:!0,bsc:!0,tron:!0,base:!0,solana:!0,litecoin:!0,dogecoin:!0,cardano:!0,avalanche:!0,polkadot:!0,chainlink:!0,shiba:!0,xrp:!0};if(X){const H=JSON.parse(X);return{...ae,...H}}return ae}),[T,I]=j.useState(()=>{const X=localStorage.getItem("wallet_token_preferences"),ae={usdt:!0,usdc:!0};if(X){const H=JSON.parse(X);return{...ae,...H}}return ae}),[R,O]=j.useState(()=>{const X=localStorage.getItem("wallet_show_all_networks");return X!==null?X==="true":!0}),P=j.useMemo(()=>{const X=[];return g.forEach((ae,H)=>{const me=k[H]?.data||{};if(ae.network==="multi"){const ie=[{network:"bitcoin",symbol:"BTC",color:"from-orange-400 to-orange-600"},{network:"ethereum",symbol:"ETH",color:"from-blue-400 to-purple-600"},{network:"polygon",symbol:"MATIC",color:"from-purple-400 to-purple-600"},{network:"bsc",symbol:"BNB",color:"from-yellow-400 to-yellow-600"},{network:"tron",symbol:"TRX",color:"from-red-400 to-red-600"},{network:"base",symbol:"BASE",color:"from-blue-500 to-blue-700"},{network:"solana",symbol:"SOL",color:"from-purple-500 to-pink-500"},{network:"litecoin",symbol:"LTC",color:"from-gray-400 to-gray-600"},{network:"dogecoin",symbol:"DOGE",color:"from-yellow-300 to-yellow-500"},{network:"cardano",symbol:"ADA",color:"from-blue-500 to-blue-700"},{network:"avalanche",symbol:"AVAX",color:"from-red-500 to-red-700"},{network:"polkadot",symbol:"DOT",color:"from-pink-500 to-pink-700"},{network:"chainlink",symbol:"LINK",color:"from-blue-600 to-blue-800"},{network:"shiba",symbol:"SHIB",color:"from-orange-500 to-red-500"},{network:"xrp",symbol:"XRP",color:"from-gray-600 to-gray-800"}];(R?ie:ie.filter(se=>A[se.network])).forEach(({network:se,symbol:le,color:de})=>{const ge=me[se],Ce=ge?Number.parseFloat(ge.balance||"0"):0,fe=w[le.toUpperCase()]?.price||Number.parseFloat(ge?.balance_usd||"0"),ye=Ce*fe,Re=se==="base"?` (${le} - Base)`:` (${le})`;X.push({id:`${ae.id}-${se}`,walletId:ae.id,name:`${ae.name}${Re}`,symbol:le,network:se,balance:Ce,balanceUSD:ye,balanceBRL:ye,change24h:0,color:de,address:""})});for(const[se,le]of Object.entries(me)){const de=String(se).toLowerCase(),ge=de.match(/^([a-z0-9]+)_(usdt|usdc)$/);if(console.log(`[WalletPage] Checking key: ${se} (${de}), match: ${ge?"YES":"NO"}`),ge&&ge.length>=3){const Ce=ge[1],fe=ge[2].toUpperCase();if(console.log(`[WalletPage] Found token: ${fe} on network: ${Ce}`),fe==="USDT"&&!T.usdt){console.log("[WalletPage] USDT disabled, skipping");continue}if(fe==="USDC"&&!T.usdc){console.log("[WalletPage] USDC disabled, skipping");continue}const ye=le?.balance?Number.parseFloat(le.balance):0,ue=w[fe]?.price||0,ce=ye*ue;console.log(`[WalletPage] Adding token: ${fe}, balance=${ye}, price=${ue}`);const ke=fe==="USDT"?"from-green-400 to-green-600":"from-blue-400 to-blue-600";X.push({id:`${ae.id}-${se}`,walletId:ae.id,name:`${ae.name} (${fe})`,symbol:fe,network:Ce,balance:ye,balanceUSD:ce,balanceBRL:ce,change24h:0,color:ke,address:""})}}}else{let ie="from-blue-400 to-blue-600",je=ae.network.toUpperCase();ae.network==="bitcoin"||ae.network==="btc"?(ie="from-orange-400 to-orange-600",je="BTC"):(ae.network==="ethereum"||ae.network==="eth")&&(ie="from-blue-400 to-purple-600",je="ETH");const se=me[ae.network],le=se?Number.parseFloat(se.balance||"0"):0,ge=w[je.toUpperCase()]?.price||0,Ce=le*ge;X.push({id:ae.id,walletId:ae.id,name:ae.name,symbol:je,network:ae.network,balance:le,balanceUSD:Ce,balanceBRL:Ce,change24h:0,color:ie,address:ae.first_address||""})}}),console.log("[WalletPage] Expanded wallets with balances:",X.map(ae=>({symbol:ae.symbol,balance:ae.balance,balanceUSD:ae.balanceUSD}))),console.log("[WalletPage] Market prices available:",Object.keys(w).map(ae=>({symbol:ae,price:w[ae]?.price}))),X},[g,A,R,k,T,w]),{change24h:G}=k2("BTC"),Q=g.find(X=>X.network==="multi"),D=Q?["bitcoin","ethereum","polygon","bsc","tron","base","solana","litecoin","dogecoin","cardano","avalanche","polkadot","chainlink","shiba","xrp"]:[],{addresses:B}=Lo(Q?.id?.toString(),D),$=j.useMemo(()=>(console.log("[WalletPage] walletsWithAddresses useMemo called with wallets count:",P.length),console.log("[WalletPage] Wallets in useMemo:",P.map(X=>({id:X.id,symbol:X.symbol,network:X.network}))),P.map(X=>X.walletId&&B[X.network]?{...X,address:B[X.network]}:X)),[P,B,h]),z=j.useMemo(()=>Array.from(new Set($.map(X=>X.symbol))),[$]),{changes:K}=j2(z),re=j.useMemo(()=>{if($.length===0)return 0;let X=0,ae=0;for(const H of $)if(H.balanceUSD>0){const ve=K[H.symbol]??G??0;X+=ve*H.balanceUSD,ae+=H.balanceUSD}return ae>0?X/ae:0},[$,G,K]),F=$.reduce((X,ae)=>X+ae.balanceUSD,0);return j.useEffect(()=>{console.log("[WalletPage] totalBalanceUSD:",F,"from",$.length,"wallets"),console.log("[WalletPage] Rendered wallets:",$.map(X=>({id:X.id,symbol:X.symbol,balance:X.balance,balanceUSD:X.balanceUSD})))},[F,$.length]),p?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx(hr,{className:"w-12 h-12 text-blue-600 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Carregando carteiras..."})]})}):b?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx(rt,{className:"w-12 h-12 text-red-600 mx-auto mb-4"}),e.jsx("p",{className:"text-red-600 dark:text-red-400 mb-4",children:b}),e.jsxs(St,{to:"/wallet/create",className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 transition-all",children:[e.jsx(Sr,{className:"w-4 h-4 mr-2"}),"Criar Primeira Carteira"]})]})}):$.length===0?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ht,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Nenhuma carteira encontrada"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Comece criando sua primeira carteira"}),e.jsxs(St,{to:"/wallet/create",className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 transition-all",children:[e.jsx(Sr,{className:"w-5 h-5 mr-2"}),"Criar Carteira Principal"]})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsx(vo,{}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl flex items-center justify-center",children:e.jsx(Ht,{className:"w-6 h-6 text-white"})}),"Carteiras"]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-1",children:"Gerencie suas criptomoedas e moedas tradicionais"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(St,{to:"/wallet/settings",className:"inline-flex items-center px-4 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[e.jsx(hs,{className:"w-4 h-4 mr-2"}),"Configuraes"]}),e.jsxs(St,{to:"/wallet/create",className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 transition-all",children:[e.jsx(Sr,{className:"w-4 h-4 mr-2"}),"Criar Carteira Principal"]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-600 via-purple-600 to-blue-800 rounded-2xl p-8 text-white relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white opacity-10 rounded-full -mr-32 -mt-32"}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Saldo Total"}),e.jsx("button",{onClick:()=>r(!n),className:"p-2 rounded-lg bg-white bg-opacity-20 hover:bg-opacity-30 transition-all",children:n?e.jsx(lr,{className:"w-5 h-5"}):e.jsx($r,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"mb-2",children:e.jsx("span",{className:"text-4xl font-bold",children:n?u(F):""})}),e.jsxs("div",{className:`flex items-center gap-2 ${re>=0?"text-green-200":"text-red-200"}`,children:[re>=0?e.jsx(er,{className:"w-4 h-4"}):e.jsx(ba,{className:"w-4 h-4"}),e.jsxs("span",{className:"text-sm",children:[re>=0?"+":"",re?.toFixed(2),"% (ltimas 24h)"]})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[!R&&e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(hs,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),e.jsx("span",{className:"text-sm text-blue-800 dark:text-blue-200",children:"Modo customizado ativo - Mostrando apenas redes selecionadas"})]}),e.jsx(St,{to:"/wallet/settings",className:"text-sm text-blue-600 dark:text-blue-400 hover:underline",children:"Alterar"})]}),e.jsx("div",{className:"flex space-x-1 bg-gray-100 dark:bg-gray-800 p-1 rounded-lg",children:[{id:"overview",label:"Viso Geral",icon:Ht},{id:"transactions",label:"Transaes",icon:Et},{id:"send",label:"Enviar",icon:Pr},{id:"receive",label:"Receber",icon:ds}].map(X=>e.jsxs("button",{onClick:()=>l(X.id),className:`flex-1 flex items-center justify-center gap-2 py-3 px-4 rounded-md font-medium transition-all ${a===X.id?"bg-white dark:bg-gray-700 text-blue-600 dark:text-blue-400 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,children:[e.jsx(X.icon,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:X.label})]},X.id))})]}),a==="overview"&&e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:$.map(X=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-4 hover:shadow-md transition-shadow group",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-10 h-10 bg-gray-50 dark:bg-gray-700 rounded-lg flex items-center justify-center p-1.5",children:e.jsx(or,{symbol:X.symbol,size:32})}),e.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:X.symbol})]}),e.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("button",{onClick:()=>l("send"),"aria-label":"Enviar criptomoeda",className:"p-1.5 text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:e.jsx(Pr,{className:"w-3.5 h-3.5"})}),e.jsx("button",{onClick:()=>l("receive"),"aria-label":"Receber criptomoeda",className:"p-1.5 text-gray-400 hover:text-green-600 dark:hover:text-green-400 transition-colors",children:e.jsx(ds,{className:"w-3.5 h-3.5"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-baseline gap-1",children:[e.jsx("span",{className:"text-xl font-bold text-gray-900 dark:text-white",children:n?(()=>{const ae=X.symbol==="BRL"?2:6;return X.balance.toFixed(ae)})():""}),e.jsx("span",{className:"text-xs text-gray-400 dark:text-gray-500",children:X.symbol})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:n?u(X.balanceUSD):""}),(()=>{const ae=K[X.symbol]??0;return e.jsxs("div",{className:`flex items-center gap-0.5 text-xs font-semibold ${ae>=0?"text-green-600":"text-red-600"}`,children:[ae>=0?e.jsx(er,{className:"w-3 h-3"}):e.jsx(ba,{className:"w-3 h-3"}),e.jsxs("span",{children:[ae>=0?"+":"",Math.abs(ae).toFixed(2),"%"]})]})})()]})]})]},X.id))}),a==="transactions"&&e.jsx(b2,{}),a==="send"&&e.jsx(J1,{}),a==="receive"&&e.jsx(c2,{})]})},gr=()=>{const[n,r]=j.useState([]),a=j.useCallback((b,f="info")=>{const w=Math.random().toString(36).substring(7),v={id:w,message:b,type:f};r(k=>[...k,v]),setTimeout(()=>{r(k=>k.filter(A=>A.id!==w))},5e3)},[]),l=j.useCallback(b=>{r(f=>f.filter(w=>w.id!==b))},[]),u=j.useCallback(b=>a(b,"success"),[a]),h=j.useCallback(b=>a(b,"error"),[a]),g=j.useCallback(b=>a(b,"warning"),[a]),p=j.useCallback(b=>a(b,"info"),[a]);return{toasts:n,showToast:a,removeToast:l,success:u,error:h,warning:g,info:p}};function E2(n,r=1,a=20){return Hr({queryKey:["p2p-orders",n,r],queryFn:()=>Bt.getOrders(r,a,n),staleTime:3e4,refetchInterval:6e4,retry:2})}function A2(n,r=1,a=20){return Hr({queryKey:["my-p2p-orders",n,r],queryFn:()=>Bt.getMyOrders(r,a,n),staleTime:15e3})}function s0(n){return Hr({queryKey:["p2p-order",n],queryFn:()=>Bt.getOrder(n),enabled:!!n,staleTime:3e4})}function T2(){const n=Ut(),{showToast:r}=gr();return ht({mutationFn:Bt.createOrder,onSuccess:a=>{n.invalidateQueries({queryKey:["p2p-orders"]}),n.invalidateQueries({queryKey:["my-p2p-orders"]}),r(`Ordem ${a.type==="buy"?"de compra":"de venda"} criada com sucesso!`,"success")},onError:a=>{console.error("Failed to create order:",a),r(a?.response?.data?.detail||"Erro ao criar ordem. Tente novamente.","error")}})}function I2(){const n=Ut(),{showToast:r}=gr();return ht({mutationFn:({orderId:a,updates:l})=>Bt.updateOrder(a,l),onSuccess:a=>{n.setQueryData(["p2p-order",a.id],a),n.invalidateQueries({queryKey:["p2p-orders"]}),n.invalidateQueries({queryKey:["my-p2p-orders"]}),r("Ordem atualizada com sucesso!","success")},onError:a=>{console.error("Failed to update order:",a),r("Erro ao atualizar ordem","error")}})}function R2(){const n=Ut(),{showToast:r}=gr();return ht({mutationFn:Bt.cancelOrder,onSuccess:(a,l)=>{n.removeQueries({queryKey:["p2p-order",l]}),n.invalidateQueries({queryKey:["p2p-orders"]}),n.invalidateQueries({queryKey:["my-p2p-orders"]}),r("Ordem cancelada com sucesso","success")},onError:a=>{console.error("Failed to cancel order:",a),r("Erro ao cancelar ordem","error")}})}function _2(){const n=Ut(),{showToast:r}=gr();return ht({mutationFn:Bt.toggleOrderStatus,onSuccess:a=>{n.setQueryData(["p2p-order",a.id],a),n.invalidateQueries({queryKey:["p2p-orders"]}),n.invalidateQueries({queryKey:["my-p2p-orders"]}),r(`Ordem ${a.status==="active"?"ativada":"desativada"}`,"success")},onError:a=>{console.error("Failed to toggle order status:",a),r("Erro ao alterar status da ordem","error")}})}function O2(n){return Hr({queryKey:["p2p-market-stats",n],queryFn:()=>Bt.getMarketStats(n),staleTime:6e4,refetchInterval:12e4})}function si(){return Hr({queryKey:["payment-methods"],queryFn:Bt.getPaymentMethods,staleTime:3e5})}function P2(){const n=Ut(),{showToast:r}=gr();return ht({mutationFn:a=>Bt.createPaymentMethod(a),onSuccess:a=>{n.setQueryData(["payment-methods"],(l=[])=>[...l,a]),r("Mtodo de pagamento adicionado com sucesso!","success")},onError:a=>{console.error("Failed to create payment method:",a),r(a?.response?.data?.detail||"Erro ao adicionar mtodo de pagamento","error")}})}function D2(){const n=Ut(),{showToast:r}=gr();return ht({mutationFn:({methodId:a,updates:l})=>Bt.updatePaymentMethod(a,l),onSuccess:a=>{n.setQueryData(["payment-methods"],(l=[])=>l.map(u=>u.id===a.id?a:u)),r("Mtodo de pagamento atualizado!","success")},onError:a=>{console.error("Failed to update payment method:",a),r("Erro ao atualizar mtodo de pagamento","error")}})}function M2(){const n=Ut(),{showToast:r}=gr();return ht({mutationFn:Bt.deletePaymentMethod,onSuccess:(a,l)=>{n.setQueryData(["payment-methods"],(u=[])=>u.filter(h=>h.id!==l)),r("Mtodo de pagamento removido","success")},onError:a=>{console.error("Failed to delete payment method:",a),r("Erro ao remover mtodo de pagamento","error")}})}const B2=()=>{const{t:n}=cr(),r=mr(),[a,l]=j.useState("all"),[u,h]=j.useState(null),[g,p]=j.useState("BRL"),[b,f]=j.useState(""),[w,v]=j.useState(!1),[k,A]=j.useState(""),[C,T]=j.useState(""),[I,R]=j.useState(""),{data:O,isLoading:P,error:G,refetch:Q}=E2({type:a==="all"?void 0:a,coin:u||void 0,paymentMethod:k||void 0,minAmount:C||void 0,maxAmount:I||void 0}),{data:D}=O2(u||void 0),{data:B}=si(),$=[{symbol:"BTC",name:"Bitcoin",price:251500},{symbol:"ETH",name:"Ethereum",price:15800},{symbol:"USDT",name:"Tether",price:5.85},{symbol:"BNB",name:"BNB",price:1450}],z=(F,X="BRL")=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:X}).format(F),K=F=>{switch(F){case"PIX":return e.jsx(ct,{className:"w-4 h-4"});case"TED":return e.jsx(Eo,{className:"w-4 h-4"});case"Mercado Pago":return e.jsx(Mr,{className:"w-4 h-4"});default:return e.jsx(Ht,{className:"w-4 h-4"})}},re=F=>{switch(F){case"pro_trader":return e.jsx(os,{className:"w-3 h-3"});case"verified":return e.jsx(Pe,{className:"w-3 h-3"});case"fast_response":return e.jsx(ct,{className:"w-3 h-3"});case"quick_pay":return e.jsx(Et,{className:"w-3 h-3"});default:return e.jsx(Qt,{className:"w-3 h-3"})}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"P2P Trading"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Negocie criptomoedas diretamente com outros usurios"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:()=>r("/p2p/create-order"),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg font-medium transition-colors inline-flex items-center gap-2",children:[e.jsx(Sr,{className:"w-4 h-4"}),"Criar Ordem"]}),e.jsxs("button",{onClick:()=>r("/p2p/my-orders"),className:"bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 px-4 py-2 rounded-lg font-medium transition-colors inline-flex items-center gap-2",children:[e.jsx(lr,{className:"w-4 h-4"}),"Minhas Ordens"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Volume 24h"}),e.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:z(D?.volume_24h||0)})]}),e.jsx("div",{className:"w-10 h-10 bg-green-100 dark:bg-green-900 rounded-lg flex items-center justify-center",children:e.jsx(er,{className:"w-5 h-5 text-green-600"})})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Trades Ativos"}),e.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:D?.active_trades||0})]}),e.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900 rounded-lg flex items-center justify-center",children:e.jsx(Vr,{className:"w-5 h-5 text-blue-600"})})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Traders Online"}),e.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:D?.online_traders||0})]}),e.jsx("div",{className:"w-10 h-10 bg-yellow-100 dark:bg-yellow-900 rounded-lg flex items-center justify-center",children:e.jsx(dt,{className:"w-5 h-5 text-yellow-600"})})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Taxa Sucesso"}),e.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:D?.success_rate?`${D.success_rate}%`:"0%"})]}),e.jsx("div",{className:"w-10 h-10 bg-purple-100 dark:bg-purple-900 rounded-lg flex items-center justify-center",children:e.jsx(Pe,{className:"w-5 h-5 text-purple-600"})})]})})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:[e.jsxs("button",{onClick:()=>l("buy"),className:`px-6 py-2 rounded-md font-medium transition-colors ${a==="buy"?"bg-green-600 text-white shadow":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[e.jsx(er,{className:"w-4 h-4 inline mr-2"}),"Comprar"]}),e.jsxs("button",{onClick:()=>l("sell"),className:`px-6 py-2 rounded-md font-medium transition-colors ${a==="sell"?"bg-red-600 text-white shadow":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[e.jsx(ba,{className:"w-4 h-4 inline mr-2"}),"Vender"]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("select",{value:u||"",onChange:F=>h(F.target.value||null),"aria-label":"Selecionar criptomoeda",className:"bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg px-4 py-2 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Todas as moedas"}),$.map(F=>e.jsxs("option",{value:F.symbol,children:[F.symbol," - ",F.name]},F.symbol))]}),e.jsxs("select",{value:g,onChange:F=>p(F.target.value),"aria-label":"Selecionar moeda fiat",className:"bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg px-4 py-2 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"BRL",children:"BRL - Real Brasileiro"}),e.jsx("option",{value:"USD",children:"USD - Dlar Americano"}),e.jsx("option",{value:"EUR",children:"EUR - Euro"})]})]})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 mt-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(us,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Buscar por trader, mtodo de pagamento...",value:b,onChange:F=>f(F.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("button",{onClick:()=>v(!w),className:`px-4 py-2 rounded-lg font-medium transition-colors inline-flex items-center gap-2 ${w?"bg-blue-600 text-white":"bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300"}`,children:[e.jsx(Jn,{className:"w-4 h-4"}),"Filtros"]}),e.jsxs("button",{onClick:()=>Q(),disabled:P,className:"bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 px-4 py-2 rounded-lg font-medium transition-colors inline-flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(Ws,{className:`w-4 h-4 ${P?"animate-spin":""}`}),"Atualizar"]})]}),w&&e.jsx("div",{className:"mt-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Valor Mnimo (BRL)"}),e.jsx("input",{type:"number",placeholder:"0",value:C,onChange:F=>T(F.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Valor Mximo (BRL)"}),e.jsx("input",{type:"number",placeholder:"100000",value:I,onChange:F=>R(F.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Mtodo de Pagamento"}),e.jsxs("select",{"aria-label":"Filtrar por mtodo de pagamento",value:k,onChange:F=>A(F.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white",children:[e.jsx("option",{value:"",children:"Todos"}),B?.data?.map(F=>e.jsx("option",{value:F.type,children:F.type},F.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Status do Trader"}),e.jsxs("select",{"aria-label":"Filtrar por status do trader",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white",children:[e.jsx("option",{value:"",children:"Todos"}),e.jsx("option",{value:"online",children:"Online"}),e.jsx("option",{value:"verified",children:"Verificados"})]})]})]})})]}),e.jsx("div",{className:"overflow-x-auto",children:P?e.jsxs("div",{className:"flex items-center justify-center py-12",children:[e.jsx(hr,{className:"w-8 h-8 animate-spin text-blue-600"}),e.jsx("span",{className:"ml-3 text-gray-600 dark:text-gray-400",children:"Carregando ordens..."})]}):G?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-red-600 dark:text-red-400 font-medium",children:"Erro ao carregar ordens"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mt-2",children:G instanceof Error?G.message:"Erro desconhecido"})]})}):!O?.data||O.data.length===0?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Nenhuma ordem encontrada"})}):e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Trader"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Preo/Quantidade"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Limites"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Pagamento"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Aes"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:O.data.map(F=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold",children:(F.user?.display_name||F.user?.username)?.charAt(0)||"U"}),F.user?.is_online&&e.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 border-2 border-white dark:border-gray-800 rounded-full"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:F.user?.display_name||F.user?.username||"Annimo"}),(F.user?.is_verified||F.user?.verified)&&e.jsx(Pe,{className:"w-4 h-4 text-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Qt,{className:"w-3 h-3 text-yellow-500 fill-current"}),e.jsxs("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:[F.user?.reputation||F.user?.success_rate||0,"%"]})]}),e.jsx("span",{className:"text-xs text-gray-500",children:""}),e.jsxs("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:[F.user?.completed_trades||F.user?.total_trades||0," trades"]})]}),F.user?.badges&&F.user.badges.length>0&&e.jsx("div",{className:"flex items-center gap-1 mt-1",children:F.user.badges.slice(0,2).map((X,ae)=>e.jsxs("div",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 rounded-full text-xs",children:[re(X),e.jsx("span",{className:"capitalize",children:X.replace("_"," ")})]},ae))})]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-lg text-gray-900 dark:text-white",children:z(Number(F.price||0))}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[F.amount||F.total_amount||0," ",F.coin||F.cryptocurrency]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-gray-900 dark:text-white",children:[z(Number(F.minAmount||F.min_order_limit||0))," -"," ",z(Number(F.maxAmount||F.max_order_limit||0))]}),e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[e.jsx(Et,{className:"w-3 h-3 text-gray-400"}),e.jsxs("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:[F.timeLimit||F.time_limit||30," min"]})]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"flex flex-wrap gap-1",children:F.payment_methods?.map((X,ae)=>e.jsxs("div",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded text-xs",children:[K(X),X]},ae))})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>r(`/p2p/order/${F.id}`),className:`px-4 py-2 rounded-lg font-medium transition-colors text-white ${a==="buy"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"}`,children:a==="buy"?"Comprar":"Vender"}),e.jsx("button",{"aria-label":"Enviar mensagem para o trader",className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:e.jsx(Vs,{className:"w-4 h-4"})})]})})]},F.id))})]})})]}),e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg shadow p-6 text-white",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold mb-2",children:"Trade Rpido"}),e.jsx("p",{className:"opacity-90",children:"Encontre a melhor cotao automaticamente e execute trades em segundos"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{className:"bg-white bg-opacity-20 hover:bg-opacity-30 px-6 py-2 rounded-lg font-medium transition-colors",children:"Compra Rpida"}),e.jsx("button",{className:"bg-white text-blue-600 hover:bg-gray-100 px-6 py-2 rounded-lg font-medium transition-colors",children:"Venda Rpida"})]})]})})]})};class ic{static async getWalletBalances(r){try{console.log(`[WalletService]  Fetching balances for wallet: ${r}`);const a=localStorage.getItem("authToken");console.log(`[WalletService]  Auth token status: ${a?" Present ("+a.substring(0,20)+"...)":" Missing"}`);const l=await Ne.get(`/wallets/${r}/balances?include_tokens=true`);if(console.log("[WalletService]  Response received:",l.data),!l.data?.balances)return console.warn("[WalletService]  No balances data in response"),{};const u=this.mapBalances(l.data.balances);return console.log("[WalletService]  Mapped balances:",u),u}catch(a){const l=a instanceof Error?a.message:String(a);return console.error("[WalletService]  Error fetching wallet balances:",l),{}}}static async getWallets(){try{return(await Ne.get("/wallets")).data}catch(r){throw console.error("[WalletService] Error fetching wallets:",r),r}}static mapBalances(r){const a={};for(const[l,u]of Object.entries(r||{})){const h=l.toLowerCase(),g=this.extractBalance(u),p=this.mapNetworkToSymbol(h);console.log(`[WalletService] Mapping: ${l} -> ${p} (amount: ${g})`),p&&(a[p]=(a[p]||0)+g)}return console.log("[WalletService] Final mapped balances:",a),a}static extractBalance(r){return typeof r=="object"&&r?.balance!==void 0?Number.parseFloat(String(r.balance))||0:typeof r=="number"?r:0}static mapNetworkToSymbol(r){const a={polygon_usdt:"USDT",polygon_usdc:"USDC",ethereum_usdt:"USDT",ethereum_usdc:"USDC",base_usdt:"USDT",base_usdc:"USDC",bsc_usdt:"USDT",bsc_usdc:"USDC",polygon:"MATIC",base:"BASE",ethereum:"ETH",eth:"ETH",bitcoin:"BTC",btc:"BTC",solana:"SOL",sol:"SOL",avalanche:"AVAX",avax:"AVAX",arbitrum:"ARB",arb:"ARB",optimism:"OP",op:"OP",bnb:"BNB",bsc:"BNB"};if(a[r])return console.log(`[WalletService] Direct match: ${r} -> ${a[r]}`),a[r];for(const[l,u]of Object.entries(a))if(r.includes(l)||l.includes(r))return console.log(`[WalletService] Fuzzy match: ${r} contains ${l} -> ${u}`),u;return console.log(`[WalletService] No match found for: ${r}`),""}}const bn=new Map,L2=6e4;function F2(n){const[r,a]=j.useState({}),[l,u]=j.useState(!0),[h,g]=j.useState(null),[p,b]=j.useState(!1),{token:f}=Vt(),w=async()=>{if(n)try{u(!0),g(null),console.log("[useWalletBalances] Manual refresh for wallet:",n),bn.delete(n);const v=await ic.getWalletBalances(n);console.log("[useWalletBalances] Balances refreshed successfully:",v),bn.set(n,{data:v,timestamp:Date.now()}),a(v)}catch(v){const k=v instanceof Error?v:new Error("Failed to refresh balances");g(k),console.error("[useWalletBalances] Refresh error:",k)}finally{u(!1)}};return j.useEffect(()=>{const v=setTimeout(()=>{b(!0)},100);return()=>clearTimeout(v)},[]),j.useEffect(()=>{if(!p){console.log("[useWalletBalances] Store not ready yet, waiting..."),u(!0),a({});return}if(!n){console.log("[useWalletBalances] No wallet ID provided"),u(!1),a({});return}(async()=>{try{const k=bn.get(n),A=Date.now();if(k&&A-k.timestamp<L2){console.log("[useWalletBalances] Using cached balances for wallet:",n),a(k.data),u(!1);return}u(!0),g(null),console.log("[useWalletBalances] Fetching balances for wallet:",n);const C=await ic.getWalletBalances(n);console.log("[useWalletBalances] Balances fetched successfully:",C),bn.set(n,{data:C,timestamp:A}),a(C)}catch(k){const A=k instanceof Error?k:new Error("Failed to fetch balances");g(A),A.message.includes("Failed to fetch")||A.message.includes("timeout")?console.warn("[useWalletBalances] Connection issue (will retry automatically):",A.message):console.error("[useWalletBalances] Error:",A),a({})}finally{u(!1)}})()},[n,f,p]),{balances:r,loading:l,error:h,refreshBalances:w}}class U2{API_BASE="http://127.0.0.1:8000";async createProfile(r,a){const l=await fetch(`${this.API_BASE}/api/v1/trader-profiles`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify(r)});if(!l.ok)throw new Error(`Failed to create trader profile: ${l.statusText}`);return l.json()}async getMyProfile(r){const a=await fetch(`${this.API_BASE}/api/v1/trader-profiles/me`,{headers:{Authorization:`Bearer ${r}`}});if(!a.ok)throw new Error(`Failed to fetch trader profile: ${a.statusText}`);return a.json()}async updateProfile(r,a){const l=await fetch(`${this.API_BASE}/api/v1/trader-profiles/me`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify(r)});if(!l.ok)throw new Error(`Failed to update trader profile: ${l.statusText}`);return l.json()}async getPublicProfile(r){const a=await fetch(`${this.API_BASE}/api/v1/trader-profiles/${r}`);if(!a.ok)throw new Error(`Failed to fetch trader profile: ${a.statusText}`);return a.json()}async listTraders(r){const a=new URLSearchParams;r?.skip&&a.append("skip",r.skip.toString()),r?.limit&&a.append("limit",r.limit.toString()),r?.sort_by&&a.append("sort_by",r.sort_by),r?.order&&a.append("order",r.order),r?.verified_only&&a.append("verified_only","true");const l=await fetch(`${this.API_BASE}/api/v1/trader-profiles?${a.toString()}`);if(!l.ok)throw new Error(`Failed to list traders: ${l.statusText}`);return l.json()}async getTraderStats(r,a=7){const l=await fetch(`${this.API_BASE}/api/v1/trader-profiles/${r}/stats?days=${a}`);if(!l.ok)throw new Error(`Failed to fetch trader stats: ${l.statusText}`);return l.json()}}const An=new U2;function a0({token:n,onEdit:r,showEditButton:a=!0,showProfileLink:l=!0}){const u=mr(),[h,g]=j.useState(null),[p,b]=j.useState(!0),[f,w]=j.useState(null);j.useEffect(()=>{n?(async()=>{if(!n){b(!1),w("Usurio no autenticado");return}try{b(!0),w(null),console.log("[UserProfileSection] Fetching profile with token:",n.substring(0,20)+"...");const C=await An.getMyProfile(n);g(C),w(null)}catch(C){const T=C instanceof Error?C.message:"Erro ao carregar perfil";console.error("[UserProfileSection] Error fetching profile:",T,"Token exists:",!!n),w(T),g(null)}finally{b(!1)}})():(b(!1),g(null),w(null))},[n]);const v=A=>{switch(A.verification_level){case"premium":return e.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-yellow-100 dark:bg-yellow-900/30 rounded-full text-xs",children:[e.jsx(os,{className:"w-3 h-3 text-yellow-600 dark:text-yellow-400"}),e.jsx("span",{className:"font-medium text-yellow-700 dark:text-yellow-300",children:"Premium"})]});case"advanced":return e.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-blue-100 dark:bg-blue-900/30 rounded-full text-xs",children:[e.jsx(dt,{className:"w-3 h-3 text-blue-600 dark:text-blue-400"}),e.jsx("span",{className:"font-medium text-blue-700 dark:text-blue-300",children:"Advanced"})]});case"basic":return e.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded-full text-xs",children:[e.jsx(Pe,{className:"w-3 h-3 text-gray-600 dark:text-gray-400"}),e.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Verificado"})]});default:return null}},k=A=>e.jsx("div",{className:"flex gap-0.5",children:[1,2,3,4,5].map(C=>e.jsx(Qt,{className:`w-3.5 h-3.5 ${C<=Math.round(A)?"fill-yellow-400 text-yellow-400":"fill-gray-300 text-gray-300"}`},C))});return p?e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(hr,{className:"w-4 h-4 animate-spin"}),"Carregando seu perfil..."]})}):n?f||!h?e.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(rt,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-300",children:"Perfil no configurado"}),e.jsx("p",{className:"text-xs text-yellow-700 dark:text-yellow-400 mt-1",children:"Complete seu perfil de trader para criar ordens P2P"}),r&&e.jsx("button",{onClick:r,className:"mt-3 w-full px-3 py-2 bg-yellow-600 hover:bg-yellow-700 text-white text-xs font-medium rounded-lg transition-colors",children:"Criar Perfil de Trader"})]})]})}):e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 sticky top-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Seu Perfil"}),a&&r&&e.jsx("button",{onClick:r,className:"p-1.5 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white",title:"Editar perfil",children:e.jsx(ql,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-start gap-3 mb-4 pb-4 border-b border-gray-200 dark:border-gray-700",children:[h.avatar_url?e.jsx("img",{src:h.avatar_url,alt:h.display_name,className:"w-12 h-12 rounded-full object-cover flex-shrink-0"}):e.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-400 to-purple-500 flex items-center justify-center text-white font-bold text-sm flex-shrink-0",children:h.display_name&&h.display_name.length>0?h.display_name.charAt(0).toUpperCase():"?"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white truncate",children:h.display_name||"Trader"}),h.is_verified&&e.jsx(Pe,{className:"w-4 h-4 text-green-500 flex-shrink-0"})]}),h.bio&&e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 line-clamp-2",children:h.bio})]})]}),v(h)&&e.jsx("div",{className:"mb-4",children:v(h)}),e.jsx("div",{className:"mb-4 pb-4 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"flex items-center gap-1",children:k(h.average_rating||0)}),e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:(h.average_rating||0).toFixed(1)}),e.jsxs("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:["(",h.total_reviews||0," avaliaes)"]})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsx(er,{className:"w-4 h-4 text-green-600 dark:text-green-400 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Taxa de Sucesso"}),e.jsxs("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:[((h.success_rate||0)*100).toFixed(1),"%"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsx(Vr,{className:"w-4 h-4 text-blue-600 dark:text-blue-400 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Negociaes"}),e.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:h.total_trades||0})]})]}),e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsx(Pe,{className:"w-4 h-4 text-green-600 dark:text-green-400 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Concludas"}),e.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:h.completed_trades||0})]})]}),e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${h.is_active?"bg-green-500":"bg-gray-500"}`}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Status"}),e.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:h.is_active?"Ativo":"Inativo"})]})]})]}),(h.min_order_amount||h.max_order_amount)&&e.jsxs("div",{className:"pt-3 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("p",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 mb-2",children:"Limites de Ordem"}),e.jsxs("div",{className:"space-y-1 text-xs",children:[h.min_order_amount&&e.jsxs("div",{className:"flex justify-between text-gray-700 dark:text-gray-300",children:[e.jsx("span",{children:"Mnimo:"}),e.jsxs("span",{className:"font-medium",children:["R$"," ",h.min_order_amount.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),h.max_order_amount&&e.jsxs("div",{className:"flex justify-between text-gray-700 dark:text-gray-300",children:[e.jsx("span",{children:"Mximo:"}),e.jsxs("span",{className:"font-medium",children:["R$"," ",h.max_order_amount.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700 space-y-2",children:[l&&e.jsxs("button",{onClick:()=>u("/profile"),className:"w-full flex items-center justify-center gap-2 px-3 py-2 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-400 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-900/40 transition-colors text-sm font-medium",title:"Ir para perfil completo",children:[e.jsx(hs,{className:"w-4 h-4"}),"Perfil Completo"]}),r&&a&&e.jsxs("button",{onClick:r,className:"w-full flex items-center justify-center gap-2 px-3 py-2 bg-purple-50 dark:bg-purple-900/20 text-purple-700 dark:text-purple-400 rounded-lg hover:bg-purple-100 dark:hover:bg-purple-900/40 transition-colors text-sm font-medium",title:"Editar perfil de trader",children:[e.jsx(ql,{className:"w-4 h-4"}),"Editar Trader"]})]})]}):e.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg shadow p-4 text-center",children:e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Faa login para visualizar seu perfil de trader"})})}const V2=()=>{const n=mr(),r=T2(),{data:a}=si(),{token:l}=Vt(),[u,h]=j.useState("sell"),[g,p]=j.useState(""),[b,f]=j.useState("BRL"),[w,v]=j.useState(0),[k,A]=j.useState(0),[C,T]=j.useState(""),[I,R]=j.useState(""),[O,P]=j.useState(""),[G,Q]=j.useState("30"),[D,B]=j.useState([]),[$,z]=j.useState(""),[K,re]=j.useState(""),[F,X]=j.useState({}),[ae,H]=j.useState(void 0),[ve,me]=j.useState(!0),ie=Object.keys(F).length>0?Object.keys(F):[],{prices:je}=Ja(g?[g]:ie,b);j.useEffect(()=>{(async()=>{try{if(!l){console.error("[CreateOrder] No token found"),me(!1);return}console.log("[CreateOrder] Fetching wallet list...");const ke=await fetch("http://127.0.0.1:8000/wallets/",{headers:{Authorization:`Bearer ${l}`}});if(!ke.ok)throw new Error(`Failed to fetch wallets: ${ke.status}`);const Ge=await ke.json();if(console.log("[CreateOrder] Wallets fetched:",Ge),!Ge?.length)throw new Error("No wallets found");H(Ge[0].id),console.log("[CreateOrder] Wallet ID set:",Ge[0].id)}catch(ke){console.error("[CreateOrder] Error fetching wallet ID:",ke),H(void 0),me(!1)}})()},[l]);const{balances:se,loading:le,refreshBalances:de}=F2(ae);j.useEffect(()=>{if(console.log("[CreateOrder] Balances updated from hook:",se,"Loading:",le),X(se),me(le),!g&&Object.keys(se).length>0){const ce=Object.keys(se).sort((ke,Ge)=>se[Ge]-se[ke])[0];ce&&(console.log("[CreateOrder] Auto-selecting first coin:",ce),p(ce))}},[se,le,g]),j.useEffect(()=>{g&&je?.[g]?.price?(console.log(`[CreateOrder] Price updated for ${g}:`,je[g].price),v(je[g].price)):v(0)},[je,g]);const ge=w>0?w*(1+k/100):0,Ce=ge>0&&C?(ge*Number.parseFloat(C)).toFixed(2):"0.00",Ie=ce=>ce===0?"0":ce<1e-4?ce.toFixed(8).replace(/\.?0+$/,""):ce<1?ce.toFixed(6).replace(/\.?0+$/,""):ce<1e3?ce.toFixed(4).replace(/\.?0+$/,""):ce.toFixed(2).replace(/\.?0+$/,""),fe=F[g]||0;Object.entries(F).sort((ce,ke)=>ke[1]-ce[1]).map(([ce,ke])=>({symbol:ce,name:ce,balance:ke}));const ye=ce=>{B(ke=>ke.includes(ce)?ke.filter(Ge=>Ge!==ce):[...ke,ce])},Re=()=>b==="BRL"?"R$":b==="USD"?"$":"",ue=async ce=>{if(ce.preventDefault(),!C||C.trim()===""){De.error("Por favor, preencha a Quantidade");return}if(!I||I.trim()===""){De.error("Por favor, preencha o Valor Mnimo");return}if(!O||O.trim()===""){De.error("Por favor, preencha o Valor Mximo");return}if(console.log("[CreateOrder] handleSubmit called with state:",{basePrice:w,finalPrice:ge,priceMargin:k,coin:g,fiatCurrency:b,amount:C,minAmount:I,maxAmount:O,currentBalance:fe,allBalances:F}),w<=0){De.error("Aguarde o carregamento do preo de mercado antes de criar a ordem");return}if(ge<=0){De.error("Preo final invlido. Verifique a moeda selecionada");return}const ke=Number.parseFloat(C),Ge=Number.parseFloat(I),_e=Number.parseFloat(O),bt=Number.parseFloat(Ce);if(console.log("[CreateOrder] Converted values:",{amountNum:ke,minAmountNum:Ge,maxAmountNum:_e,totalValueNum:bt}),Number.isNaN(ke)||ke<=0){De.error("Quantidade deve ser um nmero maior que 0");return}if(Number.isNaN(Ge)||Ge<=0){De.error("Valor mnimo deve ser um nmero maior que 0");return}if(Number.isNaN(_e)||_e<=0){De.error("Valor mximo deve ser um nmero maior que 0");return}if(Ge>_e){De.error("O valor mnimo no pode ser maior que o mximo");return}if(ke>fe){De.error(`Saldo insuficiente. Voc tem ${Ie(fe)} ${g}, mas quer vender ${Ie(ke)} ${g}`);return}if(bt<Ge){De.error(`Valor total (${Re()} ${Ce})  menor que o mnimo (${Re()} ${I})`);return}if(bt>_e){De.error(`Valor total (${Re()} ${Ce})  maior que o mximo (${Re()} ${O})`);return}if(D.length===0){De.error("Selecione pelo menos um mtodo de pagamento");return}try{const yt={type:u,coin:g,fiat_currency:b,price:ge.toString(),amount:ke.toString(),min_amount:Ge.toString(),max_amount:_e.toString(),payment_methods:D,time_limit:Number.parseInt(G)};$&&(yt.terms=$),K&&(yt.auto_reply=K),console.log("[CreateOrder] Enviando ordem com dados:",{finalPrice:ge,amountNum:ke,minAmountNum:Ge,maxAmountNum:_e,totalValueNum:bt,basePrice:w,priceMargin:k,orderData:yt}),await r.mutateAsync(yt),De.success("Ordem criada com sucesso!"),n("/p2p")}catch(yt){console.error("Error creating order:",yt)}};return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-4 md:p-6",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("button",{onClick:()=>n("/p2p"),title:"Voltar",className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",children:e.jsx(rs,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-white",children:"Criar Ordem P2P"}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[u==="buy"?"Compra":"Venda"," de ",g]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 lg:gap-6",children:[e.jsx("div",{className:"lg:col-span-2 space-y-4",children:e.jsxs("form",{onSubmit:ue,className:"space-y-4",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 md:p-5",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Configurao Bsica"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tipo de Ordem"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("button",{type:"button",onClick:()=>h("sell"),className:`py-2 px-3 rounded-lg font-medium transition-colors text-sm ${u==="sell"?"bg-green-600 text-white shadow":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:["Vender (",b,")"]}),e.jsxs("button",{type:"button",onClick:()=>h("buy"),className:`py-2 px-3 rounded-lg font-medium transition-colors text-sm ${u==="buy"?"bg-red-600 text-white shadow":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:["Comprar (",b,")"]})]})]}),ve?e.jsx("div",{className:"mb-3 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(hr,{className:"w-4 h-4 animate-spin text-blue-600 dark:text-blue-400"}),e.jsx("span",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Carregando seus saldos da carteira..."})]})}):Object.keys(F).length>0?e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Moeda"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 max-h-32 overflow-y-auto",children:Object.entries(F).sort((ce,ke)=>ke[1]-ce[1]).map(([ce,ke])=>e.jsxs("button",{type:"button",onClick:()=>p(ce),className:`p-2 rounded-lg text-xs font-medium transition-all ${g===ce?"bg-blue-100 dark:bg-blue-900/30 border-2 border-blue-500 text-blue-700 dark:text-blue-300":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 border border-gray-300 dark:border-gray-600"}`,children:[e.jsxs("div",{className:"flex items-center gap-1 justify-center",children:[e.jsx(or,{symbol:ce,size:16,className:"rounded-full flex-shrink-0"}),e.jsx("span",{children:ce})]}),e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:Ie(ke)})]},ce))})]}):e.jsxs("div",{className:"mb-3 p-4 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg flex items-start gap-2",children:[e.jsx(rt,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-300",children:"Nenhum saldo encontrado"}),e.jsx("p",{className:"text-xs text-yellow-700 dark:text-yellow-400 mt-1",children:"Voc precisa ter uma carteira com criptomoedas para criar uma ordem de venda."})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Moeda Fiat"}),e.jsxs("select",{value:b,onChange:ce=>f(ce.target.value),"aria-label":"Selecionar moeda fiat",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[e.jsx("option",{value:"BRL",children:"Real Brasileiro (R$)"}),e.jsx("option",{value:"USD",children:"Dlar Americano ($)"}),e.jsx("option",{value:"EUR",children:"Euro ()"})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 md:p-5",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Preo & Quantidade"}),w<=0?e.jsx("div",{className:"mb-3 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(hr,{className:"w-4 h-4 animate-spin text-blue-600 dark:text-blue-400"}),e.jsxs("span",{className:"text-sm text-blue-700 dark:text-blue-300",children:["Carregando cotao de ",g||"moeda","..."]})]})}):w>0?e.jsx("div",{className:"mb-3 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Preo Mercado:"}),e.jsxs("p",{className:"font-semibold text-gray-900 dark:text-white",children:[Re()," ",Ie(w)]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Seu Preo:"}),e.jsxs("p",{className:"font-semibold text-blue-600 dark:text-blue-400",children:[Re()," ",Ie(ge)]})]})]})}):e.jsx("div",{className:"mb-3 p-2 bg-yellow-50 dark:bg-yellow-900/20 rounded text-xs text-yellow-700 dark:text-yellow-300",children:" No conseguimos buscar o preo. Tente novamente."}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Margem de Lucro"}),e.jsxs("span",{className:`text-sm font-bold ${k>=0?"text-green-600":"text-red-600"}`,children:[k>0?"+":"",k.toFixed(1),"%"]})]}),e.jsx("input",{type:"range",min:"-50",max:"100",step:"0.5",value:k,onChange:ce=>A(Number.parseFloat(ce.target.value)),"aria-label":"Margem de lucro",className:"w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400 mt-1",children:[e.jsx("span",{children:"-50%"}),e.jsx("span",{children:"0%"}),e.jsx("span",{children:"+100%"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 mt-2",children:[e.jsx("button",{type:"button",onClick:()=>A(-10),className:"py-1 px-2 rounded text-xs font-medium bg-red-100 dark:bg-red-900/20 text-red-700 dark:text-red-400 hover:bg-red-200 dark:hover:bg-red-900/30 transition",children:"-10%"}),e.jsx("button",{type:"button",onClick:()=>A(0),className:"py-1 px-2 rounded text-xs font-medium bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600 transition",children:"Mercado"}),e.jsx("button",{type:"button",onClick:()=>A(10),className:"py-1 px-2 rounded text-xs font-medium bg-green-100 dark:bg-green-900/20 text-green-700 dark:text-green-400 hover:bg-green-200 dark:hover:bg-green-900/30 transition",children:"+10%"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Quantidade a Vender (",g,") *"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"number",step:"0.01",value:C,onChange:ce=>T(ce.target.value),placeholder:"0.00",className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",required:!0}),e.jsxs("button",{type:"button",onClick:()=>T(fe.toString()),className:"px-3 py-2 bg-blue-100 dark:bg-blue-900/20 text-blue-700 dark:text-blue-400 rounded-lg hover:bg-blue-200 dark:hover:bg-blue-900/30 transition text-sm font-medium",children:["Max (",Ie(fe)," ",g,")"]})]}),C&&fe>0&&e.jsx("p",{className:"text-xs mt-1 text-green-600 dark:text-green-400",children:" Saldo suficiente"})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 md:p-5",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Detalhes da Ordem"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Mn. (",b,") *"]}),e.jsx("input",{type:"number",step:"0.01",value:I,onChange:ce=>R(ce.target.value),placeholder:"0.00",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Mx. (",b,") *"]}),e.jsx("input",{type:"number",step:"0.01",value:O,onChange:ce=>P(ce.target.value),placeholder:"0.00",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",required:!0})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Tempo Limite (min) *"}),e.jsxs("select",{value:G,onChange:ce=>Q(ce.target.value),"aria-label":"Selecionar tempo limite",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",required:!0,children:[e.jsx("option",{value:"15",children:"15 minutos"}),e.jsx("option",{value:"30",children:"30 minutos"}),e.jsx("option",{value:"45",children:"45 minutos"}),e.jsx("option",{value:"60",children:"60 minutos"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Mtodos de Pagamento *"}),a&&a.length>0?e.jsx("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:a.map(ce=>{const ke=typeof ce.details=="string"?JSON.parse(ce.details):ce.details,Ge=ke?.account_number||ke?.key||"N/A";return e.jsxs("label",{className:"flex items-center gap-2 p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer text-sm",children:[e.jsx("input",{type:"checkbox",checked:D.includes(ce.id),onChange:()=>ye(ce.id),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white truncate",children:ce.method_type}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 truncate",children:Ge})]})]},ce.id)})}):e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Nenhum mtodo de pagamento configurado"})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 md:p-5",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Mensagens (Opcional)"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Termos da Transao"}),e.jsx("textarea",{value:$,onChange:ce=>z(ce.target.value),placeholder:"Ex: Apenas transferncia bancria confirmada...",rows:2,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm resize-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Resposta Automtica"}),e.jsx("textarea",{value:K,onChange:ce=>re(ce.target.value),placeholder:"Ex: Ol! Voc tem 30 minutos para pagar...",rows:2,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm resize-none"})]})]})]}),e.jsx("button",{type:"submit",disabled:r.isPending||w<=0,className:"w-full py-3 px-4 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 disabled:from-gray-400 disabled:to-gray-500 text-white font-semibold rounded-lg transition-all shadow-md hover:shadow-lg",title:w<=0?"Aguarde o carregamento do preo de mercado":"",children:r.isPending?"Criando ordem...":"Criar Ordem"})]})}),e.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[e.jsx(a0,{token:l,onEdit:()=>n("/p2p/trader-profile/edit"),showEditButton:!0,showProfileLink:!0}),ge>0&&C&&e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/30 dark:to-blue-900/20 rounded-lg shadow p-4 border border-blue-200 dark:border-blue-800 sticky top-4",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-3",children:"Resumo da Ordem"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-700 dark:text-gray-400",children:"Quantidade:"}),e.jsxs("span",{className:"font-semibold text-gray-900 dark:text-white",children:[Ie(Number.parseFloat(C))," ",g]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-700 dark:text-gray-400",children:"Preo Unit.:"}),e.jsxs("span",{className:"font-semibold text-gray-900 dark:text-white",children:[Re()," ",Ie(ge)]})]}),e.jsxs("div",{className:"border-t border-blue-300 dark:border-blue-700 pt-2 flex justify-between",children:[e.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:"Total:"}),e.jsxs("span",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:[Re()," ",Ce]})]})]})]}),(fe>0||Object.keys(F).length>0)&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Seus Saldos"}),e.jsx("button",{onClick:()=>de(),disabled:ve,className:"p-1 rounded hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",title:"Atualizar saldos",children:e.jsx(Ws,{className:`w-4 h-4 text-gray-600 dark:text-gray-400 ${ve?"animate-spin":""}`})})]}),e.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:Object.entries(F).sort((ce,ke)=>ke[1]-ce[1]).map(([ce,ke])=>e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(or,{symbol:ce,size:16,className:"rounded-full"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:ce})]}),e.jsx("span",{className:`font-semibold ${ke>0?"text-green-600 dark:text-green-400":"text-gray-500"}`,children:Ie(ke)})]},ce))}),e.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between font-semibold text-gray-900 dark:text-white",children:[e.jsx("span",{children:"Total:"}),e.jsx("span",{className:"text-lg text-blue-600 dark:text-blue-400",children:Ie(Object.values(F).reduce((ce,ke)=>ce+ke,0))})]})})]})]})]})]})})},$2=()=>{const n=mr(),[r,a]=j.useState("active"),[l,u]=j.useState(""),[h,g]=j.useState("all"),{data:p,isLoading:b,error:f,refetch:w}=A2(),v=R2(),k=_2(),A=[{value:"all",label:"Todas"},{value:"BTC",label:"Bitcoin"},{value:"ETH",label:"Ethereum"},{value:"USDT",label:"Tether"},{value:"BNB",label:"BNB"},{value:"SOL",label:"Solana"}],C=async P=>{if(confirm("Tem certeza que deseja cancelar esta ordem?"))try{await v.mutateAsync(P),De.success("Ordem cancelada com sucesso")}catch(G){console.error("Error canceling order:",G)}},T=async(P,G)=>{try{await k.mutateAsync({orderId:P,isActive:!G}),De.success(G?"Ordem pausada":"Ordem ativada")}catch(Q){console.error("Error toggling order status:",Q)}},I=P=>{const G={active:{icon:Pe,text:"Ativa",color:"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300"},paused:{icon:Ua,text:"Pausada",color:"bg-yellow-100 text-yellow-700 dark:bg-yellow-900 dark:text-yellow-300"},completed:{icon:Pe,text:"Completa",color:"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300"},cancelled:{icon:Ns,text:"Cancelada",color:"bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-300"}},Q=G[P]||G.active,D=Q.icon;return e.jsxs("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-sm font-medium ${Q.color}`,children:[e.jsx(D,{className:"w-4 h-4"}),Q.text]})},R=P=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(P),O=p?.data?.filter(P=>{const G=P.status===r,Q=h==="all"||P.coin===h,D=!l||P.coin.toLowerCase().includes(l.toLowerCase())||P.payment_methods?.some(B=>B.toLowerCase().includes(l.toLowerCase()));return G&&Q&&D})||[];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>n("/p2p"),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",children:e.jsx(rs,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Minhas Ordens P2P"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Gerencie suas ordens de compra e venda"})]})]}),e.jsxs("button",{onClick:()=>n("/p2p/create-order"),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg font-medium transition-colors inline-flex items-center gap-2",children:[e.jsx(Sr,{className:"w-4 h-4"}),"Nova Ordem"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Ordens Ativas"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:p?.data?.filter(P=>P.status==="active").length||0})]}),e.jsx("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-900 rounded-lg flex items-center justify-center",children:e.jsx(Pe,{className:"w-6 h-6 text-green-600"})})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Pausadas"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:p?.data?.filter(P=>P.status==="paused").length||0})]}),e.jsx("div",{className:"w-12 h-12 bg-yellow-100 dark:bg-yellow-900 rounded-lg flex items-center justify-center",children:e.jsx(Ua,{className:"w-6 h-6 text-yellow-600"})})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Completas"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:p?.data?.filter(P=>P.status==="completed").length||0})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900 rounded-lg flex items-center justify-center",children:e.jsx(Pe,{className:"w-6 h-6 text-blue-600"})})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Volume Total"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:R(p?.data?.reduce((P,G)=>P+G.price*G.amount,0)||0)})]}),e.jsx("div",{className:"w-12 h-12 bg-purple-100 dark:bg-purple-900 rounded-lg flex items-center justify-center",children:e.jsx(ss,{className:"w-6 h-6 text-purple-600"})})]})})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[e.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:[{key:"active",label:"Ativas",icon:Pe},{key:"paused",label:"Pausadas",icon:Ua},{key:"completed",label:"Completas",icon:Pe},{key:"cancelled",label:"Canceladas",icon:Ns}].map(P=>{const G=P.icon;return e.jsxs("button",{onClick:()=>a(P.key),className:`px-4 py-2 rounded-lg font-medium transition-colors inline-flex items-center gap-2 ${r===P.key?"bg-blue-600 text-white shadow":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[e.jsx(G,{className:"w-4 h-4"}),P.label]},P.key)})}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(us,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Buscar por criptomoeda ou mtodo de pagamento...",value:l,onChange:P=>u(P.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsx("select",{value:h,onChange:P=>g(P.target.value),"aria-label":"Filtrar por criptomoeda",className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:A.map(P=>e.jsx("option",{value:P.value,children:P.label},P.value))}),e.jsxs("button",{onClick:()=>w(),disabled:b,className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg font-medium transition-colors inline-flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(Ws,{className:`w-4 h-4 ${b?"animate-spin":""}`}),"Atualizar"]})]})]}),e.jsx("div",{className:"p-6",children:b?e.jsxs("div",{className:"flex items-center justify-center py-12",children:[e.jsx(hr,{className:"w-8 h-8 animate-spin text-blue-600"}),e.jsx("span",{className:"ml-3 text-gray-600 dark:text-gray-400",children:"Carregando ordens..."})]}):f?e.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(rt,{className:"w-12 h-12 text-red-500 mb-3"}),e.jsx("p",{className:"text-red-600 dark:text-red-400 font-medium",children:"Erro ao carregar ordens"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mt-2",children:f instanceof Error?f.message:"Erro desconhecido"})]}):O.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mb-4",children:e.jsx(lr,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Nenhuma ordem encontrada"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Voc ainda no criou nenhuma ordem P2P"}),e.jsxs("button",{onClick:()=>n("/p2p/create-order"),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg font-medium transition-colors inline-flex items-center gap-2",children:[e.jsx(Sr,{className:"w-4 h-4"}),"Criar Primeira Ordem"]})]}):e.jsx("div",{className:"space-y-4",children:O.map(P=>e.jsx("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-6 hover:border-blue-500 dark:hover:border-blue-500 transition-colors",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${P.type==="sell"?"bg-green-100 dark:bg-green-900":"bg-red-100 dark:bg-red-900"}`,children:P.type==="sell"?e.jsx(er,{className:"w-5 h-5 text-green-600"}):e.jsx(ba,{className:"w-5 h-5 text-red-600"})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[P.type==="sell"?"Vender":"Comprar"," ",P.coin]}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Criada em ",new Date(P.created_at).toLocaleDateString("pt-BR")]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1",children:"Preo"}),e.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:R(Number(P.price)||0)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1",children:"Quantidade"}),e.jsxs("p",{className:"font-semibold text-gray-900 dark:text-white",children:[Number(P.total_amount||P.amount)||0," ",P.cryptocurrency||P.coin]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1",children:"Limites"}),e.jsxs("p",{className:"font-semibold text-gray-900 dark:text-white text-sm",children:[R(Number(P.min_order_limit||P.minAmount)||0)," ","-"," ",R(Number(P.max_order_limit||P.maxAmount)||0)]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1",children:"Trades"}),e.jsxs("p",{className:"font-semibold text-gray-900 dark:text-white",children:[P.completed_trades||P.completedTrades||0," completos"]})]})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:P.payment_methods?.map((G,Q)=>e.jsx("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded text-xs font-medium",children:G},Q))})]}),e.jsxs("div",{className:"flex flex-col items-end gap-3",children:[I(P.status),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>n(`/p2p/order/${P.id}`),className:"p-2 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:"Ver Detalhes",children:e.jsx(lr,{className:"w-5 h-5"})}),P.status==="active"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>n(`/p2p/edit-order/${P.id}`),className:"p-2 text-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Editar",children:e.jsx(Md,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>T(P.id,P.status==="active"),disabled:k.isPending,className:"p-2 text-yellow-600 hover:bg-yellow-50 dark:hover:bg-yellow-900/20 rounded-lg transition-colors disabled:opacity-50",title:"Pausar",children:e.jsx(Ua,{className:"w-5 h-5"})})]}),P.status==="paused"&&e.jsx("button",{onClick:()=>T(P.id,!1),disabled:k.isPending,className:"p-2 text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20 rounded-lg transition-colors disabled:opacity-50",title:"Reativar",children:e.jsx(Mo,{className:"w-5 h-5"})}),(P.status==="active"||P.status==="paused")&&e.jsx("button",{onClick:()=>C(P.id),disabled:v.isPending,className:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors disabled:opacity-50",title:"Cancelar Ordem",children:e.jsx(ti,{className:"w-5 h-5"})})]})]})]})},P.id))})})]})]})};function z2(n){return Hr({queryKey:["p2p-trade",n],queryFn:()=>Bt.getTrade(n),enabled:!!n,staleTime:1e4,refetchInterval:15e3})}function H2(){const n=Ut(),{showToast:r}=gr();return ht({mutationFn:Bt.startTrade,onSuccess:a=>(n.invalidateQueries({queryKey:["p2p-trades"]}),n.invalidateQueries({queryKey:["p2p-orders"]}),r("Trade iniciado com sucesso!","success"),a),onError:a=>{console.error("Failed to start trade:",a),r(a?.response?.data?.detail||"Erro ao iniciar trade. Tente novamente.","error")}})}function W2(){const n=Ut(),{showToast:r}=gr();return ht({mutationFn:({tradeId:a,message:l})=>Bt.markPaymentSent(a,l),onSuccess:a=>{n.setQueryData(["p2p-trade",a.id],a),n.invalidateQueries({queryKey:["p2p-trades"]}),r("Pagamento marcado como enviado! Aguarde confirmao do vendedor.","success")},onError:a=>{console.error("Failed to mark payment as sent:",a),r("Erro ao confirmar pagamento enviado","error")}})}function q2(){const n=Ut(),{showToast:r}=gr();return ht({mutationFn:Bt.confirmPaymentReceived,onSuccess:a=>{n.setQueryData(["p2p-trade",a.id],a),n.invalidateQueries({queryKey:["p2p-trades"]}),r("Pagamento confirmado! Liberando criptomoeda...","success")},onError:a=>{console.error("Failed to confirm payment:",a),r("Erro ao confirmar recebimento do pagamento","error")}})}function G2(){const n=Ut(),{showToast:r}=gr();return ht({mutationFn:Bt.releaseEscrow,onSuccess:a=>{n.setQueryData(["p2p-trade",a.id],a),n.invalidateQueries({queryKey:["p2p-trades"]}),n.invalidateQueries({queryKey:["wallets"]}),r(" Trade concludo! Criptomoeda liberada com sucesso.","success")},onError:a=>{console.error("Failed to release escrow:",a),r("Erro ao liberar escrow","error")}})}function X2(){const n=Ut(),{showToast:r}=gr();return ht({mutationFn:({tradeId:a,reason:l})=>Bt.cancelTrade(a,l),onSuccess:a=>{n.setQueryData(["p2p-trade",a.id],a),n.invalidateQueries({queryKey:["p2p-trades"]}),r("Trade cancelado","info")},onError:a=>{console.error("Failed to cancel trade:",a),r("Erro ao cancelar trade","error")}})}function Q2(){const n=Ut(),{showToast:r}=gr();return ht({mutationFn:({tradeId:a,reason:l,description:u,evidence:h})=>Bt.disputeTrade(a,l,u,h),onSuccess:a=>{n.setQueryData(["p2p-trade",a.id],a),n.invalidateQueries({queryKey:["p2p-trades"]}),r("Disputa aberta. Nossa equipe ir analisar em breve.","warning")},onError:a=>{console.error("Failed to open dispute:",a),r("Erro ao abrir disputa","error")}})}function K2(){const n=Ut();return ht({mutationFn:Bt.sendTradeMessage,onSuccess:(r,a)=>{n.invalidateQueries({queryKey:["trade-messages",a.tradeId]})},onError:r=>{console.error("Failed to send message:",r)}})}function Y2(n){return Hr({queryKey:["trade-messages",n],queryFn:()=>Bt.getTradeMessages(n),enabled:!!n,staleTime:5e3,refetchInterval:1e4})}function Z2(){const n=Ut(),{showToast:r}=gr();return ht({mutationFn:({tradeId:a,rating:l,comment:u,type:h})=>Bt.leaveFeedback(a,l,u,h),onSuccess:()=>{n.invalidateQueries({queryKey:["p2p-trades"]}),r("Avaliao enviada com sucesso!","success")},onError:a=>{console.error("Failed to leave feedback:",a),r("Erro ao enviar avaliao","error")}})}const J2=()=>{const n=mr(),{orderId:r}=ho(),[a,l]=j.useState(""),{data:u,isLoading:h,error:g}=s0(r),p=H2(),b=p.isPending,f=u;console.log("[OrderDetailsPage] orderId:",r),console.log("[OrderDetailsPage] orderData:",u),console.log("[OrderDetailsPage] order:",f),console.log("[OrderDetailsPage] isLoading:",h),console.log("[OrderDetailsPage] error:",g);const w=k=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(k),v=async()=>{if(!a||!f){De.error("Por favor, insira um valor");return}const k=parseFloat(a),A=parseFloat(f.minAmount),C=parseFloat(f.maxAmount);if(k<A||k>C){De.error(`Valor deve estar entre ${w(A)} e ${w(C)}`);return}try{const T=await p.mutateAsync({orderId:f.id,amount:a});De.success("Trade iniciado com sucesso!"),n(`/p2p/trade/${T.id||T.data?.id}`)}catch(T){console.error("Error starting trade:",T)}};return h?e.jsxs("div",{className:"flex items-center justify-center min-h-screen",children:[e.jsx(hr,{className:"w-8 h-8 animate-spin text-blue-600"}),e.jsx("span",{className:"ml-3 text-gray-600 dark:text-gray-400",children:"Carregando ordem..."})]}):g||!f?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen",children:[e.jsx(rt,{className:"w-16 h-16 text-red-500 mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Erro ao carregar ordem"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:g instanceof Error?g.message:"Ordem no encontrada"}),e.jsx("button",{onClick:()=>n("/p2p"),className:"text-blue-600 hover:text-blue-700 font-medium",children:"Voltar ao Marketplace"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800",children:[e.jsx("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-lg border-b border-gray-200 dark:border-gray-700 shadow-sm sticky top-0 z-10",children:e.jsx("div",{className:"max-w-[1800px] mx-auto px-4 sm:px-6 py-3",children:e.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[e.jsxs("button",{onClick:()=>n("/p2p"),className:"flex items-center gap-2 text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-all text-sm font-medium",children:[e.jsx(rs,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Marketplace"}),e.jsx("span",{className:"sm:hidden",children:"Voltar"})]}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 flex-wrap",children:[e.jsx("span",{className:"text-xs px-2 sm:px-3 py-1 rounded-full bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 font-medium whitespace-nowrap",children:f.type==="buy"?"Compra":"Venda"}),e.jsx("span",{className:"hidden sm:inline text-xs text-gray-500 dark:text-gray-400 whitespace-nowrap",children:new Date(f.createdAt).toLocaleDateString("pt-BR",{day:"2-digit",month:"short"})})]})]})})}),e.jsx("div",{className:"max-w-[1800px] mx-auto px-4 sm:px-6 py-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[1.2fr,0.8fr] gap-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"p-4 sm:p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1 font-medium",children:"Preo Unitrio"}),e.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white",children:w(parseFloat(f.price))}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["por ",f.coin]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1 font-medium",children:"Quantidade Disponvel"}),e.jsxs("div",{className:"text-2xl sm:text-3xl font-bold text-blue-600 dark:text-blue-400",children:[f.amount," ",f.coin]}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[" ",w(parseFloat(f.amount)*parseFloat(f.price))]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 sm:gap-4 mt-4 sm:mt-6 pt-4 sm:pt-6 border-t border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Mnimo"}),e.jsx("div",{className:"text-xs sm:text-sm font-semibold text-gray-900 dark:text-white truncate",children:w(parseFloat(f.minAmount))})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Mximo"}),e.jsx("div",{className:"text-xs sm:text-sm font-semibold text-gray-900 dark:text-white truncate",children:w(parseFloat(f.maxAmount))})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(Et,{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-400 mx-auto mb-1"}),e.jsxs("div",{className:"text-xs sm:text-sm font-semibold text-gray-900 dark:text-white",children:[f.timeLimit||30," min"]})]})]})]})}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-200 dark:border-gray-700 p-4 sm:p-5",children:[e.jsxs("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-3 flex items-center gap-2",children:[e.jsx(Mr,{className:"w-4 h-4 text-blue-500"}),"Mtodos de Pagamento"]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:f.paymentMethods&&f.paymentMethods.length>0?f.paymentMethods.map(k=>{const A=typeof k.details=="string"?JSON.parse(k.details):k.details,C=k.type?.toUpperCase();return e.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-xl bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 border border-blue-200 dark:border-blue-700",children:[e.jsxs("div",{className:"w-8 h-8 rounded-lg bg-blue-500 flex items-center justify-center flex-shrink-0",children:[C==="PIX"&&e.jsx(Mr,{className:"w-4 h-4 text-white"}),C==="BANK_TRANSFER"&&e.jsx(ma,{className:"w-4 h-4 text-white"}),(C==="MERCADO_PAGO"||C==="PAYPAL")&&e.jsx(Ht,{className:"w-4 h-4 text-white"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-xs font-bold text-blue-900 dark:text-blue-100 uppercase",children:C}),e.jsx("div",{className:"text-xs text-blue-700 dark:text-blue-300 truncate",children:A?.keyValue||A?.account||A?.email||A?.identifier||"N/A"})]})]},k.id)}):e.jsx("div",{className:"col-span-2 text-center py-4 text-sm text-gray-500",children:"Nenhum mtodo configurado"})})]}),e.jsxs("div",{className:"hidden sm:block bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-200 dark:border-gray-700 p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(so,{className:"w-4 h-4 text-green-500"}),"Histrico de Trades"]}),e.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[f.completedTrades||0," trades"]})]}),e.jsxs("div",{className:"text-center py-6",children:[e.jsx(so,{className:"w-10 h-10 text-gray-300 dark:text-gray-600 mx-auto mb-2"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Ainda no h trades para esta ordem"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-900 rounded-2xl shadow-xl border border-gray-200 dark:border-gray-700 p-4 sm:p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 mb-4 sm:mb-6",children:[e.jsxs("div",{className:"relative flex-shrink-0",children:[e.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 rounded-2xl bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-xl sm:text-2xl font-bold text-white shadow-lg",children:f.user?.username?.charAt(0).toUpperCase()||"U"}),f.user?.isOnline&&e.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 sm:w-5 sm:h-5 bg-green-500 rounded-full border-2 border-white dark:border-gray-800 flex items-center justify-center",children:e.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"})})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"text-base sm:text-lg font-bold text-gray-900 dark:text-white truncate",children:f.user?.username||"Annimo"}),f.user?.verified&&e.jsx(dt,{className:"w-3 h-3 sm:w-4 sm:h-4 text-blue-500 flex-shrink-0"})]}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:f.user?.isOnline?"Online":"Offline"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:gap-3 mb-4 sm:mb-6",children:[e.jsxs("div",{className:"text-center p-2 sm:p-3 rounded-xl bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800",children:[e.jsx(Qt,{className:"w-3 h-3 sm:w-4 sm:h-4 text-yellow-500 mx-auto mb-1"}),e.jsxs("div",{className:"text-base sm:text-lg font-bold text-gray-900 dark:text-white",children:[f.avgRating||0,"%"]}),e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Reputao"})]}),e.jsxs("div",{className:"text-center p-2 sm:p-3 rounded-xl bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800",children:[e.jsx(Vr,{className:"w-3 h-3 sm:w-4 sm:h-4 text-blue-500 mx-auto mb-1"}),e.jsx("div",{className:"text-base sm:text-lg font-bold text-gray-900 dark:text-white",children:f.completedTrades||0}),e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Trades"})]}),e.jsxs("div",{className:"text-center p-2 sm:p-3 rounded-xl bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800",children:[e.jsx(Pe,{className:"w-3 h-3 sm:w-4 sm:h-4 text-green-500 mx-auto mb-1"}),e.jsxs("div",{className:"text-base sm:text-lg font-bold text-gray-900 dark:text-white",children:[f.successRate||0,"%"]}),e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Sucesso"})]}),e.jsxs("div",{className:"text-center p-2 sm:p-3 rounded-xl bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-800",children:[e.jsx(pa,{className:"w-3 h-3 sm:w-4 sm:h-4 text-purple-500 mx-auto mb-1"}),e.jsx("div",{className:"text-base sm:text-lg font-bold text-gray-900 dark:text-white",children:"2024"}),e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Membro"})]})]}),f.badges&&f.badges.length>0&&e.jsxs("div",{className:"mb-4 sm:mb-6",children:[e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2 font-medium",children:"Badges"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:f.badges.map(k=>e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-lg bg-gradient-to-r from-blue-500 to-purple-600 text-white text-xs font-medium shadow-md",children:[k==="verified"&&e.jsxs(e.Fragment,{children:[e.jsx(dt,{className:"w-3 h-3"})," Verificado"]}),k==="pro_trader"&&e.jsxs(e.Fragment,{children:[e.jsx(ct,{className:"w-3 h-3"})," Pro"]}),k==="trusted"&&e.jsxs(e.Fragment,{children:[e.jsx(os,{className:"w-3 h-3"})," Confivel"]})]},k))})]}),e.jsxs("button",{onClick:()=>n(`/chat?userId=${f.user?.id}&orderId=${f.id}&context=p2p`),className:"w-full px-4 py-2.5 rounded-xl bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white font-medium transition-all flex items-center justify-center gap-2 text-sm shadow-lg hover:shadow-xl hover:scale-[1.02] active:scale-[0.98]",children:[e.jsx(Vs,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Conversar com o Vendedor"}),e.jsx("span",{className:"sm:hidden",children:"Chat"})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl shadow-2xl p-4 sm:p-6 text-white",children:[e.jsxs("h3",{className:"text-base sm:text-lg font-bold mb-3 sm:mb-4 flex items-center gap-2",children:[e.jsx(ct,{className:"w-4 h-4 sm:w-5 sm:h-5"}),"Iniciar Trade"]}),e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium mb-2 opacity-90",children:["Quanto voc quer ",f.type==="buy"?"vender":"comprar","?"]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",value:a,onChange:k=>l(k.target.value),placeholder:"0.00",className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 rounded-xl bg-white/10 backdrop-blur-sm border border-white/20 text-white placeholder-white/50 font-mono text-base sm:text-lg focus:outline-none focus:ring-2 focus:ring-white/50",step:"0.01",min:"0"}),e.jsx("span",{className:"absolute right-3 sm:right-4 top-1/2 -translate-y-1/2 text-sm font-bold opacity-70",children:f.fiatCurrency||"BRL"})]}),e.jsxs("div",{className:"text-xs mt-1.5 opacity-75",children:["Limites: ",w(parseFloat(f.minAmount))," -"," ",w(parseFloat(f.maxAmount))]})]}),a&&parseFloat(a)>0&&e.jsxs("div",{className:"space-y-2 p-3 sm:p-4 rounded-xl bg-white/10 backdrop-blur-sm border border-white/20",children:[e.jsxs("div",{className:"flex justify-between text-xs sm:text-sm",children:[e.jsx("span",{className:"opacity-75",children:"Voc receber:"}),e.jsxs("span",{className:"font-bold",children:[(parseFloat(a)/parseFloat(f.price)).toFixed(8)," ",f.coin]})]}),e.jsxs("div",{className:"flex justify-between text-xs sm:text-sm",children:[e.jsx("span",{className:"opacity-75",children:"Voc pagar:"}),e.jsx("span",{className:"font-bold",children:w(parseFloat(a))})]})]}),e.jsx("div",{className:"p-2.5 sm:p-3 rounded-xl bg-yellow-500/20 backdrop-blur-sm border border-yellow-300/30",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(rt,{className:"w-3 h-3 sm:w-4 sm:h-4 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-xs space-y-1",children:[e.jsx("p",{className:"font-medium",children:"Importante:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-0.5 opacity-90 text-xs",children:[e.jsxs("li",{children:[f.timeLimit||30," min para completar"]}),e.jsxs("li",{className:"hidden sm:list-item",children:[f.coin," em escrow"]})]})]})]})}),e.jsx("button",{onClick:v,disabled:!a||parseFloat(a)<parseFloat(f.minAmount)||parseFloat(a)>parseFloat(f.maxAmount)||b,className:"w-full px-4 sm:px-6 py-3 sm:py-4 rounded-xl bg-white text-blue-600 font-bold text-base sm:text-lg shadow-lg hover:shadow-xl hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 transition-all duration-200 flex items-center justify-center gap-2",children:b?e.jsxs(e.Fragment,{children:[e.jsx(hr,{className:"w-4 h-4 sm:w-5 sm:h-5 animate-spin"}),e.jsx("span",{className:"hidden sm:inline",children:"Iniciando..."}),e.jsx("span",{className:"sm:hidden",children:"..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(ct,{className:"w-4 h-4 sm:w-5 sm:h-5"}),e.jsx("span",{className:"hidden sm:inline",children:"Iniciar Trade Agora"}),e.jsx("span",{className:"sm:hidden",children:"Iniciar"})]})})]})]})]})]})})]})},eb=()=>{const n=mr(),{orderId:r}=ho(),{data:a,isLoading:l}=s0(r),u=I2(),{data:h}=si(),[g,p]=j.useState(""),[b,f]=j.useState(""),[w,v]=j.useState(""),[k,A]=j.useState(""),[C,T]=j.useState("30"),[I,R]=j.useState([]),[O,P]=j.useState(""),[G,Q]=j.useState("");j.useEffect(()=>{a&&(p(a.price||""),f(a.amount?.toString()||""),v(a.minAmount?.toString()||""),A(a.maxAmount?.toString()||""),T(a.timeLimit?.toString()||"30"),P(a.terms||""),Q(a.autoReply||""))},[a]);const D=$=>{R(z=>z.includes($)?z.filter(K=>K!==$):[...z,$])},B=async $=>{if($.preventDefault(),!g||!b||!w||!k){De.error("Por favor, preencha todos os campos obrigatrios");return}if(I.length===0){De.error("Selecione pelo menos um mtodo de pagamento");return}try{const z={price:g,amount:b,min_amount:w,max_amount:k,payment_methods:I,time_limit:Number.parseInt(C),terms:O||void 0,auto_reply:G||void 0};await u.mutateAsync({orderId:r,updates:z}),De.success("Ordem atualizada com sucesso!"),n("/p2p/my-orders")}catch(z){console.error("Error updating order:",z),De.error("Erro ao atualizar ordem")}};return l?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Carregando ordem..."})]})}):a?e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:e.jsxs("div",{className:"max-w-2xl mx-auto px-4",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("button",{onClick:()=>n("/p2p/my-orders"),title:"Voltar",className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-lg transition",children:e.jsx(rs,{className:"w-6 h-6"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Editar Ordem"})]}),e.jsxs("form",{onSubmit:B,className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[e.jsx(Ur,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),e.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:["Voc est editando a ordem ",e.jsx("strong",{children:a?.coin})," criada em"," ",new Date(a?.createdAt||"").toLocaleDateString("pt-BR")]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Preo (",a?.fiatCurrency||"BRL",")"]}),e.jsx("input",{type:"number",step:"0.01",value:g,onChange:$=>p($.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Preo por unidade"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Quantidade (",a?.coin||"BTC",")"]}),e.jsx("input",{type:"number",step:"0.00000001",value:b,onChange:$=>f($.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Quantidade total"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Valor Mnimo (",a?.fiatCurrency||"BRL",")"]}),e.jsx("input",{type:"number",step:"0.01",value:w,onChange:$=>v($.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Valor Mximo (",a?.fiatCurrency||"BRL",")"]}),e.jsx("input",{type:"number",step:"0.01",value:k,onChange:$=>A($.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"timeLimit",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tempo Limite (minutos)"}),e.jsxs("select",{id:"timeLimit",title:"Selecione o tempo limite",value:C,onChange:$=>T($.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"15",children:"15 minutos"}),e.jsx("option",{value:"30",children:"30 minutos"}),e.jsx("option",{value:"45",children:"45 minutos"}),e.jsx("option",{value:"60",children:"1 hora"}),e.jsx("option",{value:"120",children:"2 horas"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"paymentMethods",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Mtodos de Pagamento"}),e.jsx("div",{id:"paymentMethods",className:"space-y-2",children:h?.map($=>e.jsxs("label",{className:"flex items-center gap-3 p-3 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:I.includes($.id.toString()),onChange:()=>D($.id.toString()),className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white uppercase",children:$.type})]},$.id))})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"terms",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Termos (opcional)"}),e.jsx("textarea",{id:"terms",value:O,onChange:$=>P($.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: No compre se for revender. Eu no aceito contas novas.",rows:3})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"autoReply",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Resposta Automtica (opcional)"}),e.jsx("textarea",{id:"autoReply",value:G,onChange:$=>Q($.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Mensagem automtica para compradores",rows:3})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{type:"button",onClick:()=>n("/p2p/my-orders"),className:"flex-1 px-6 py-3 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg font-medium hover:bg-gray-50 dark:hover:bg-gray-700 transition",children:"Cancelar"}),e.jsx("button",{type:"submit",disabled:u.isPending,className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition disabled:opacity-50 disabled:cursor-not-allowed",children:u.isPending?"Salvando...":"Atualizar Ordem"})]})]})]})}):e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx(rt,{className:"w-12 h-12 text-red-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Ordem no encontrada"}),e.jsx("button",{onClick:()=>n("/p2p/my-orders"),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Voltar s Minhas Ordens"})]})})},tb=()=>{const n=mr(),{tradeId:r}=ho(),[a,l]=j.useState(""),[u,h]=j.useState(null),[g,p]=j.useState(!1),[b,f]=j.useState(""),[w,v]=j.useState(!1),[k,A]=j.useState(0),[C,T]=j.useState(""),[I,R]=j.useState(0),{data:O,isLoading:P,error:G}=z2(r),{data:Q}=Y2(r),D=W2();q2(),G2();const B=X2(),$=Q2(),z=K2(),K=Z2(),re=O?.data;j.useEffect(()=>{if(!re||!re.time_limit)return;const ye=()=>{const ue=new Date(re.created_at).getTime(),ce=re.time_limit*60*1e3,ke=ue+ce,Ge=Date.now(),_e=Math.max(0,ke-Ge);return Math.floor(_e/1e3)};R(ye());const Re=setInterval(()=>{const ue=ye();R(ue),ue===0&&(clearInterval(Re),De.error("Tempo limite expirado!"))},1e3);return()=>clearInterval(Re)},[re]);const F=ye=>{const Re=Math.floor(ye/60),ue=ye%60;return`${Re}:${ue.toString().padStart(2,"0")}`},X=ye=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(ye),ae=ye=>{const Re=[{key:"pending",label:"Aguardando Pagamento",icon:Et,active:ye==="pending"},{key:"payment_sent",label:"Pagamento Enviado",icon:Ln,active:ye==="payment_sent"},{key:"payment_confirmed",label:"Pagamento Confirmado",icon:Pe,active:ye==="payment_confirmed"},{key:"escrow_released",label:"Escrow Liberado",icon:dt,active:ye==="escrow_released"},{key:"completed",label:"Completo",icon:Ld,active:ye==="completed"}],ue=Re.findIndex(ce=>ce.key===ye);return Re.map((ce,ke)=>({...ce,completed:ke<ue,current:ke===ue}))},H=async()=>{if(!u){De.error("Por favor, faa upload do comprovante de pagamento");return}try{await D.mutateAsync({tradeId:r,proofUrl:"uploaded-proof-url"}),De.success("Pagamento marcado como enviado!"),h(null)}catch(ye){console.error("Error marking payment:",ye)}},ve=async()=>{if(confirm("Tem certeza que deseja cancelar este trade?"))try{await B.mutateAsync(r),De.success("Trade cancelado"),n("/p2p")}catch(ye){console.error("Error canceling trade:",ye)}},me=async()=>{if(!b.trim()){De.error("Por favor, descreva o motivo da disputa");return}try{await $.mutateAsync({tradeId:r,reason:b}),De.success("Disputa aberta. Nossa equipe ir analisar."),p(!1),f("")}catch(ye){console.error("Error opening dispute:",ye)}},ie=async()=>{if(a.trim())try{await z.mutateAsync({tradeId:r,message:a.trim()}),l("")}catch(ye){console.error("Error sending message:",ye)}},je=async()=>{if(k===0){De.error("Por favor, selecione uma avaliao");return}try{await K.mutateAsync({tradeId:r,rating:k,comment:C}),De.success("Obrigado pelo seu feedback!"),v(!1),n("/p2p")}catch(ye){console.error("Error leaving feedback:",ye)}},se=ye=>{const Re=ye.target.files?.[0];if(Re){if(Re.size>5*1024*1024){De.error("Arquivo muito grande. Mximo 5MB");return}h(Re),De.success("Arquivo selecionado")}};if(P)return e.jsxs("div",{className:"flex items-center justify-center min-h-screen",children:[e.jsx(hr,{className:"w-8 h-8 animate-spin text-blue-600"}),e.jsx("span",{className:"ml-3 text-gray-600 dark:text-gray-400",children:"Carregando trade..."})]});if(G||!re)return e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen",children:[e.jsx(rt,{className:"w-16 h-16 text-red-500 mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Erro ao carregar trade"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:G instanceof Error?G.message:"Trade no encontrado"}),e.jsx("button",{onClick:()=>n("/p2p"),className:"text-blue-600 hover:text-blue-700 font-medium",children:"Voltar ao Marketplace"})]});const le=ae(re.status),de=re.status==="pending",ge=!1,Ce=!1,Ie=re.status==="completed",fe=re.status==="disputed";return e.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>n("/p2p"),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",children:e.jsx(rs,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:["Trade #",re.id.slice(0,8)]}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:["Comprando"," ",re.coin]})]}),!Ie&&!fe&&e.jsx("div",{className:`px-6 py-3 rounded-lg ${I<300?"bg-red-100 dark:bg-red-900":"bg-blue-100 dark:bg-blue-900"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Et,{className:`w-5 h-5 ${I<300?"text-red-600":"text-blue-600"}`}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Tempo Restante"}),e.jsx("p",{className:`text-2xl font-bold ${I<300?"text-red-600":"text-blue-600"}`,children:F(I)})]})]})})]}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:e.jsx("div",{className:"relative",children:e.jsx("div",{className:"flex justify-between",children:le.map((ye,Re)=>{const ue=ye.icon;return e.jsxs("div",{className:"flex flex-col items-center flex-1",children:[e.jsx("div",{className:`relative z-10 w-12 h-12 rounded-full flex items-center justify-center ${ye.completed?"bg-green-600":ye.current?"bg-blue-600 ring-4 ring-blue-200 dark:ring-blue-900":"bg-gray-300 dark:bg-gray-600"}`,children:e.jsx(ue,{className:"w-6 h-6 text-white"})}),e.jsx("p",{className:`mt-2 text-sm font-medium text-center ${ye.completed||ye.current?"text-gray-900 dark:text-white":"text-gray-500 dark:text-gray-400"}`,children:ye.label}),Re<le.length-1&&e.jsx("div",{className:`absolute top-6 left-1/2 w-full h-1 -z-10 ${ye.completed?"bg-green-600":"bg-gray-300 dark:bg-gray-600"}`,style:{transform:"translateY(-50%)"}})]},ye.key)})})})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Detalhes do Trade"}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:["Voc ","paga"]}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:X(re.amount)})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:["Voc ","recebe"]}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[(re.amount/re.price).toFixed(8)," ",re.coin]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Preo"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:X(re.price)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Mtodo de Pagamento"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:re.payment_method||"PIX"})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Aes"}),fe&&e.jsx("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800 mb-4",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(Nr,{className:"w-6 h-6 text-red-600 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-red-900 dark:text-red-300",children:"Trade em Disputa"}),e.jsx("p",{className:"text-sm text-red-700 dark:text-red-400 mt-1",children:"Nossa equipe est analisando. Voc receber uma resposta em breve."})]})]})}),Ie&&e.jsx("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800 mb-4",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(Pe,{className:"w-6 h-6 text-green-600 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-green-900 dark:text-green-300",children:"Trade Completo!"}),e.jsx("p",{className:"text-sm text-green-700 dark:text-green-400 mt-1",children:"A transao foi concluda com sucesso. Avalie o trader!"})]})]})}),de&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(Ur,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:[e.jsx("p",{className:"font-medium mb-1",children:"Instrues:"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-1",children:[e.jsxs("li",{children:["Realize o pagamento via ",re.payment_method||"PIX"]}),e.jsx("li",{children:"Faa upload do comprovante abaixo"}),e.jsx("li",{children:'Marque como "Pagamento Enviado"'}),e.jsx("li",{children:"Aguarde confirmao do vendedor"})]})]})]})}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-6",children:[e.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:se,className:"hidden",id:"proof-upload"}),e.jsx("label",{htmlFor:"proof-upload",className:"flex flex-col items-center cursor-pointer",children:u?e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Cr,{className:"w-8 h-8 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:u.name}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[(u.size/1024).toFixed(2)," KB"]})]}),e.jsx("button",{onClick:ye=>{ye.preventDefault(),h(null)},className:"ml-auto p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg",children:e.jsx(Dr,{className:"w-5 h-5"})})]}):e.jsxs(e.Fragment,{children:[e.jsx(Ln,{className:"w-12 h-12 text-gray-400 mb-3"}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 font-medium mb-1",children:"Clique para fazer upload"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"PNG, JPG ou PDF (mx. 5MB)"})]})})]}),e.jsx("button",{onClick:H,disabled:!u||D.isPending,className:"w-full py-3 bg-green-600 hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white rounded-lg font-semibold transition-colors inline-flex items-center justify-center gap-2",children:D.isPending?e.jsxs(e.Fragment,{children:[e.jsx(hr,{className:"w-5 h-5 animate-spin"}),"Enviando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Pe,{className:"w-5 h-5"}),"Marcar Pagamento como Enviado"]})})]}),ge,Ce,Ie&&e.jsxs("button",{onClick:()=>v(!0),className:"w-full py-3 bg-yellow-600 hover:bg-yellow-700 text-white rounded-lg font-semibold transition-colors inline-flex items-center justify-center gap-2",children:[e.jsx(Qt,{className:"w-5 h-5"}),"Avaliar Trader"]}),!Ie&&!fe&&e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsxs("button",{onClick:()=>p(!0),className:"flex-1 py-2 bg-red-100 hover:bg-red-200 dark:bg-red-900/20 dark:hover:bg-red-900/40 text-red-700 dark:text-red-300 rounded-lg font-medium transition-colors inline-flex items-center justify-center gap-2",children:[e.jsx(ax,{className:"w-4 h-4"}),"Abrir Disputa"]}),e.jsxs("button",{onClick:ve,disabled:B.isPending,className:"flex-1 py-2 bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg font-medium transition-colors inline-flex items-center justify-center gap-2",children:[e.jsx(Dr,{className:"w-4 h-4"}),"Cancelar Trade"]})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow flex flex-col",style:{height:"600px"},children:[e.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Vs,{className:"w-5 h-5 text-blue-600"}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Chat do Trade"})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[Q?.data?.map(ye=>e.jsx("div",{className:`flex ${ye.is_own?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-xs px-4 py-2 rounded-lg ${ye.is_own?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white"}`,children:[e.jsx("p",{className:"text-sm",children:ye.message}),e.jsx("p",{className:`text-xs mt-1 ${ye.is_own?"text-blue-100":"text-gray-500 dark:text-gray-400"}`,children:new Date(ye.created_at).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]})},ye.id)),(!Q?.data||Q.data.length===0)&&e.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[e.jsx(Vs,{className:"w-12 h-12 text-gray-400 mb-3"}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400 text-center",children:["Nenhuma mensagem ainda.",e.jsx("br",{}),"Inicie a conversa!"]})]})]}),e.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:a,onChange:ye=>l(ye.target.value),onKeyPress:ye=>ye.key==="Enter"&&ie(),placeholder:"Digite sua mensagem...",className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e.jsx("button",{onClick:ie,disabled:!a.trim()||z.isPending,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white rounded-lg transition-colors inline-flex items-center justify-center",children:e.jsx(Pr,{className:"w-5 h-5"})})]})})]})]}),g&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Abrir Disputa"}),e.jsx("button",{onClick:()=>p(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:e.jsx(Dr,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Motivo da Disputa"}),e.jsx("textarea",{value:b,onChange:ye=>f(ye.target.value),rows:4,placeholder:"Descreva o problema...",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>p(!1),className:"flex-1 px-4 py-2 bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg font-medium transition-colors",children:"Cancelar"}),e.jsx("button",{onClick:me,disabled:!b.trim()||$.isPending,className:"flex-1 px-4 py-2 bg-red-600 hover:bg-red-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white rounded-lg font-medium transition-colors",children:$.isPending?"Abrindo...":"Abrir Disputa"})]})]})}),w&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Avaliar Trader"}),e.jsx("button",{onClick:()=>v(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:e.jsx(Dr,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Avaliao"}),e.jsx("div",{className:"flex gap-2 justify-center",children:[1,2,3,4,5].map(ye=>e.jsx("button",{onClick:()=>A(ye),className:"p-2 transition-transform hover:scale-110",children:e.jsx(Qt,{className:`w-8 h-8 ${ye<=k?"text-yellow-500 fill-current":"text-gray-300 dark:text-gray-600"}`})},ye))})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Comentrio (opcional)"}),e.jsx("textarea",{value:C,onChange:ye=>T(ye.target.value),rows:3,placeholder:"Conte sua experincia...",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>v(!1),className:"flex-1 px-4 py-2 bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg font-medium transition-colors",children:"Cancelar"}),e.jsx("button",{onClick:je,disabled:k===0||K.isPending,className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white rounded-lg font-medium transition-colors",children:K.isPending?"Enviando...":"Enviar Avaliao"})]})]})})]})},Ps={MIN_AMOUNT:1,PF_DAILY_LIMIT:1e4,PJ_DAILY_LIMIT:1e5};function oc(n,r,a){return r==="USD"?n:r==="BRL"?a(n):r==="EUR"?n*1.1:n}function rb(n,r,a,l,u=0){const h=oc(n,a,l),g=oc(u,a,l);if(h<Ps.MIN_AMOUNT)return{isValid:!1,message:`Mnimo de $${Ps.MIN_AMOUNT.toLocaleString("en-US",{minimumFractionDigits:2})} USD necessrio`,remaining:0,percentUsed:0};const p=r==="PJ"?Ps.PJ_DAILY_LIMIT:Ps.PF_DAILY_LIMIT,b=g+h,f=Math.max(0,p-b),w=b/p*100;return b>p?{isValid:!1,message:`Voc atingiu o limite dirio de $${p.toLocaleString("en-US",{maximumFractionDigits:0})} USD para ${r==="PJ"?"Pessoa Jurdica":"Pessoa Fsica"}. Restante: $${f.toLocaleString("en-US",{maximumFractionDigits:2})} USD`,remaining:f,percentUsed:w}:{isValid:!0,message:`Operao vlida. Restante do limite: $${f.toLocaleString("en-US",{maximumFractionDigits:2})} USD`,remaining:f,percentUsed:w}}function sb(n){const r=n==="PJ"?Ps.PJ_DAILY_LIMIT:Ps.PF_DAILY_LIMIT;return{min:Ps.MIN_AMOUNT,max:r,type:n==="PJ"?"Pessoa Jurdica":"Pessoa Fsica",currency:"USD"}}function ab({accountType:n,amount:r,currency:a,convertFromBRL:l,dailySpent:u=0,currencySymbol:h}){const g=rb(r,n,a,l,u),p=sb(n),b=Math.min(g.percentUsed,100),f=()=>g.percentUsed>=100?"bg-red-600":g.percentUsed>=80?"bg-amber-600":"bg-green-600";return e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-3",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"flex-shrink-0 mt-0.5",children:g.isValid?e.jsx(Pe,{className:"w-5 h-5 text-green-600 dark:text-green-400"}):e.jsx(rt,{className:"w-5 h-5 text-red-600 dark:text-red-400"})}),e.jsx("div",{className:"flex-1",children:e.jsx("p",{className:`text-sm font-medium ${g.isValid?"text-green-900 dark:text-green-200":"text-red-900 dark:text-red-200"}`,children:g.message})})]})}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:["Limite Dirio - ",p.type]}),e.jsxs("span",{className:"text-xs font-bold text-gray-900 dark:text-white",children:[g.percentUsed.toFixed(1),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 overflow-hidden",children:e.jsx("div",{className:`h-full transition-all duration-300 ${f()} ${b>=100?"w-full":""} ${b>=80&&b<100?"w-4/5":""} ${b<80?"w-1/2":""}`})}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Usado Hoje"}),e.jsxs("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:[h," ",(u+r).toLocaleString("pt-BR",{maximumFractionDigits:2})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Limite Dirio"}),e.jsxs("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:[h," ",p.max.toLocaleString("pt-BR",{maximumFractionDigits:0})]})]})]})]}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/30 rounded-lg shadow p-3 border-l-2 border-blue-500",children:[e.jsx("h4",{className:"text-xs font-semibold text-blue-900 dark:text-blue-200 mb-2",children:"Regras de Operao"}),e.jsxs("div",{className:"space-y-1 text-xs text-blue-800 dark:text-blue-300",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Mnimo:"})," ",h," ",p.min.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Mximo Dirio:"})," ",h," ",p.max.toLocaleString("pt-BR",{maximumFractionDigits:0})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Tipo de Conta:"})," ",p.type]})]})]}),!g.isValid&&e.jsx("div",{className:"bg-red-50 dark:bg-red-900/30 rounded-lg shadow p-3 border-l-2 border-red-500",children:e.jsxs("p",{className:"text-xs text-red-800 dark:text-red-300",children:[" Limite excedido. Voc pode operar at ",h," ",g.remaining.toLocaleString("pt-BR",{maximumFractionDigits:2})," hoje."]})})]})}const nb="http://127.0.0.1:8000/api/v1",ib={BTC:"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1696501400",ETH:"https://assets.coingecko.com/coins/images/279/large/ethereum.png?1696501628",MATIC:"https://assets.coingecko.com/coins/images/4713/large/matic-token-icon.png?1696504745",BNB:"https://assets.coingecko.com/coins/images/825/large/bnb-icon2_2x.png?1696501970",TRX:"https://assets.coingecko.com/coins/images/1094/large/tron-logo.png?1696502193",BASE:"https://assets.coingecko.com/coins/images/30617/large/base.jpg?1696519330",USDT:"https://assets.coingecko.com/coins/images/325/large/Tether.png?1696501661",SOL:"https://assets.coingecko.com/coins/images/4128/large/solana.png?1696504756",LTC:"https://assets.coingecko.com/coins/images/2/large/litecoin.png?1696501400",DOGE:"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1696501400",ADA:"https://assets.coingecko.com/coins/images/975/large/cardano.png?1696502090",AVAX:"https://assets.coingecko.com/coins/images/12559/large/Avalanche_Circle_RedWhite_Trans.png?1696512369",DOT:"https://assets.coingecko.com/coins/images/12171/large/polkadot.png?1696512008",LINK:"https://assets.coingecko.com/coins/images/877/large/chainlink-new-logo.png?1696502009",SHIB:"https://assets.coingecko.com/coins/images/11939/large/shiba.png?1622619446",XRP:"https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png?1696501442"};function Pi({cryptoPrices:n,selectedSymbol:r,onSymbolChange:a,isBuy:l,onOperationChange:u,onQuoteReceived:h,currency:g,convertFromBRL:p}){const{token:b}=Vt(),[f,w]=j.useState(""),[v,k]=j.useState(!1),[A,C]=j.useState(0),[T,I]=j.useState(0),[R,O]=j.useState(0),[P,G]=j.useState({}),Q=j.useRef(null),D=j.useRef(null),B=6e4;j.useEffect(()=>{(async()=>{try{if(!b){console.error("[TradingForm] No token found");return}const X=await fetch("http://127.0.0.1:8000/wallets/",{headers:{Authorization:`Bearer ${b}`}});if(!X.ok)throw new Error(`Failed to fetch wallets: ${X.status}`);const ae=await X.json();if(!ae?.length)throw new Error("No wallets found");const H=ae[0].id,ve=await fetch(`http://127.0.0.1:8000/wallets/${H}/balances?include_tokens=true`,{headers:{Authorization:`Bearer ${b}`}});if(!ve.ok)throw new Error(`Failed to fetch balances: ${ve.status}`);const me=await ve.json(),ie=$(me.balances);G(ie)}catch(X){console.error("[TradingForm] Error fetching balances:",X),G({})}})()},[b]);const $=F=>{const X={};for(const[ae,H]of Object.entries(F||{})){const ve=ae.toLowerCase(),me=z(H),ie=K(ve);ie&&(X[ie]=(X[ie]||0)+me)}return X},z=F=>typeof F=="object"&&F?.balance!==void 0?Number.parseFloat(String(F.balance))||0:typeof F=="number"?F:0,K=F=>F.includes("usdt")?"USDT":F.includes("usdc")?"USDC":{polygon:"MATIC",ethereum:"ETH",eth:"ETH",bitcoin:"BTC",btc:"BTC",base:"BASE",bsc:"BNB",solana:"SOL",sol:"SOL",tron:"TRX",trx:"TRX",litecoin:"LTC",ltc:"LTC",dogecoin:"DOGE",doge:"DOGE",cardano:"ADA",ada:"ADA",avalanche:"AVAX",avax:"AVAX",polkadot:"DOT",dot:"DOT",chainlink:"LINK",link:"LINK",shiba:"SHIB",shib:"SHIB",xrp:"XRP"}[F]||"",re=F=>F===0?"0":F<1e-4?F.toFixed(8).replace(/\.?0+$/,""):F<1?F.toFixed(6).replace(/\.?0+$/,""):F<1e3?F.toFixed(4).replace(/\.?0+$/,""):F.toFixed(2).replace(/\.?0+$/,"");return j.useEffect(()=>{const F=P[r]||0;O(F)},[r,P]),j.useEffect(()=>{if(A===0)return;const F=()=>{const ae=Date.now()-A,H=Math.max(0,Math.ceil((B-ae)/1e3));I(H),H===0&&D.current&&clearTimeout(D.current)};return F(),D.current=setInterval(F,1e3),()=>{D.current&&clearInterval(D.current)}},[A]),j.useEffect(()=>{if(Q.current&&clearTimeout(Q.current),!(!f||Number(f)<=0||Date.now()-A<B))return Q.current=setTimeout(async()=>{k(!0);try{const ae=await xt.post(`${nb}/instant-trade/quote`,{operation:l?"buy":"sell",symbol:r,[l?"fiat_amount":"crypto_amount"]:Number(f)});h(ae.data.quote),C(Date.now())}catch(ae){console.error("Auto-quote error:",ae.response?.data?.message)}finally{k(!1)}},800),()=>{Q.current&&clearTimeout(Q.current)}},[f,r,l,h,A]),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow",children:e.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 space-y-3",children:[e.jsxs("div",{className:"flex bg-gray-100 dark:bg-gray-700 rounded-lg p-1 gap-1",children:[e.jsx("button",{onClick:()=>{u(!0),w("")},className:`flex-1 px-2 py-2 rounded text-sm font-medium transition-colors ${l?"bg-green-600 text-white shadow":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:"Buy"}),e.jsx("button",{onClick:()=>{u(!1),w("")},className:`flex-1 px-2 py-2 rounded text-sm font-medium transition-colors ${l?"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white":"bg-red-600 text-white shadow"}`,children:"Sell"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"crypto-select",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Crypto"}),e.jsxs("div",{className:"relative",children:[e.jsx("select",{id:"crypto-select",value:r,onChange:F=>{const X=F.target.value;a(X),w(""),C(0)},className:"w-full pl-10 pr-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none",children:n.map(F=>e.jsxs("option",{value:F.symbol,children:[F.symbol," - ",F.name]},F.symbol))}),e.jsx("img",{src:ib[r]||"",alt:r,className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 rounded-full pointer-events-none",onError:F=>{F.currentTarget.style.display="none"}}),e.jsx("svg",{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 dark:text-gray-500 pointer-events-none",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Amount (",l?g:r,")"]}),!l&&e.jsx("div",{className:"flex items-center gap-2",children:R>0?e.jsxs("button",{onClick:()=>{w(R.toString()),C(0)},className:"text-xs bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 px-2 py-1 rounded hover:bg-blue-200 dark:hover:bg-blue-900/50 transition-colors font-medium",children:["Max: ",re(R)," ",r]}):e.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 px-2 py-1",children:["Saldo: 0 ",r]})})]}),e.jsx("input",{type:"number",value:f,onChange:F=>{w(F.target.value),(!F.target.value||F.target.value==="")&&C(0)},placeholder:"0.00",max:l?void 0:R,className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),v&&e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-blue-50 dark:bg-blue-900/20 rounded border border-blue-200 dark:border-blue-700",children:[e.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-2 border-blue-600 border-t-transparent"}),e.jsx("span",{className:"text-xs text-blue-700 dark:text-blue-400",children:"Fetching quote..."})]}),!l&&f&&Number(f)>R&&e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 dark:bg-red-900/20 rounded border border-red-200 dark:border-red-700",children:[e.jsx("svg",{className:"w-4 h-4 text-red-600 dark:text-red-400 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),e.jsxs("span",{className:"text-xs text-red-700 dark:text-red-400",children:["Insufficient balance. You have ",R.toFixed(8)," ",r]})]}),v&&e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-blue-50 dark:bg-blue-900/20 rounded border border-blue-200 dark:border-blue-700",children:[e.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-2 border-blue-600 border-t-transparent"}),e.jsx("span",{className:"text-xs text-blue-700 dark:text-blue-400",children:"Fetching quote..."})]}),A>0&&T>0&&e.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 dark:bg-green-900/20 rounded border border-green-200 dark:border-green-700",children:[e.jsx("span",{className:"text-xs text-green-700 dark:text-green-400 font-medium",children:"Quote vlida por:"}),e.jsxs("span",{className:"text-sm font-bold text-green-600 dark:text-green-400",children:[T,"s"]})]}),f&&Number(f)>0&&(()=>{let F;return g==="BRL"?F="R$":g==="USD"?F="$":F="",e.jsx(ab,{accountType:"PF",amount:Number(f),currency:g,convertFromBRL:p,dailySpent:0,currencySymbol:F})})()]})})}const ob={BTC:"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1696501400",ETH:"https://assets.coingecko.com/coins/images/279/large/ethereum.png?1696501628",MATIC:"https://assets.coingecko.com/coins/images/4713/large/matic-token-icon.png?1696504745",BNB:"https://assets.coingecko.com/coins/images/825/large/bnb-icon2_2x.png?1696501970",TRX:"https://assets.coingecko.com/coins/images/1094/large/tron-logo.png?1696502193",BASE:"https://assets.coingecko.com/coins/images/30617/large/base.jpg?1696519330",USDT:"https://assets.coingecko.com/coins/images/325/large/Tether.png?1696501661",USDC:"https://assets.coingecko.com/coins/images/6319/large/usdc.png?1696506055",DAI:"https://assets.coingecko.com/coins/images/9956/large/4943.png?1696510096",SOL:"https://assets.coingecko.com/coins/images/4128/large/solana.png?1696504756",LTC:"https://assets.coingecko.com/coins/images/2/large/litecoin.png?1696501400",DOGE:"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1696501400",ADA:"https://assets.coingecko.com/coins/images/975/large/cardano.png?1696502090",AVAX:"https://assets.coingecko.com/coins/images/12559/large/Avalanche_Circle_RedWhite_Trans.png?1696512369",DOT:"https://assets.coingecko.com/coins/images/12171/large/polkadot.png?1696512008",LINK:"https://assets.coingecko.com/coins/images/877/large/chainlink-new-logo.png?1696502009",SHIB:"https://assets.coingecko.com/coins/images/11939/large/shiba.png?1622619446",XRP:"https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png?1696501442"};function lb({cryptoPrices:n,selectedSymbol:r,onSelectSymbol:a,getCurrencySymbol:l,getCurrencyLocale:u,convertFromBRL:h}){const{currency:g}=en(),p=j.useRef(null),[b,f]=j.useState(!1),[w,v]=j.useState(!0);j.useEffect(()=>{const T=()=>{p.current&&(f(p.current.scrollLeft>0),v(p.current.scrollLeft<p.current.scrollWidth-p.current.clientWidth))},I=p.current;return I?.addEventListener("scroll",T),T(),()=>I?.removeEventListener("scroll",T)},[]);const k=T=>{p.current&&p.current.scrollBy({left:T==="left"?-300:300,behavior:"smooth"})},A=T=>T==null||typeof T!="number"||Number.isNaN(T)?0:Number.isFinite(T)?T:0,C=T=>T===0?"0.00":T<.01?T.toLocaleString(u(g),{minimumFractionDigits:4,maximumFractionDigits:6}):T<1?T.toLocaleString(u(g),{minimumFractionDigits:2,maximumFractionDigits:4}):T.toLocaleString(u(g),{minimumFractionDigits:2,maximumFractionDigits:2});return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Market Prices"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>k("left"),disabled:!b||n.length===0,title:"Scroll left",className:"p-2 rounded-lg bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:e.jsx(Ad,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>k("right"),disabled:!w||n.length===0,title:"Scroll right",className:"p-2 rounded-lg bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:e.jsx(ka,{className:"w-5 h-5"})})]})]}),n.length===0?e.jsx("div",{className:"flex gap-3 overflow-x-auto scrollbar-hide",children:Array.from({length:5}).map((T,I)=>e.jsxs("div",{className:"flex-shrink-0 w-48 bg-gray-200 dark:bg-gray-700 rounded-lg p-3 animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-300 dark:bg-gray-600 rounded w-24 mb-2"}),e.jsx("div",{className:"h-6 bg-gray-300 dark:bg-gray-600 rounded w-32 mb-2"}),e.jsx("div",{className:"h-4 bg-gray-300 dark:bg-gray-600 rounded w-20"})]},`skeleton-${String(I)}`))}):e.jsx("div",{ref:p,className:"flex gap-3 overflow-x-auto scrollbar-hide",children:n.map(T=>{const I=T.change24h>=0;return e.jsxs("button",{onClick:()=>a(T.symbol),className:`flex-shrink-0 w-48 text-left bg-white dark:bg-gray-800 rounded-lg shadow p-3 cursor-pointer transition-all hover:shadow-lg hover:scale-105 ${r===T.symbol?"ring-2 ring-blue-500 scale-105":""}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("img",{src:ob[T.symbol]||"",alt:T.symbol,className:"w-8 h-8 rounded-full",onError:R=>{R.currentTarget.style.display="none"}})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-gray-900 dark:text-white text-sm",children:T.symbol}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 leading-tight",children:T.name})]})]}),e.jsxs("div",{className:`flex items-center gap-0.5 px-1.5 py-0.5 rounded text-xs font-medium ${I?"bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300":"bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300"}`,children:[I?e.jsx(er,{className:"w-2.5 h-2.5"}):e.jsx(ba,{className:"w-2.5 h-2.5"}),e.jsxs("span",{className:"text-xs",children:[Math.abs(T.change24h).toFixed(1),"%"]})]})]}),e.jsxs("p",{className:"text-lg font-bold text-gray-900 dark:text-white mb-1 leading-tight",children:[l(g)," ",C(A(T.price))]}),e.jsxs("div",{className:"grid grid-cols-2 gap-1 pt-1.5 border-t border-gray-200 dark:border-gray-700 text-xs",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-xs leading-tight",children:"H"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white text-xs",children:T.high24h>0?e.jsxs(e.Fragment,{children:[l(g)," ",C(A(T.high24h))]}):e.jsx("span",{className:"text-gray-400",children:""})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-xs leading-tight",children:"L"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white text-xs",children:T.low24h>0?e.jsxs(e.Fragment,{children:[l(g)," ",C(A(T.low24h))]}):e.jsx("span",{className:"text-gray-400",children:""})})]})]})]},T.symbol)})})]})}function Di({quote:n,currencySymbol:r,currencyLocale:a,convertFromBRL:l,onConfirmClick:u}){const[h,g]=j.useState(n?.expires_in_seconds??0),[p,b]=j.useState(!1);if(j.useEffect(()=>{if(!n)return;g(n.expires_in_seconds);const w=setInterval(()=>{g(v=>v<=1?(clearInterval(w),0):v-1)},1e3);return()=>clearInterval(w)},[n?.quote_id]),!n)return null;const f=w=>{if(w==null||typeof w!="number"||Number.isNaN(w))return"0.00";const v=l(w),k=typeof v=="number"&&!Number.isNaN(v)?v:w;return Number.isFinite(k)?k.toLocaleString(a,{maximumFractionDigits:2}):"0.00"};return e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/30 dark:to-blue-800/30 rounded-lg shadow p-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Quote"}),e.jsxs("div",{className:"flex items-center gap-1 text-sm font-medium text-amber-600 dark:text-amber-400",children:[e.jsx(Et,{className:"w-4 h-4"}),e.jsxs("span",{children:[h,"s"]})]})]}),e.jsxs("div",{className:"space-y-1 mb-2",children:[e.jsxs("div",{className:"flex justify-between items-center p-1.5 text-xs bg-white dark:bg-gray-800 rounded",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Price"}),e.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[r," ",f(n.crypto_price??0)]})]}),e.jsxs("div",{className:"flex justify-between items-center p-1.5 text-xs bg-white dark:bg-gray-800 rounded",children:[e.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Spread (",(n.spread_percentage??0).toFixed(2),"%)"]}),e.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[r," ",f(n.spread_amount??0)]})]}),e.jsxs("div",{className:"flex justify-between items-center p-1.5 text-xs bg-white dark:bg-gray-800 rounded",children:[e.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Fee (",(n.network_fee_percentage??0).toFixed(2),"%)"]}),e.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[r," ",f(n.network_fee_amount??0)]})]}),e.jsxs("div",{className:"flex justify-between items-center p-1.5 text-xs bg-gradient-to-r from-blue-600 to-blue-700 rounded",children:[e.jsx("span",{className:"font-semibold text-white",children:"Total"}),e.jsxs("span",{className:"font-bold text-white",children:[r," ",f(n.total_amount??0)]})]})]}),e.jsxs("button",{onClick:()=>b(!p),className:"w-full flex items-center justify-between p-1.5 text-xs text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700/50 rounded transition-colors mb-2",children:[e.jsx("span",{className:"font-medium",children:"Fee Breakdown"}),e.jsx(Fs,{className:`w-4 h-4 transition-transform ${p?"rotate-180":""}`})]}),p&&e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded p-2 mb-2 space-y-1 text-xs",children:n.operation==="sell"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Crypto Amount"}),e.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[(n.crypto_amount??0).toFixed(8)," ",n.symbol]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Price per Unit"}),e.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[r," ",f(n.crypto_price??0)]})]}),e.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 my-1 pt-1",children:e.jsxs("div",{className:"flex justify-between mb-1 font-semibold text-gray-900 dark:text-white",children:[e.jsx("span",{children:"Fiat Value (Before Fees)"}),e.jsxs("span",{children:[r," ",f(n.fiat_amount??0)]})]})}),e.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 my-1 pt-1",children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Spread (",(n.spread_percentage??0).toFixed(2),"%)"]}),e.jsxs("span",{className:"text-red-600 dark:text-red-400 font-medium",children:["-",r," ",f(n.spread_amount??0)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Network Fee (",(n.network_fee_percentage??0).toFixed(2),"%)"]}),e.jsxs("span",{className:"text-red-600 dark:text-red-400 font-medium",children:["-",r," ",f(n.network_fee_amount??0)]})]})]}),e.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-1 flex justify-between font-semibold text-green-600 dark:text-green-400",children:[e.jsx("span",{children:"You Receive"}),e.jsxs("span",{children:[r," ",f(n.total_amount??0)]})]}),e.jsx("div",{className:"pt-1 border-t border-gray-200 dark:border-gray-700",children:e.jsx("div",{className:"text-gray-600 dark:text-gray-400 text-xs",children:e.jsxs("p",{children:["Total Costs:"," ",((n.spread_percentage??0)+(n.network_fee_percentage??0)).toFixed(2),"%"]})})})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Fiat Amount"}),e.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[r," ",f(n.fiat_amount??0)]})]}),e.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 my-1 pt-1",children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Spread Cost"}),e.jsxs("span",{className:"text-red-600 dark:text-red-400 font-medium",children:["-",r," ",f(n.spread_amount??0)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Network Fee"}),e.jsxs("span",{className:"text-red-600 dark:text-red-400 font-medium",children:["-",r," ",f(n.network_fee_amount??0)]})]})]}),e.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-1 flex justify-between font-semibold text-gray-900 dark:text-white",children:[e.jsx("span",{children:"Final Amount"}),e.jsxs("span",{children:[r," ",f(n.total_amount??0)]})]}),e.jsx("div",{className:"pt-1 border-t border-gray-200 dark:border-gray-700",children:e.jsx("div",{className:"text-gray-600 dark:text-gray-400 text-xs",children:e.jsxs("p",{children:["Total Costs:"," ",((n.spread_percentage??0)+(n.network_fee_percentage??0)).toFixed(2),"%"]})})})]})}),e.jsx("button",{onClick:u,className:"w-full bg-blue-600 hover:bg-blue-700 text-white text-xs font-medium py-1.5 rounded transition-colors",children:"Confirm & Continue"})]})}function cb({onProofSubmitted:n,tradeId:r}){const[a,l]=j.useState(null),[u,h]=j.useState(!1),g={bankName:"Banco do Brasil",accountHolder:"HOLD DIGITAL ASSETS LTDA",cnpj:"24.275.355/0001-51",agency:"5271-0",account:"26689-2",pixKey:"24.275.355/0001-51"},p=(f,w)=>{navigator.clipboard.writeText(f),l(w),Te.success(`${w} copied!`),setTimeout(()=>l(null),2e3)},b=async f=>{const w=f.target.files?.[0];if(!w)return;if(w.size>5*1024*1024){Te.error("File too large. Maximum 5MB allowed.");return}if(!["image/jpeg","image/png","application/pdf"].includes(w.type)){Te.error("Invalid file type. Please upload JPG, PNG, or PDF.");return}h(!0);try{const k=new FormData;k.append("file",w),r&&k.append("trade_id",r);const A=await fetch("http://127.0.0.1:8000/api/v1/instant-trade/upload-proof",{method:"POST",body:k,headers:{Authorization:`Bearer ${localStorage.getItem("token")||""}`}});if(!A.ok)throw new Error("Upload failed");const C=await A.json();Te.success("Proof uploaded successfully!"),n?.(C.proof_url)}catch(k){Te.error("Failed to upload proof. Please try again."),console.error("Upload error:",k)}finally{h(!1)}};return e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-lg p-5 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Na,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-sm text-gray-900 dark:text-white",children:"Bank Transfer"}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Transfer to HOLD Digital Assets"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded",children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Bank"}),e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("p",{className:"font-semibold text-sm text-gray-900 dark:text-white truncate",children:g.bankName}),e.jsx("button",{onClick:()=>p(g.bankName,"Bank"),className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded flex-shrink-0",children:a==="Bank"?e.jsx(nr,{className:"w-4 h-4 text-green-600"}):e.jsx(Fr,{className:"w-4 h-4 text-gray-400"})})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded",children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"CNPJ"}),e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("p",{className:"font-mono font-semibold text-sm text-gray-900 dark:text-white truncate",children:g.cnpj}),e.jsx("button",{onClick:()=>p(g.cnpj,"CNPJ"),className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded flex-shrink-0",children:a==="CNPJ"?e.jsx(nr,{className:"w-4 h-4 text-green-600"}):e.jsx(Fr,{className:"w-4 h-4 text-gray-400"})})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded",children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Agency"}),e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("p",{className:"font-mono font-semibold text-sm text-gray-900 dark:text-white",children:g.agency}),e.jsx("button",{onClick:()=>p(g.agency,"Agency"),className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded flex-shrink-0",children:a==="Agency"?e.jsx(nr,{className:"w-4 h-4 text-green-600"}):e.jsx(Fr,{className:"w-4 h-4 text-gray-400"})})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded",children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Account"}),e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("p",{className:"font-mono font-semibold text-sm text-gray-900 dark:text-white",children:g.account}),e.jsx("button",{onClick:()=>p(g.account,"Account"),className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded flex-shrink-0",children:a==="Account"?e.jsx(nr,{className:"w-4 h-4 text-green-600"}):e.jsx(Fr,{className:"w-4 h-4 text-gray-400"})})]})]}),e.jsxs("div",{className:"col-span-2 bg-white dark:bg-gray-800 p-3 rounded",children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Account Holder"}),e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("p",{className:"font-semibold text-sm text-gray-900 dark:text-white truncate",children:g.accountHolder}),e.jsx("button",{onClick:()=>p(g.accountHolder,"Holder"),className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded flex-shrink-0",children:a==="Holder"?e.jsx(nr,{className:"w-4 h-4 text-green-600"}):e.jsx(Fr,{className:"w-4 h-4 text-gray-400"})})]})]}),e.jsxs("div",{className:"col-span-2 bg-white dark:bg-gray-800 p-3 rounded",children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"PIX Key (CNPJ)"}),e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("p",{className:"font-mono font-semibold text-sm text-gray-900 dark:text-white truncate",children:g.pixKey}),e.jsx("button",{onClick:()=>p(g.pixKey,"PIX"),className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded flex-shrink-0",children:a==="PIX"?e.jsx(nr,{className:"w-4 h-4 text-green-600"}):e.jsx(Fr,{className:"w-4 h-4 text-gray-400"})})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"block text-xs font-semibold text-gray-700 dark:text-gray-300",children:"Upload Proof"}),e.jsxs("div",{className:"border-2 border-dashed border-blue-300 dark:border-blue-600 rounded p-4 text-center hover:border-blue-400 transition-colors",children:[e.jsx("input",{type:"file",accept:".jpg,.jpeg,.png,.pdf",onChange:b,disabled:u,className:"hidden",id:"proof-upload"}),e.jsxs("label",{htmlFor:"proof-upload",className:"cursor-pointer flex flex-col items-center gap-2",children:[e.jsx(Cr,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),e.jsx("span",{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:u?"Uploading...":"Click to upload"}),e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"JPG, PNG or PDF (Max. 5MB)"})]})]})]}),e.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-700 rounded p-3",children:e.jsx("p",{className:"text-xs text-amber-800 dark:text-amber-200",children:" Upload proof after transfer. Support will verify within 2-4 hours."})})]})}const lc={PENDING:{color:"bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-700",icon:e.jsx(Et,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400"}),label:"Aguardando Pagamento"},PAYMENT_CONFIRMED:{color:"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-700",icon:e.jsx(Oo,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 animate-spin"}),label:"Pagamento Confirmado"},COMPLETED:{color:"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-700",icon:e.jsx(Pe,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),label:"Concludo"},FAILED:{color:"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-700",icon:e.jsx(rt,{className:"w-5 h-5 text-red-600 dark:text-red-400"}),label:"Falha"},CANCELLED:{color:"bg-gray-50 dark:bg-gray-900/20 border-gray-200 dark:border-gray-700",icon:e.jsx(rt,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"}),label:"Cancelado"},EXPIRED:{color:"bg-orange-50 dark:bg-orange-900/20 border-orange-200 dark:border-orange-700",icon:e.jsx(rt,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"}),label:"Expirado"}};function db({tradeId:n,initialStatus:r="PENDING",onStatusChange:a}){const[l,u]=j.useState(r),[h,g]=j.useState(!1);j.useEffect(()=>{if(!n)return;const b=["PENDING","PAYMENT_CONFIRMED","COMPLETED"],f=b.indexOf(l);if(f<b.length-1){const w=setTimeout(()=>{const v=b[f+1];v&&(u(v),g(!0),a?.(v),setTimeout(()=>g(!1),5e3))},8e3);return()=>clearTimeout(w)}},[l,n,a]);const p=lc[l]||lc.PENDING;return p?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:`border rounded-lg p-4 flex items-center gap-3 transition-all ${p.color}`,children:[e.jsx("div",{className:"flex-shrink-0",children:p.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:p.label}),e.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:[l==="PENDING"&&"Aguarde a confirmao do pagamento",l==="PAYMENT_CONFIRMED"&&"Seu pagamento foi confirmado. Processando...",l==="COMPLETED"&&"Trade finalizada com sucesso!",l==="FAILED"&&"Houve um problema com sua operao",l==="CANCELLED"&&"Voc cancelou esta operao",l==="EXPIRED"&&"Esta operao expirou"]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-3",children:"Progresso da Operao"}),e.jsx("div",{className:"space-y-2",children:["PENDING","PAYMENT_CONFIRMED","COMPLETED"].map((b,f,w)=>{const v=l===b,k=w.indexOf(l)>f||l==="COMPLETED";let A;v?A="bg-blue-600 text-white":k?A="bg-green-600 text-white":A="bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400";let C;return k?C=e.jsx(Pe,{className:"w-4 h-4"}):v?C=e.jsx(Oo,{className:"w-4 h-4 animate-spin"}):C=e.jsx("span",{className:"text-xs font-bold",children:f+1}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 transition-all ${A}`,children:C}),e.jsx("div",{className:"flex-1",children:e.jsxs("p",{className:`text-sm font-medium ${v||k?"text-gray-900 dark:text-white":"text-gray-600 dark:text-gray-400"}`,children:[b==="PENDING"&&"Aguardando Pagamento",b==="PAYMENT_CONFIRMED"&&"Pagamento Confirmado",b==="COMPLETED"&&"Concludo"]})})]},b)})})]}),h&&e.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-700 rounded-lg p-3 animate-pulse flex items-start gap-2",children:[e.jsx(Pe,{className:"w-4 h-4 flex-shrink-0 text-green-600 dark:text-green-400 mt-0.5"}),e.jsxs("p",{className:"text-sm font-medium text-green-800 dark:text-green-400",children:["Status atualizado para: ",p.label]})]}),n&&e.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-lg p-3",children:e.jsxs("p",{className:"text-xs text-blue-800 dark:text-blue-400",children:["ID da Trade: ",e.jsxs("span",{className:"font-mono",children:[n.substring(0,12),"..."]})]})})]}):null}const ub=[{id:"pix",name:"PIX",icon:Eo},{id:"credit_card",name:"Credit Card",icon:Mr},{id:"bank_transfer",name:"Bank Transfer",icon:Na},{id:"wallet",name:"Wallet",icon:Ht}],hb="http://127.0.0.1:8000/api/v1";function mb({quote:n,currencySymbol:r,currencyLocale:a,convertFromBRL:l,onBack:u,onSuccess:h}){const[g,p]=j.useState("pix"),[b,f]=j.useState(!1),[w,v]=j.useState(null),[k,A]=j.useState(!1),C=async()=>{f(!0);try{const R=await xt.post(`${hb}/instant-trade/create`,{quote_id:n.quote_id,payment_method:g});Te.success("Trade created successfully!");const O=R.data.trade_id||R.data.id;v(O),h(O)}catch(R){if(R.response?.status===403){const O=R.response?.data?.trade_id||R.response?.data?.id||`pending_${Date.now()}`;Te.success("Trade created! Awaiting payment proof. Please send your receipt."),A(!0),v(O),h(O)}else Te.error(R.response?.data?.detail||R.response?.data?.message||"Error creating trade")}finally{f(!1)}},T=R=>{if(R==null||typeof R!="number"||Number.isNaN(R))return"0.00";const O=l(R),P=typeof O=="number"&&!Number.isNaN(O)?O:R;return Number.isFinite(P)?P.toLocaleString(a,{maximumFractionDigits:2}):"0.00"},I=n.operation==="buy";return w?e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 space-y-4",children:[e.jsx("div",{className:"flex items-center gap-2 mb-4 pb-3 border-b border-gray-200 dark:border-gray-700",children:e.jsx("div",{className:"flex-1",children:e.jsx("h2",{className:"text-sm font-bold text-gray-900 dark:text-white",children:k?"Awaiting Payment Proof":"Trade Status"})})}),k?e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-700 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"flex items-center justify-center h-8 w-8 rounded-full bg-amber-100 dark:bg-amber-900/30",children:e.jsx("svg",{className:"h-5 w-5 text-amber-600 dark:text-amber-400",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-amber-900 dark:text-amber-100",children:"Payment Proof Required"}),e.jsx("p",{className:"text-xs text-amber-700 dark:text-amber-300 mt-1",children:"Your trade is waiting for payment confirmation. Please send your payment receipt/proof to proceed."})]})]})}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-3 rounded",children:[e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Trade ID:"}),e.jsx("p",{className:"font-mono text-sm text-gray-900 dark:text-white break-all",children:w})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 rounded-lg p-3 space-y-2",children:[e.jsx("p",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300",children:"Payment Details:"}),e.jsxs("div",{className:"space-y-1 text-xs",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Amount:"}),e.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[r," ",T(n.fiat_amount??0)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Method:"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white capitalize",children:g})]}),e.jsxs("div",{className:"flex justify-between border-t border-blue-200 dark:border-blue-700 pt-1",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Receiving:"}),e.jsxs("span",{className:"font-bold text-blue-600 dark:text-blue-400",children:[(n.crypto_amount??0).toFixed(8)," ",n.symbol]})]})]})]}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-lg p-3",children:[e.jsx("p",{className:"text-xs font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"Next Steps:"}),e.jsxs("ol",{className:"text-xs text-blue-800 dark:text-blue-200 space-y-1 list-decimal list-inside",children:[e.jsx("li",{children:"Send payment using the method above"}),e.jsx("li",{children:"Save your payment receipt/proof"}),e.jsx("li",{children:'Go to "Support" or "Chat" and upload your proof'}),e.jsx("li",{children:"Our team will verify and complete your trade"})]})]}),e.jsx("button",{onClick:u,className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Back to Trading"})]}):e.jsxs(e.Fragment,{children:[e.jsx(db,{tradeId:w,initialStatus:"PENDING",onStatusChange:R=>{R==="COMPLETED"&&Te.success("Trade completed successfully!")}}),e.jsx("button",{onClick:u,className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Back to Trading"})]})]}):e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4 pb-3 border-b border-gray-200 dark:border-gray-700",children:[e.jsx("button",{onClick:u,disabled:b,title:"Go back",className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors disabled:opacity-50",children:e.jsx(rs,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})}),e.jsx("div",{className:"flex-1",children:e.jsx("h2",{className:"text-sm font-bold text-gray-900 dark:text-white",children:"Review Trade"})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:[e.jsx("div",{children:e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 rounded p-3 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-600 flex items-center justify-center flex-shrink-0",children:e.jsx(Pe,{className:"w-5 h-5 text-white"})}),e.jsx("div",{children:e.jsxs("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:[I?"Buy":"Sell"," ",n.symbol]})})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Type:"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white capitalize",children:n.operation})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Asset:"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:n.symbol})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:I?"Pay:":"Amount:"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:I?`${r} ${T(n.fiat_amount??0)}`:`${(n.crypto_amount??0).toFixed(8)} ${n.symbol}`})]}),e.jsxs("div",{className:"flex justify-between border-t border-blue-200 dark:border-blue-700 pt-2",children:[e.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:I?"Receive:":"Get:"}),e.jsx("span",{className:"font-bold text-blue-600 dark:text-blue-400",children:I?`${(n.crypto_amount??0).toFixed(8)} ${n.symbol}`:`${r} ${T(n.total_amount??0)}`})]})]})]})}),e.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900/20 dark:to-gray-800/20 rounded p-3 space-y-2 border border-gray-200 dark:border-gray-700",children:[e.jsx("p",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wide",children:"Quote Details"}),e.jsxs("div",{className:"space-y-1 text-xs",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Price:"}),e.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[r," ",T(n.crypto_price??0)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Spread (",n.spread_percentage??0,"%):"]}),e.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[r," ",T(n.spread_amount??0)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Fee (",n.network_fee_percentage??0,"%):"]}),e.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[r," ",T(n.network_fee_amount??0)]})]}),e.jsxs("div",{className:"flex justify-between border-t border-gray-300 dark:border-gray-600 pt-1",children:[e.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:"Total:"}),e.jsxs("span",{className:"font-bold text-blue-600 dark:text-blue-400",children:[r," ",T(n.total_amount??0)]})]})]})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Payment Method"}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:ub.map(R=>{const O=R.icon;return e.jsxs("button",{onClick:()=>p(R.id),disabled:b,className:`p-2 rounded border transition-all disabled:opacity-50 text-center ${g===R.id?"border-blue-600 bg-blue-50 dark:bg-blue-900/30":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500"}`,children:[e.jsx(O,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mx-auto mb-1"}),e.jsx("div",{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:R.name.split(" ")[0]})]},R.id)})})]}),g==="bank_transfer"&&e.jsx(cb,{tradeId:w||void 0}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-3 rounded text-xs",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"ID: "}),e.jsxs("span",{className:"font-mono text-gray-900 dark:text-white",children:[(n.quote_id??"").substring(0,12),"..."]})]}),e.jsxs("div",{className:"flex gap-2 pt-3 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("button",{onClick:u,disabled:b,className:"px-3 py-1.5 text-xs border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Back"}),e.jsx("button",{onClick:C,disabled:b,className:"flex-1 px-3 py-1.5 text-xs bg-blue-600 hover:bg-blue-700 text-white rounded disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center justify-center gap-1 transition-colors",children:b?e.jsxs(e.Fragment,{children:[e.jsx(Oo,{className:"w-3 h-3 animate-spin"}),e.jsx("span",{children:"Processing"})]}):e.jsxs(e.Fragment,{children:[e.jsx(Pe,{className:"w-3 h-3"}),e.jsx("span",{children:"Confirm & Continue"})]})})]}),e.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded p-3 flex items-start gap-2",children:[e.jsx(Pe,{className:"w-4 h-4 text-amber-600 dark:text-amber-400 mt-0.5 flex-shrink-0"}),e.jsx("p",{className:"text-xs text-amber-700 dark:text-amber-400",children:"Quote valid 5 min. Once confirmed, trade cannot be reversed."})]})]})]})}const gb=[{icon:dt,title:"Secure Trades",description:"Bank-level security for all transactions"},{icon:Et,title:"Fast Execution",description:"Get instant quotes and execute trades"},{icon:ct,title:"Best Rates",description:"Competitive rates and low spreads"},{icon:Or,title:"Full Control",description:"Your keys, your crypto, always"}];function Mi(){return e.jsx("div",{children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white mb-3",children:"Why Trade Here"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:gb.map(n=>{const r=n.icon;return e.jsxs("div",{className:"flex flex-col items-center justify-center p-4 bg-white dark:bg-gray-800 rounded-lg shadow hover:shadow-md transition-shadow text-center",children:[e.jsx("div",{className:"mb-2",children:e.jsx(r,{className:"w-7 h-7 text-blue-600 dark:text-blue-400"})}),e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-sm",children:n.title})]},n.title)})})]})})}const fb="http://127.0.0.1:8000/api/v1",cc={PENDING:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400",PAYMENT_CONFIRMED:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400",COMPLETED:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",CANCELLED:"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400",EXPIRED:"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400",FAILED:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"},dc={PENDING:"Aguardando Pagamento",PAYMENT_CONFIRMED:"Pagamento Confirmado",COMPLETED:"Concludo",CANCELLED:"Cancelado",EXPIRED:"Expirado",FAILED:"Falha"};function xb({currencySymbol:n,currencyLocale:r,isVisible:a}){const[l,u]=j.useState([]),[h,g]=j.useState(!1),[p,b]=j.useState(null),[f,w]=j.useState("ALL"),[v,k]=j.useState("ALL");j.useEffect(()=>{a&&A()},[a]);const A=async()=>{g(!0);try{const O=await xt.get(`${fb}/instant-trade/history/my-trades`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")||""}`}});u(O.data.trades||[])}catch(O){Te.error("Erro ao carregar histrico de trades"),console.error("Fetch trades error:",O)}finally{g(!1)}},C=l.filter(O=>{const P=f==="ALL"||O.status===f,G=v==="ALL"||O.operation===v;return P&&G}),T=O=>{try{return new Date(O).toLocaleDateString(r,{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}catch{return O}},I=O=>{try{return O.toLocaleString(r,{maximumFractionDigits:2})}catch{return O.toFixed(2)}},R=O=>O.toFixed(8);return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Histrico de Trades"}),e.jsx("button",{onClick:A,disabled:h,className:"px-3 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded disabled:bg-gray-400 transition-colors",children:h?"Atualizando...":"Atualizar"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"status-filter",className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Status"}),e.jsxs("select",{id:"status-filter",value:f,onChange:O=>w(O.target.value),className:"w-full px-2 py-2 text-xs border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[e.jsx("option",{value:"ALL",children:"Todos"}),e.jsx("option",{value:"PENDING",children:"Aguardando"}),e.jsx("option",{value:"PAYMENT_CONFIRMED",children:"Confirmado"}),e.jsx("option",{value:"COMPLETED",children:"Concludo"}),e.jsx("option",{value:"FAILED",children:"Falha"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"operation-filter",className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Operao"}),e.jsxs("select",{id:"operation-filter",value:v,onChange:O=>k(O.target.value),className:"w-full px-2 py-2 text-xs border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[e.jsx("option",{value:"ALL",children:"Todas"}),e.jsx("option",{value:"buy",children:"Compra"}),e.jsx("option",{value:"sell",children:"Venda"})]})]})]})]}),e.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700 max-h-96 overflow-y-auto",children:C.length===0?e.jsx("div",{className:"p-8 text-center",children:e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:l.length===0?"Nenhuma trade realizada":"Nenhuma trade encontrada"})}):C.map(O=>e.jsx("div",{className:"p-3 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[O.operation==="buy"?e.jsx(Sd,{className:"w-4 h-4 text-green-600 dark:text-green-400"}):e.jsx(ws,{className:"w-4 h-4 text-red-600 dark:text-red-400"}),e.jsx("span",{className:"text-sm font-bold text-gray-900 dark:text-white",children:O.symbol})]}),e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${cc[O.status]}`,children:dc[O.status]})]})," ",e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:T(O.created_at)})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:O.operation==="buy"?`+${R(O.crypto_amount)} ${O.symbol}`:`-${R(O.crypto_amount)} ${O.symbol}`}),e.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:[n," ",I(O.total_amount)]})]}),e.jsx("button",{onClick:()=>b(O),className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-600 rounded transition-colors ml-2",title:"Ver detalhes",children:e.jsx(lr,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})})]})},O.id))}),p&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg max-w-md w-full max-h-96 overflow-y-auto",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between sticky top-0 bg-white dark:bg-gray-800",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Detalhes da Trade"}),e.jsx("button",{onClick:()=>b(null),className:"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white",title:"Fechar","aria-label":"Fechar",children:e.jsx(Dr,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4 space-y-3",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-3 rounded",children:[e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"ID da Trade"}),e.jsx("p",{className:"text-sm font-mono text-gray-900 dark:text-white break-all",children:p.id})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Operao"}),e.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white capitalize",children:p.operation==="buy"?"Compra":"Venda"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Criptomoeda"}),e.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:p.symbol})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Quantidade"}),e.jsxs("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:[R(p.crypto_amount)," ",p.symbol]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Valor Pago"}),e.jsxs("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:[n," ",I(p.fiat_amount)]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Spread"}),e.jsxs("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:[p.spread_percentage.toFixed(2),"%"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Taxa Rede"}),e.jsxs("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:[p.network_fee_percentage.toFixed(2),"%"]})]})]}),e.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-3",children:[e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Total com Fees"}),e.jsxs("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:[n," ",I(p.total_amount)]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Mtodo Pagamento"}),e.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white capitalize",children:p.payment_method.replace("_"," ")})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Status"}),e.jsx("span",{className:`inline-block px-3 py-1 rounded text-sm font-medium ${cc[p.status]}`,children:dc[p.status]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs text-gray-600 dark:text-gray-400",children:[e.jsxs("div",{children:[e.jsx("p",{children:"Criada em:"}),e.jsx("p",{className:"font-mono",children:T(p.created_at)})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Atualizada em:"}),e.jsx("p",{className:"font-mono",children:T(p.updated_at)})]})]})]})]})})]})}const aa=n=>n==="BRL"?"R$":n==="USD"?"$":"",na=n=>n==="BRL"?"pt-BR":n==="USD"?"en-US":"de-DE",uc=[{symbol:"BTC",name:"Bitcoin",category:"Native"},{symbol:"ETH",name:"Ethereum",category:"Native"},{symbol:"MATIC",name:"Polygon",category:"Native"},{symbol:"BNB",name:"Binance Smart Chain",category:"Native"},{symbol:"TRX",name:"TRON",category:"Native"},{symbol:"SOL",name:"Solana",category:"Native"},{symbol:"LTC",name:"Litecoin",category:"Native"},{symbol:"DOGE",name:"Dogecoin",category:"Native"},{symbol:"ADA",name:"Cardano",category:"Native"},{symbol:"AVAX",name:"Avalanche",category:"Native"},{symbol:"DOT",name:"Polkadot",category:"Native"},{symbol:"LINK",name:"Chainlink",category:"Native"},{symbol:"SHIB",name:"Shiba Inu",category:"Native"},{symbol:"XRP",name:"XRP",category:"Native"},{symbol:"USDT",name:"Tether USD",category:"Stablecoin"},{symbol:"USDC",name:"USD Coin",category:"Stablecoin"},{symbol:"DAI",name:"Dai Stablecoin",category:"Stablecoin"}];function pb(){const{currency:n}=en(),{prices:r}=Ja(uc.map(R=>R.symbol),n),[a,l]=j.useState([]),[u,h]=j.useState("buy"),[g,p]=j.useState("BTC"),[b,f]=j.useState(null),[w,v]=j.useState(!1),[k,A]=j.useState(!1);j.useEffect(()=>{if(!r||Object.keys(r).length===0)return;console.log("[InstantTradePage] priceData received from usePrices:",r);const R=[];for(const O of uc){const P=r[O.symbol];if(P){const G=P.price||0,Q=P.change_24h||0;console.log(`[InstantTradePage] ${O.symbol}: price=${G}, change=${Q}%`),R.push({symbol:O.symbol,name:O.name,price:G,change24h:Q,high24h:P.high_24h||0,low24h:P.low_24h||0})}else R.push({symbol:O.symbol,name:O.name,price:0,change24h:0,high24h:0,low24h:0})}console.log("[InstantTradePage] cryptoPrices state updated:",R),l(R),(!g||!R.some(O=>O.symbol===g))&&R.length>0&&p(R[0]?.symbol||"BTC")},[r]);const C=R=>{if(!R||typeof R!="number"||Number.isNaN(R))return 0;if(n==="USD")return R;if(n==="BRL"){const O=R*5;return Number.isNaN(O)?R:O}if(n==="EUR"){const O=R*.92;return Number.isNaN(O)?R:O}return R},T=R=>{const O=a.find(G=>G.symbol===R.symbol)?.price??R.crypto_price,P={...R,crypto_price:O};f(P)},I=R=>{v(!1),f(null)};return j.useEffect(()=>{if(b){const R=a.find(O=>O.symbol===b.symbol)?.price??b.crypto_price;f(O=>O?{...O,crypto_price:R}:null)}},[a]),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Instant Trade OTC"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Buy and sell cryptocurrencies instantly with real-time pricing"})]}),e.jsx(lb,{cryptoPrices:a,selectedSymbol:g,onSelectSymbol:p,getCurrencySymbol:aa,getCurrencyLocale:na,convertFromBRL:C}),w&&b?e.jsx(mb,{quote:b,currencySymbol:aa(n),currencyLocale:na(n),convertFromBRL:C,onBack:()=>v(!1),onSuccess:I}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"hidden lg:grid lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsx(Pi,{cryptoPrices:a,selectedSymbol:g,onSymbolChange:p,isBuy:u==="buy",onOperationChange:R=>h(R?"buy":"sell"),onQuoteReceived:T,currency:n,convertFromBRL:C})}),e.jsx("div",{className:"lg:col-span-1",children:b?e.jsx(Di,{quote:b,currencySymbol:aa(n),currencyLocale:na(n),convertFromBRL:C,onConfirmClick:()=>v(!0)}):e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 space-y-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(ct,{className:"w-4 h-4"})," Quick Tips"]}),e.jsxs("div",{className:"space-y-2 text-xs",children:[e.jsxs("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/30 rounded border-l-2 border-blue-500 flex gap-2",children:[e.jsx(er,{className:"w-4 h-4 text-blue-600 flex-shrink-0 mt-0.5"}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[e.jsx("span",{className:"font-medium",children:"Best rates:"})," Higher amounts get better prices"]})]}),e.jsxs("div",{className:"p-2 bg-green-50 dark:bg-green-900/30 rounded border-l-2 border-green-500 flex gap-2",children:[e.jsx(ct,{className:"w-4 h-4 text-green-600 flex-shrink-0 mt-0.5"}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[e.jsx("span",{className:"font-medium",children:"Fast delivery:"})," Most trades complete in minutes"]})]}),e.jsxs("div",{className:"p-2 bg-amber-50 dark:bg-amber-900/30 rounded border-l-2 border-amber-500 flex gap-2",children:[e.jsx(Et,{className:"w-4 h-4 text-amber-600 flex-shrink-0 mt-0.5"}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[e.jsx("span",{className:"font-medium",children:"Quote expires:"})," Refresh if quote times out"]})]}),e.jsxs("div",{className:"p-2 bg-purple-50 dark:bg-purple-900/30 rounded border-l-2 border-purple-500 flex gap-2",children:[e.jsx(ls,{className:"w-4 h-4 text-purple-600 flex-shrink-0 mt-0.5"}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[e.jsx("span",{className:"font-medium",children:"24/7 trading:"})," Trade anytime, every day"]})]})]})]})})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsx(Mi,{})})]}),e.jsxs("div",{className:"hidden md:block lg:hidden space-y-6",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:e.jsx(Pi,{cryptoPrices:a,selectedSymbol:g,onSymbolChange:p,isBuy:u==="buy",onOperationChange:R=>h(R?"buy":"sell"),onQuoteReceived:T,currency:n,convertFromBRL:C})}),b?e.jsx(Di,{quote:b,currencySymbol:aa(n),currencyLocale:na(n),convertFromBRL:C,onConfirmClick:()=>v(!0)}):e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 space-y-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(ct,{className:"w-4 h-4"})," Quick Tips"]}),e.jsxs("div",{className:"space-y-2 text-xs",children:[e.jsxs("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/30 rounded border-l-2 border-blue-500 flex gap-2",children:[e.jsx(er,{className:"w-4 h-4 text-blue-600 flex-shrink-0 mt-0.5"}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[e.jsx("span",{className:"font-medium",children:"Best rates:"})," Higher amounts get better prices"]})]}),e.jsxs("div",{className:"p-2 bg-green-50 dark:bg-green-900/30 rounded border-l-2 border-green-500 flex gap-2",children:[e.jsx(ct,{className:"w-4 h-4 text-green-600 flex-shrink-0 mt-0.5"}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[e.jsx("span",{className:"font-medium",children:"Fast delivery:"})," Most trades complete in minutes"]})]}),e.jsxs("div",{className:"p-2 bg-amber-50 dark:bg-amber-900/30 rounded border-l-2 border-amber-500 flex gap-2",children:[e.jsx(Et,{className:"w-4 h-4 text-amber-600 flex-shrink-0 mt-0.5"}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[e.jsx("span",{className:"font-medium",children:"Quote expires:"})," Refresh if quote times out"]})]}),e.jsxs("div",{className:"p-2 bg-purple-50 dark:bg-purple-900/30 rounded border-l-2 border-purple-500 flex gap-2",children:[e.jsx(ls,{className:"w-4 h-4 text-purple-600 flex-shrink-0 mt-0.5"}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[e.jsx("span",{className:"font-medium",children:"24/7 trading:"})," Trade anytime, every day"]})]})]})]})}),e.jsx(Mi,{})]}),e.jsxs("div",{className:"md:hidden space-y-6",children:[e.jsx(Pi,{cryptoPrices:a,selectedSymbol:g,onSymbolChange:p,isBuy:u==="buy",onOperationChange:R=>h(R?"buy":"sell"),onQuoteReceived:T,currency:n,convertFromBRL:C}),b?e.jsx(Di,{quote:b,currencySymbol:aa(n),currencyLocale:na(n),convertFromBRL:C,onConfirmClick:()=>v(!0)}):e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 space-y-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(ct,{className:"w-4 h-4"})," Quick Tips"]}),e.jsxs("div",{className:"space-y-2 text-xs",children:[e.jsxs("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/30 rounded border-l-2 border-blue-500 flex gap-2",children:[e.jsx(er,{className:"w-4 h-4 text-blue-600 flex-shrink-0 mt-0.5"}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[e.jsx("span",{className:"font-medium",children:"Best rates:"})," Higher amounts get better prices"]})]}),e.jsxs("div",{className:"p-2 bg-green-50 dark:bg-green-900/30 rounded border-l-2 border-green-500 flex gap-2",children:[e.jsx(ct,{className:"w-4 h-4 text-green-600 flex-shrink-0 mt-0.5"}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[e.jsx("span",{className:"font-medium",children:"Fast delivery:"})," Most trades complete in minutes"]})]}),e.jsxs("div",{className:"p-2 bg-amber-50 dark:bg-amber-900/30 rounded border-l-2 border-amber-500 flex gap-2",children:[e.jsx(Et,{className:"w-4 h-4 text-amber-600 flex-shrink-0 mt-0.5"}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[e.jsx("span",{className:"font-medium",children:"Quote expires:"})," Refresh if quote times out"]})]}),e.jsxs("div",{className:"p-2 bg-purple-50 dark:bg-purple-900/30 rounded border-l-2 border-purple-500 flex gap-2",children:[e.jsx(ls,{className:"w-4 h-4 text-purple-600 flex-shrink-0 mt-0.5"}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[e.jsx("span",{className:"font-medium",children:"24/7 trading:"})," Trade anytime, every day"]})]})]})]})}),e.jsx(Mi,{})]})]}),e.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:[e.jsxs("button",{onClick:()=>A(!k),className:"w-full flex items-center justify-between p-4 bg-white dark:bg-gray-800 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Historico de Trades"}),e.jsx(Fs,{className:`w-5 h-5 text-gray-600 dark:text-gray-400 transition-transform ${k?"rotate-180":""}`})]}),k&&e.jsx("div",{className:"mt-2",children:e.jsx(xb,{currencySymbol:aa(n),currencyLocale:na(n),isVisible:k})})]})]})}class bb{ws=null;currentRoomId=null;reconnectAttempts=0;maxReconnectAttempts=5;reconnectInterval=3e3;isConnecting=!1;messageListeners=[];statusListeners=[];typingListeners=[];connectionEstablishedListeners=[];async connectToRoom(r,a){if(!(this.ws?.readyState===WebSocket.OPEN&&this.currentRoomId===r)){this.ws&&this.currentRoomId!==r&&this.disconnect(),this.isConnecting=!0,this.currentRoomId=r,this.notifyStatus("connecting");try{const u=`${Gt.api.wsUrl||"ws://localhost:8000"}/api/v1/chat/ws/${r}?token=${encodeURIComponent(a)}`;console.log(` Connecting to P2P Chat WebSocket: ${r}`),this.ws=new WebSocket(u),this.ws.onopen=()=>{console.log(" P2P Chat WebSocket connected"),this.isConnecting=!1,this.reconnectAttempts=0,this.notifyStatus("connected")},this.ws.onmessage=h=>{try{const g=JSON.parse(h.data);this.handleMessage(g)}catch(g){console.error(" Failed to parse WebSocket message:",g)}},this.ws.onclose=h=>{console.log(" P2P Chat WebSocket disconnected",h.code,h.reason),this.isConnecting=!1,this.notifyStatus("disconnected"),h.code!==1e3&&this.currentRoomId&&this.handleReconnect(r,a)},this.ws.onerror=h=>{console.error(" P2P Chat WebSocket error:",h),this.isConnecting=!1,this.notifyStatus("error")}}catch(l){throw this.isConnecting=!1,this.notifyStatus("error"),console.error(" Failed to connect to WebSocket:",l),l}}}handleMessage(r){switch(console.log(" WebSocket message received:",r.type),r.type){case"connection_established":console.log(" Connection established:",r),this.connectionEstablishedListeners.forEach(a=>a(r));break;case"message":r.data&&this.messageListeners.forEach(a=>a(r.data));break;case"message_sent":console.log(" Message sent confirmed:",r.message_id);break;case"typing":this.typingListeners.forEach(a=>a({user_id:r.user_id,is_typing:r.is_typing}));break;case"user_status":console.log(" User status:",r);break;case"error":console.error(" WebSocket error:",r.message);break;case"pong":break;default:console.log(" Unknown WebSocket message type:",r.type)}}handleReconnect(r,a){this.reconnectAttempts<this.maxReconnectAttempts?(this.reconnectAttempts++,console.log(` Attempting to reconnect... (${this.reconnectAttempts}/${this.maxReconnectAttempts})`),setTimeout(()=>{this.connectToRoom(r,a).catch(l=>{console.error(" Reconnection failed:",l)})},this.reconnectInterval*this.reconnectAttempts)):console.log(" Max reconnection attempts reached")}disconnect(){this.ws&&(this.ws.close(1e3,"Client disconnect"),this.ws=null,this.currentRoomId=null,this.reconnectAttempts=0)}notifyStatus(r){this.statusListeners.forEach(a=>a(r))}async sendMessage(r){if(!this.ws||this.ws.readyState!==WebSocket.OPEN)throw new Error("WebSocket not connected");const a={type:"message",content:r,attachments:[]};this.ws.send(JSON.stringify(a))}async sendAudioMessage(r){if(!this.ws||this.ws.readyState!==WebSocket.OPEN)throw new Error("WebSocket not connected");const a=new FileReader;return new Promise((l,u)=>{a.onload=()=>{const g={type:"message",message_type:"audio",content:"Mensagem de udio",attachments:[{type:"audio",data:a.result,size:r.size,timestamp:new Date().toISOString()}]};try{this.ws.send(JSON.stringify(g)),l()}catch(p){u(p)}},a.onerror=()=>{u(new Error("Erro ao ler arquivo de udio"))},a.readAsDataURL(r)})}async sendTyping(r){if(!this.ws||this.ws.readyState!==WebSocket.OPEN)return;const a={type:"typing",is_typing:r};this.ws.send(JSON.stringify(a))}async sendPing(){!this.ws||this.ws.readyState!==WebSocket.OPEN||this.ws.send(JSON.stringify({type:"ping"}))}async createChatRoom(r,a,l){const u=new FormData;return u.append("buyer_id",a),u.append("seller_id",l),(await Ne.post(`/api/v1/chat/rooms/${r}/create`,u)).data}async getChatHistory(r,a=50,l=0){return(await Ne.get(`/api/v1/chat/rooms/${r}/history`,{params:{limit:a,offset:l}})).data}async uploadFile(r,a,l="",u){const h=new FormData;return h.append("file",a),h.append("message_content",l),(await Ne.post(`/api/v1/chat/rooms/${r}/upload`,h,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:p=>{if(u&&p.total){const b=Math.round(p.loaded*100/p.total);u(b)}}})).data.file}async downloadFile(r){return(await Ne.get(`/api/v1/chat/files/${r}/download`,{responseType:"blob"})).data}async createDispute(r,a,l){const u=new FormData;return u.append("match_id",r),u.append("reason",a),l.forEach(g=>u.append("evidence_messages",g)),(await Ne.post("/api/v1/chat/disputes/create",u)).data}async getOrder(r){return(await Ne.get(`/p2p/orders/${r}`)).data.data}async confirmPayment(r){return(await Ne.post(`/p2p/trades/${r}/confirm-payment`)).data}async cancelTrade(r,a){return(await Ne.post(`/p2p/trades/${r}/cancel`,{reason:a})).data}onMessage(r){return this.messageListeners.push(r),()=>{const a=this.messageListeners.indexOf(r);a>-1&&this.messageListeners.splice(a,1)}}onStatus(r){return this.statusListeners.push(r),()=>{const a=this.statusListeners.indexOf(r);a>-1&&this.statusListeners.splice(a,1)}}onTyping(r){return this.typingListeners.push(r),()=>{const a=this.typingListeners.indexOf(r);a>-1&&this.typingListeners.splice(a,1)}}onConnectionEstablished(r){return this.connectionEstablishedListeners.push(r),()=>{const a=this.connectionEstablishedListeners.indexOf(r);a>-1&&this.connectionEstablishedListeners.splice(a,1)}}isConnected(){return this.ws!==null&&this.ws.readyState===WebSocket.OPEN}getCurrentRoomId(){return this.currentRoomId}}const yb=new bb;class wb{botResponses={"bot-trader":{"ol|oi|hey|bom dia|boa tarde|boa noite":["Ol!  Sou o Bot Trader. Como posso ajudar com suas negociaes hoje?","E a! Tudo bem? Vou ajudar voc a encontrar os melhores preos! ","Opa! Bem-vindo! Qual criptomoeda voc quer negociar?"],"preo|preco|cotao|cotacao|valor|taxa":["Os preos esto atualizados em tempo real! Bitcoin est em alta. Voc quer comprar ou vender?","Qual moeda voc quer verificar o preo? Bitcoin, Ethereum, USDT?","Os preos mudam constantemente. Qual criptmoeda interessa voc?"],"bitcoin|btc":["Bitcoin! A rainha das criptomoedas  Atualmente em tima situao. Quer comprar?","BTC est forte! Qual  sua estratgia?","Bitcoin continua sendo a melhor opo para longo prazo!"],"ethereum|eth":["Ethereum! A plataforma de contratos inteligentes mais confivel! ","ETH  uma tima escolha! Oferece mais aplicaes que Bitcoin.","Ethereum tem grande potencial tcnico!"],"usdt|stablecoin|stable":["USDT  perfeito para manter valor sem volatilidade! Ideal para traders!","Stablecoins so timas para gerenciar risco. Quer usar como reserva?","USDT est vinculada ao dlar - segura e previsvel!"],"comprar|buy":["timo! Qual moeda voc quer comprar e por quanto?","Vamos l! Qual  o valor que voc quer investir?","Excelente escolha! Diga a moeda e a quantidade."],"vender|sell":["Vendo! Qual moeda voc quer vender? E em que quantidade?","Certo! Vamos processar sua venda. Qual moeda?","Bora vender! Diga qual  a moeda."],"taxa|fee|comisso|comissao":["Nossa taxa  super competitiva! 0,5% para cada operao. Quer saber mais?","Taxa de 0,5% em ambas as operaes.  das mais baixas do mercado!","Cobramos apenas 0,5% - muito abaixo da mdia!"],"obrigado|thanks|agradeo|valeu":["De nada! Volte sempre que precisar! ","Por nada! Boa negociao! ","Estou sempre aqui para ajudar!"],"adeus|tchau|at logo|bye":["At logo! Boas negociaes! ","Tchau! Volte em breve! ","Falou! Sucesso nas suas operaes!"]},"bot-support":{"ol|oi|hey|bom dia|boa tarde|boa noite":["Ol!  Sou o Bot Support. Como posso ajudar voc?","Opa! Bem-vindo ao suporte. Qual  o seu problema?","Oi! Estou aqui para resolver seus problemas. O que aconteceu?"],"problema|erro|bug|issue|no funciona|nao funciona":["Desculpa pelo incmodo!  Me conte os detalhes do que no est funcionando.","timo, vamos resolver isso juntos! Qual  o erro exatamente?","Entendo! Deixa eu ajudar. Me descreva o problema."],"carteira|wallet":["Problemas com a carteira? Qual  a questo especfica?","Sua carteira est com algum problema? Me diga mais detalhes!","Carteira  essencial! Vamos resolver isso."],"saldo|balance":["Seu saldo no est certo? Vamos verificar sua conta!","Problema com saldo? Deixa eu investigar!","Saldo errado? Isso pode ser sincronizao. Tente recarregar!"],"transao|transacao|envio|recebimento":["Transao travada? Pode levar at 30 minutos em rede congestionada.","Qual  a transao? ID ou hash? Vou rastrear!","Problemas com envio/recebimento? Me mande o detalhes!"],"token|senha|password":["Segurana em primeiro lugar! Nunca compartilhe seu token/senha comigo.","Por segurana, use autenticao de dois fatores!","Seus dados so sagrados! Use senhas fortes sempre."],"obrigado|thanks|agradeo|valeu":["De nada! Qualquer dvida,  s chamar! ","Por nada! Fico feliz em ajudar!","Fico feliz em resolver! Volte anytime!"],"adeus|tchau|at logo|bye":["At logo! Bom uso! ","Tchau! Qualquer problema, avisa!","Falou! Boa sorte com sua carteira!"]},"bot-manager":{"ol|oi|hey|bom dia|boa tarde|boa noite":["Ol!  Sou o Bot Manager. Vamos gerenciar seu portflio?","Opa! Bem-vindo! Pronto para gerenciar seus investimentos?","E a! Sou o gerente aqui. Como posso otimizar seu portflio?"],"portflio|portfolio|investimento|alocao|alocacao":["Qual  sua estratgia de investimento? Conservadora, moderada ou agressiva?","Vamos balancear seu portflio! Que tipo de investidor voc ?","Bom! Deixa eu ajudar a diversificar seus ativos!"],"risco|volatilidade|seguro|hedge":["Risco  importante! Recomendo diversificar entre stablecoins e ativos volteis.","Para reduzir risco, use stablecoins como base. Concorda?","Volatilidade  normal! Mas podemos hedgear com ativos mais seguros."],"lucro|ganho|rendimento|yield":["Ganhos vm de estratgia! Voc prefere trading ou buy-and-hold?","Rendimento  possvel! Mas precisa de disciplina e pacincia.","Para bons lucros, estude o mercado antes de investir!"],"diversificar|diversificao|diversificacao":["timo pensamento! Recomendo: 40% BTC, 30% ETH, 30% stablecoins.","Diversificao  a chave! Nunca coloque tudo em um ativo.","Excelente! Espalhe seu investimento em mltiplos ativos."],"meta|objetivo|goal|alvo":["Qual  sua meta de retorno? 10%, 50%, 100% ao ano?","Que objetivo voc quer atingir com esses investimentos?","Metas claras levam ao sucesso! Qual a sua?"],"obrigado|thanks|agradeo|valeu":["De nada! Sucesso em seus investimentos! ","Por nada! Venha tirar dvidas sempre!","Fico feliz em ajudar seu crescimento!"],"adeus|tchau|at logo|bye":["At logo! Que seus investimentos dem frutos! ","Tchau! Volte para mais anlises!","Falou! Boa sorte no mercado!"]}};async generateBotResponse(r,a){const l=a.toLowerCase(),u=this.botResponses[r]||{};let h=null;for(const[p,b]of Object.entries(u))if(p.split("|").some(w=>l.includes(w))){h=b[Math.floor(Math.random()*b.length)];break}return h||(h=this.getDefaultResponse(r)),{message:h,delay:{"bot-trader":600,"bot-support":800,"bot-manager":700}[r]||500}}getDefaultResponse(r){const l={"bot-trader":["No entendi muito bem... Voc quer comprar ou vender algo? ","Desculpa, pode repetir? Sou especialista em negociaes!","Hmm, no capturei. Quer falar de criptos ou preos?"],"bot-support":["No entendi... Pode detalhar melhor? ","Desculpa, pode repetir seu problema?","Hmm, explica melhor que vou ajudar!"],"bot-manager":["No capturei... Voc fala de investimentos? ","Desculpa, pode detalhar mais?","Explica melhor sua dvida que vou analisar!"]}[r]||["Desculpa, no entendi "];return l[Math.floor(Math.random()*l.length)]||"Desculpa, no entendi "}async generateBotResponseFromAudio(r,a){const u={"bot-trader":["Recebi seu udio!  Voc quer negociar qual moeda?","udio capturado!  Me diga qual  sua oferta!"],"bot-support":["Recebi seu udio!  Qual  o problema?","udio recebido!  Como posso ajudar?"],"bot-manager":["Recebi seu udio!  Vamos analisar seu portflio?","udio capturado!  Qual  sua dvida?"]}[r]||["Recebi seu udio! "];return{message:u[Math.floor(Math.random()*u.length)]||"Recebi seu udio! ",delay:1e3}}}const hc=new wb;function n0(){const[n,r]=j.useState(!1),[a,l]=j.useState(null),[u,h]=j.useState(0),g=j.useRef(null),p=j.useRef([]),b=j.useRef(null),f=j.useRef(null),w=j.useRef(null),v=j.useCallback(async()=>{try{const I=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0}});b.current=I;const R=new MediaRecorder(I);g.current=R,p.current=[],R.ondataavailable=O=>{O.data.size>0&&p.current.push(O.data)},R.onstop=()=>{const O=new Blob(p.current,{type:"audio/wav"});l(O),console.log(" udio gravado:",O.size,"bytes")},R.start(),r(!0),h(0),w.current=setInterval(()=>{h(O=>O+1)},1e3),console.log(" Iniciando gravao de udio...")}catch(I){console.error(" Erro ao iniciar gravao:",I),alert(" No foi possvel acessar o microfone. Verifique as permisses.")}},[]),k=j.useCallback(async()=>new Promise(I=>{if(!g.current||!b.current){I(null);return}const R=g.current;R.onstop=()=>{const O=new Blob(p.current,{type:"audio/wav"});l(O),(b.current?.getTracks()??[]).forEach(G=>G.stop()),r(!1),w.current&&clearInterval(w.current),console.log(" Gravao parada. udio:",O.size,"bytes"),I(O)},R.stop()}),[]),A=j.useCallback(async()=>{if(!a){console.warn(" Nenhum udio gravado para reproduzir");return}try{const I=URL.createObjectURL(a);f.current??=new Audio,f.current.src=I,f.current.play(),console.log(" Reproduzindo udio gravado..."),f.current.onended=()=>{URL.revokeObjectURL(I),console.log(" udio terminado")}}catch(I){console.error(" Erro ao reproduzir udio:",I),alert(" No foi possvel reproduzir o udio")}},[a]),C=j.useCallback(I=>{if(!a){console.warn(" Nenhum udio para enviar");return}console.log(" Enviando udio:",a.size,"bytes"),I(a),l(null),p.current=[]},[a]),T=j.useCallback(()=>{l(null),p.current=[],h(0),console.log(" Gravao limpa")},[]);return{isRecording:n,recordedAudio:a,recordingTime:u,startRecording:v,stopRecording:k,playRecording:A,sendRecording:C,clearRecording:T}}function vb({onAudioSend:n}){const{isRecording:r,recordedAudio:a,recordingTime:l,startRecording:u,stopRecording:h,playRecording:g,sendRecording:p,clearRecording:b}=n0(),f=A=>{const C=Math.floor(A/60),T=A%60;return`${String(C).padStart(2,"0")}:${String(T).padStart(2,"0")}`},w=async()=>{await u()},v=async()=>{await h()},k=()=>{n&&p(n)};return e.jsxs("div",{className:"bg-gray-800 border-t border-gray-700 p-4 space-y-3",children:[e.jsx("div",{className:"text-xs text-gray-400 text-center",children:r?e.jsxs("span",{className:"text-red-400 font-semibold",children:[" Gravando... ",f(l)]}):a?e.jsxs("span",{className:"text-green-400 font-semibold",children:[" udio gravado (",(a.size/1024).toFixed(1)," KB)"]}):e.jsx("span",{children:" Nenhum udio gravado"})}),e.jsxs("div",{className:"flex gap-2 justify-center flex-wrap",children:[r?e.jsxs("button",{onClick:v,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-red-600 hover:bg-red-700 text-white transition-colors font-semibold",title:"Parar gravao",children:[e.jsx(bp,{className:"w-5 h-5"}),"Parar"]}):e.jsxs("button",{onClick:w,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-red-600 hover:bg-red-700 text-white transition-colors font-semibold",title:"Iniciar gravao",children:[e.jsx(Do,{className:"w-5 h-5"}),"Gravar"]}),a&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:g,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-blue-600 hover:bg-blue-700 text-white transition-colors font-semibold",title:"Ouvir udio gravado",children:[e.jsx(Mo,{className:"w-5 h-5"}),"Ouvir"]}),e.jsxs("button",{onClick:k,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-green-600 hover:bg-green-700 text-white transition-colors font-semibold",title:"Enviar udio",children:[e.jsx(Pr,{className:"w-5 h-5"}),"Enviar"]}),e.jsx("button",{onClick:b,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-gray-700 hover:bg-gray-600 text-gray-200 transition-colors",title:"Limpar gravao",children:e.jsx(ti,{className:"w-5 h-5"})})]})]}),e.jsx("div",{className:"text-xs text-gray-500 text-center italic",children:r?"Seu udio est sendo gravado...":a?'Clique em "Ouvir" para reproduzir seu udio ou "Enviar" para enviar para o contato':'Clique em "Gravar" para iniciar a gravao de udio'})]})}function Nb({isOpen:n,callType:r,contactName:a,contactAvatar:l,duration:u,isAudioEnabled:h,isVideoEnabled:g,onToggleAudio:p,onToggleVideo:b,onEndCall:f,remoteVideoRef:w,localVideoRef:v}){const[k,A]=j.useState("00:00"),[C,T]=j.useState(!1),I=j.useRef(u);return j.useEffect(()=>{I.current=u},[u]),j.useEffect(()=>{if(!n)return;const R=setInterval(()=>{const O=Math.floor(I.current/60),P=I.current%60;A(`${String(O).padStart(2,"0")}:${String(P).padStart(2,"0")}`),I.current+=1},1e3);return()=>clearInterval(R)},[n]),n?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80",children:e.jsxs("div",{className:"w-full max-w-2xl mx-4 rounded-2xl overflow-hidden bg-gray-900 shadow-2xl",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 px-6 py-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[l?e.jsx("img",{src:l,alt:a,className:"w-12 h-12 rounded-full object-cover"}):e.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-400 to-purple-500 flex items-center justify-center text-white font-bold",children:a.charAt(0).toUpperCase()}),e.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-white"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:a}),e.jsx("p",{className:"text-sm text-blue-100",children:k})]})]}),e.jsx("button",{onClick:f,className:"p-2 rounded-full hover:bg-white/20 transition-colors",title:"Fechar chamada",children:e.jsx(Dr,{className:"w-6 h-6 text-white"})})]}),e.jsx("div",{className:"relative bg-black",children:r==="video"?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"aspect-video bg-gray-800 relative overflow-hidden",children:[e.jsx("video",{ref:w,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover",children:e.jsx("track",{kind:"captions"})}),e.jsx("div",{className:"absolute bottom-4 right-4 w-32 h-32 bg-gray-700 rounded-lg overflow-hidden border-2 border-white shadow-lg",children:e.jsx("video",{ref:v,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover scale-x-[-1]",children:e.jsx("track",{kind:"captions"})})})]})}):e.jsx("div",{className:"aspect-video bg-gradient-to-br from-gray-800 to-gray-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-br from-blue-400 to-purple-500 flex items-center justify-center mx-auto mb-4",children:l?e.jsx("img",{src:l,alt:a,className:"w-24 h-24 rounded-full object-cover"}):e.jsx("span",{className:"text-5xl font-bold text-white",children:a.charAt(0).toUpperCase()})}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:a}),e.jsx("p",{className:"text-lg text-gray-400",children:"Chamada de voz em andamento..."}),e.jsx("div",{className:"flex justify-center gap-1 mt-6",children:[0,1,2,3,4].map(R=>e.jsx("div",{className:`w-1 bg-blue-500 rounded-full animate-pulse ${R===0?"h-5":R===1?"h-8":R===2?"h-11":R===3?"h-8":"h-5"}`,style:{animationDelay:`${R*.1}s`}},R))})]})})}),e.jsxs("div",{className:"bg-gray-800 px-6 py-4 flex items-center justify-center gap-4",children:[e.jsx("button",{onClick:()=>{p(!h),T(!h)},className:`p-3 rounded-full transition-colors ${h?"bg-gray-700 hover:bg-gray-600 text-gray-200":"bg-red-600 hover:bg-red-700 text-white"}`,title:h?"Mutar udio":"Desmutar udio",children:h?e.jsx(Do,{className:"w-6 h-6"}):e.jsx(Ix,{className:"w-6 h-6"})}),r==="video"&&e.jsx("button",{onClick:()=>b(!g),className:`p-3 rounded-full transition-colors ${g?"bg-gray-700 hover:bg-gray-600 text-gray-200":"bg-red-600 hover:bg-red-700 text-white"}`,title:g?"Desligar cmera":"Ligar cmera",children:g?e.jsx($s,{className:"w-6 h-6"}):e.jsx(Vp,{className:"w-6 h-6"})}),e.jsx("button",{onClick:()=>T(!C),className:"p-3 rounded-full bg-gray-700 hover:bg-gray-600 text-gray-200 transition-colors",title:C?"Som ligado":"Som desligado",children:C?e.jsx(qp,{className:"w-6 h-6"}):e.jsx(Hp,{className:"w-6 h-6"})}),e.jsx("div",{className:"ml-4 pl-4 border-l border-gray-600",children:e.jsx("button",{onClick:f,className:"p-3 rounded-full bg-red-600 hover:bg-red-700 text-white transition-colors shadow-lg",title:"Encerrar chamada",children:e.jsx(Pd,{className:"w-6 h-6"})})})]}),e.jsxs("div",{className:"bg-gray-900 px-6 py-3 flex items-center justify-center gap-2 text-sm text-gray-400",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),e.jsxs("span",{children:[r==="video"?"Chamada de vdeo":"Chamada de voz"," em andamento"]})]}),e.jsx(vb,{})]})}):null}function kb({isOpen:n,callerName:r,callerAvatar:a,callType:l,onAccept:u,onReject:h}){return j.useEffect(()=>{if(!n)return;const g=new(globalThis.AudioContext||globalThis.webkitAudioContext),p=g.createOscillator(),b=g.createGain();p.type="sine";let f=!1;const w=setInterval(()=>{p.frequency.setValueAtTime(f?440:350,g.currentTime),f=!f},200);return b.gain.setValueAtTime(.1,g.currentTime),p.connect(b),b.connect(g.destination),p.start(),()=>{clearInterval(w),p.stop(),b.disconnect()}},[n]),n?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80",children:e.jsxs("div",{className:"w-full max-w-sm mx-4 rounded-3xl overflow-hidden bg-gradient-to-br from-gray-900 to-black shadow-2xl",children:[e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx("button",{onClick:h,className:"p-2 rounded-full hover:bg-white/10 transition-colors",title:"Recusar chamada",children:e.jsx(Dr,{className:"w-6 h-6 text-gray-400"})})}),e.jsxs("div",{className:"pt-12 pb-8 px-6 text-center",children:[e.jsx("div",{className:"mb-6 flex justify-center",children:e.jsxs("div",{className:"relative",children:[a?e.jsx("img",{src:a,alt:r,className:"w-24 h-24 rounded-full object-cover border-4 border-blue-500"}):e.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-br from-blue-400 to-purple-500 flex items-center justify-center text-white text-4xl font-bold border-4 border-blue-500",children:r.charAt(0).toUpperCase()}),e.jsx("div",{className:"absolute -bottom-2 -right-2 w-6 h-6 bg-green-500 rounded-full border-2 border-white animate-pulse"})]})}),e.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:r}),e.jsx("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600/20 rounded-full border border-blue-500/50 mb-6",children:l==="video"?e.jsxs(e.Fragment,{children:[e.jsx($s,{className:"w-4 h-4 text-blue-400"}),e.jsx("span",{className:"text-sm font-semibold text-blue-300",children:"Chamada de vdeo"})]}):e.jsxs(e.Fragment,{children:[e.jsx(zr,{className:"w-4 h-4 text-green-400"}),e.jsx("span",{className:"text-sm font-semibold text-green-300",children:"Chamada de voz"})]})}),e.jsx("div",{className:"flex justify-center gap-2 mb-8",children:[0,1,2].map(g=>e.jsx("div",{className:`w-2 h-2 bg-blue-500 rounded-full animate-pulse ring-delay-${g*200}`},g))}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Chamada recebida..."})]}),e.jsxs("div",{className:"bg-gray-800/50 px-6 py-6 flex gap-4",children:[e.jsxs("button",{onClick:h,className:"flex-1 py-4 rounded-full bg-red-600 hover:bg-red-700 text-white font-bold transition-colors flex items-center justify-center gap-2",children:[e.jsx(Pd,{className:"w-5 h-5"}),"Recusar"]}),e.jsxs("button",{onClick:u,className:"flex-1 py-4 rounded-full bg-green-600 hover:bg-green-700 text-white font-bold transition-colors flex items-center justify-center gap-2",children:[e.jsx(zr,{className:"w-5 h-5"}),"Aceitar"]})]}),e.jsx("div",{className:"px-6 py-4 text-center text-xs text-gray-500",children:e.jsx("p",{children:"Seu microfone estar ativado quando voc aceitar"})})]})}):null}function jb({bots:n,onInitiateCall:r}){return e.jsxs("div",{className:"px-4 py-3 border-t border-gray-700 dark:border-gray-600",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wide",children:" Bots de Teste"}),e.jsxs("span",{className:"text-xs bg-blue-600/20 text-blue-300 px-2 py-1 rounded-full",children:[n.length," disponvel"]})]}),e.jsx("div",{className:"space-y-2",children:n.map(a=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700/50 transition-colors cursor-pointer group",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[e.jsxs("div",{className:"relative flex-shrink-0",children:[e.jsx("img",{src:a.avatar,alt:a.name,className:"w-10 h-10 rounded-full object-cover"}),e.jsx("div",{className:`absolute bottom-0 right-0 w-3 h-3 rounded-full border-2 border-white ${a.status==="online"?"bg-green-500":a.status==="in_call"?"bg-yellow-500":"bg-gray-400"}`})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:a.name}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:a.status==="online"?"Online":a.status==="in_call"?"Em chamada":"Offline"})]})]}),e.jsxs("div",{className:"flex gap-1 ml-2 flex-shrink-0",children:[e.jsx("button",{onClick:()=>r(a.id,"audio"),disabled:a.status!=="online",className:"p-2 text-gray-400 hover:text-green-600 dark:hover:text-green-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Chamar por voz",children:e.jsx(zr,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>r(a.id,"video"),disabled:a.status!=="online",className:"p-2 text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Chamar por vdeo",children:e.jsx($s,{className:"w-4 h-4"})})]})]},a.id))}),e.jsx("div",{className:"mt-3 p-2 bg-blue-500/10 border border-blue-500/20 rounded text-xs text-blue-700 dark:text-blue-300",children:e.jsx("p",{children:" Clique no bot e escolha entre udio ou vdeo para iniciar uma chamada de teste"})})]})}function Cb({onAudioSend:n,isDisabled:r=!1}){const[a,l]=j.useState(!1),u=j.useRef(!1),{isRecording:h,recordingTime:g,startRecording:p,stopRecording:b,clearRecording:f}=n0(),w=k=>{const A=Math.floor(k/60),C=k%60;return`${String(A).padStart(2,"0")}:${String(C).padStart(2,"0")}`};j.useEffect(()=>{const k=async()=>{if(u.current){u.current=!1,l(!1),console.log(" Parando gravao e enviando...");try{const T=await b();console.log(" AudioBlob recebido:",T?.size,"bytes"),T&&T.size>0?(console.log(" Enviando udio automaticamente:",T.size,"bytes"),n(T)):(console.warn(" udio vazio ou nulo"),f())}catch(T){console.error(" Erro ao parar gravao:",T),f()}}},A=()=>k(),C=()=>k();return document.addEventListener("mouseup",A),document.addEventListener("touchend",C),()=>{document.removeEventListener("mouseup",A),document.removeEventListener("touchend",C)}},[n,b,f]);const v=async()=>{r||(u.current=!0,l(!0),console.log(" Press and hold iniciado"),await p())};return h?e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border-t border-red-200 dark:border-red-800 p-3 sm:p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex-1 flex items-center gap-3 bg-white dark:bg-gray-800 rounded-full px-4 py-2",children:[e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),e.jsxs("span",{className:"text-sm font-semibold text-red-600 dark:text-red-400",children:[" Segure para gravar: ",w(g)]})]}),e.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 whitespace-nowrap",children:"Solte para enviar "})]})}):e.jsx("button",{onMouseDown:v,onTouchStart:v,disabled:r,className:"hidden xs:flex items-center justify-center p-2 text-gray-400 hover:text-red-600 dark:hover:text-red-400 transition-colors disabled:opacity-50 disabled:cursor-not-allowed active:scale-95",title:"Segure para gravar udio","aria-label":"Gravar udio",children:e.jsx(Do,{className:"w-4 h-4 sm:w-5 sm:h-5"})})}function Sb({audioBlob:n,isOwn:r}){const[a,l]=j.useState(!1),[u,h]=j.useState(0),[g,p]=j.useState(0),b=j.useRef(null),f=T=>{const I=Math.floor(T/60),R=Math.floor(T%60);return`${String(I).padStart(2,"0")}:${String(R).padStart(2,"0")}`},w=()=>{b.current&&(a?(b.current.pause(),l(!1)):(b.current.play(),l(!0)))},v=()=>{b.current&&h(b.current.currentTime)},k=()=>{b.current&&p(b.current.duration)},A=()=>{l(!1),h(0)},C=URL.createObjectURL(n);return e.jsxs("div",{className:"flex items-center gap-2 bg-white/20 dark:bg-black/20 rounded-full px-3 py-2 w-full max-w-xs",children:[e.jsx("button",{onClick:w,className:"flex-shrink-0 p-2 rounded-full hover:bg-white/30 dark:hover:bg-white/10 transition-colors",title:a?"Pausar":"Reproduzir",children:a?e.jsx(Ua,{className:"w-4 h-4 text-white"}):e.jsx(Mo,{className:"w-4 h-4 text-white"})}),e.jsx("audio",{ref:b,src:C,onTimeUpdate:v,onLoadedMetadata:k,onEnded:A,children:e.jsx("track",{kind:"captions"})}),e.jsx("div",{className:"flex-1 flex items-center gap-2",children:e.jsx("div",{className:"flex-1 h-1.5 bg-white/30 dark:bg-white/10 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-white/80 dark:bg-white/60 rounded-full transition-all duration-100",style:{width:g>0?`${u/g*100}%`:"0%"}})})}),e.jsxs("span",{className:"text-xs text-white/70 dark:text-white/60 whitespace-nowrap",children:[f(u)," / ",f(g)]})]})}class ua{static instance;botUsers=[];activeCallId=null;callEventListeners=[];constructor(){this.initializeBots()}static getInstance(){return ua.instance||(ua.instance=new ua),ua.instance}initializeBots(){this.botUsers=[{id:"bot_support",name:" Bot Suporte",avatar:"https://api.dicebear.com/7.x/bottts/svg?seed=bot_support",status:"online",isBot:!0,responseDelay:500},{id:"bot_trader",name:" Bot Trader",avatar:"https://api.dicebear.com/7.x/bottts/svg?seed=bot_trader",status:"online",isBot:!0,responseDelay:800},{id:"bot_assistant",name:" Bot Assistente",avatar:"https://api.dicebear.com/7.x/bottts/svg?seed=bot_assistant",status:"online",isBot:!0,responseDelay:600}]}getBots(){return this.botUsers}getBot(r){return this.botUsers.find(a=>a.id===r)}async simulateIncomingCall(r,a){const l=this.getBot(r);if(!l)throw new Error(`Bot ${r} no encontrado`);const u=`call_bot_${Date.now()}`;return this.activeCallId=u,console.log(` [BOT] Chamada recebida de ${l.name}`),this.emitCallEvent({type:"incoming_call",callId:u,callType:a,timestamp:Date.now()}),await this.delay(l.responseDelay),u}async acceptCall(r){const a=Math.random()*1e3+500;await this.delay(a),console.log(` [BOT] Chamada ${r} aceita`),this.emitCallEvent({type:"call_accepted",callId:r,callType:"audio",timestamp:Date.now()})}async rejectCall(r){const a=Math.random()*500+200;await this.delay(a),console.log(` [BOT] Chamada ${r} rejeitada`),this.emitCallEvent({type:"call_rejected",callId:r,callType:"audio",timestamp:Date.now()}),this.activeCallId=null}async endCall(r,a){const l=Math.random()*(a>30?5e3:3e3);await this.delay(l),console.log(` [BOT] Finalizando chamada ${r}`),this.emitCallEvent({type:"call_ended",callId:r,callType:"audio",timestamp:Date.now()}),this.activeCallId=null}async getRemoteMediaStream(r){const a=new AudioContext,l=a.createOscillator(),u=a.createGain();l.type="sine",l.frequency.value=440,u.gain.setValueAtTime(0,a.currentTime),u.gain.linearRampToValueAtTime(.1,a.currentTime+.1),l.connect(u),u.connect(a.destination),l.start(),l.stop(a.currentTime+2);const h=new MediaStream;if(r.audio)try{const g=a.createMediaStreamDestination().stream.getAudioTracks()[0];g&&h.addTrack(g)}catch(g){console.error("Erro ao criar track de udio:",g)}if(r.video){const g=document.createElement("canvas");g.width=640,g.height=480;const p=g.getContext("2d");if(p){p.fillStyle="#1a1a2e",p.fillRect(0,0,g.width,g.height);const f=p.createLinearGradient(0,0,g.width,g.height);f.addColorStop(0,"#0f3460"),f.addColorStop(1,"#16213e"),p.fillStyle=f,p.fillRect(0,0,g.width,g.height),p.fillStyle="#00d4ff",p.font="bold 48px Arial",p.textAlign="center",p.fillText(" BOT",g.width/2,g.height/2-30),p.fillStyle="#00ff88",p.font="bold 32px Arial",p.fillText("Simulao de Vdeo",g.width/2,g.height/2+40);let w=0;const v=()=>{p.fillStyle=`hsl(${w}, 100%, 50%)`,p.fillRect(20,20,20,20),w=(w+5)%360,requestAnimationFrame(v)};v()}g.captureStream(30).getTracks().forEach(f=>{h.addTrack(f)})}return h}onCallEvent(r){return this.callEventListeners.push(r),()=>{this.callEventListeners=this.callEventListeners.filter(a=>a!==r)}}emitCallEvent(r){this.callEventListeners.forEach(a=>{try{a(r)}catch(l){console.error("Erro ao processar evento de chamada:",l)}})}delay(r){return new Promise(a=>setTimeout(a,r))}updateBotStatus(r,a){const l=this.getBot(r);l&&(l.status=a)}dispose(){this.callEventListeners=[],this.activeCallId=null}}const ns=ua.getInstance();function Eb(){const[n,r]=j.useState([]),[a,l]=j.useState({isOpen:!1,botId:null,botName:"",callType:"audio"});j.useEffect(()=>{const p=ns.getBots();console.log(" Bots carregados no hook:",p),r(p)},[]),j.useEffect(()=>{const p=ns.onCallEvent(b=>{console.log(" Evento de chamada:",b),b.type==="incoming_call"?n.find(w=>a.botId===w.id)&&l(w=>({...w,isOpen:!0,callType:b.callType})):b.type==="call_ended"&&l(f=>({...f,isOpen:!1}))});return()=>{p()}},[n,a.botId]);const u=j.useCallback(async(p,b)=>{try{const f=ns.getBot(p);if(!f)throw new Error(`Bot ${p} no encontrado`);console.log(` Iniciando chamada com ${f.name}`),await ns.simulateIncomingCall(p,b),l(w=>({...w,botId:p,botName:f.name,callType:b,isOpen:!0})),Math.random()>.5&&setTimeout(async()=>{const w=`call_bot_${Date.now()}`;await ns.acceptCall(w),setTimeout(()=>{ns.endCall(w,Math.random()*20+10)},Math.random()*2e4+1e4)},2e3)}catch(f){console.error("Erro ao iniciar chamada com bot:",f)}},[]),h=j.useCallback(async()=>{if(a.botId){console.log(` Aceitando chamada do bot ${a.botName}`),l(p=>({...p,isOpen:!1}));try{const p=`call_${Date.now()}`;await ns.acceptCall(p),setTimeout(()=>{ns.endCall(p,Math.random()*20+10)},Math.random()*2e4+1e4)}catch(p){console.error("Erro ao aceitar chamada:",p)}}},[a.botId,a.botName]),g=j.useCallback(async()=>{if(a.botId){console.log(` Rejeitando chamada do bot ${a.botName}`),l(p=>({...p,isOpen:!1}));try{const p=`call_${Date.now()}`;await ns.rejectCall(p)}catch(p){console.error("Erro ao rejeitar chamada:",p)}}},[a.botId,a.botName]);return{bots:n,incomingCall:a,handleInitiateBotCall:u,handleAcceptIncomingCall:h,handleRejectIncomingCall:g}}function Ab(){const n=j.useRef(null),r=j.useRef(null),a=j.useRef(null),l=j.useRef(null),[u,h]=j.useState(!1),[g,p]=j.useState(null),b=j.useCallback(async w=>{try{p(null),h(!1);const v={audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0},video:w==="video"?{width:{ideal:1280},height:{ideal:720},facingMode:"user"}:!1};console.log(" Solicitando permisses de mdia:",w);const k=await navigator.mediaDevices.getUserMedia(v);console.log(" Mdia capturada:",{audio:k.getAudioTracks().length>0,video:k.getVideoTracks().length>0}),w==="audio"?a.current=k:(l.current=k,n.current&&(n.current.srcObject=k,console.log(" Vdeo local conectado"))),w==="video"&&r.current&&Tb(r.current),h(!0)}catch(v){const k=v instanceof Error?v.message:"Erro ao acessar mdia";console.error(" Erro:",k),k.includes("NotAllowedError")?p(" Permisso negada. Permita acesso  cmera/microfone."):k.includes("NotFoundError")?p(" Nenhuma cmera/microfone encontrado."):p(` ${k}`),h(!1)}},[]),f=j.useCallback(()=>{console.log(" Parando mdia..."),a.current&&(a.current.getTracks().forEach(w=>w.stop()),a.current=null),l.current&&(l.current.getTracks().forEach(w=>w.stop()),l.current=null),n.current&&(n.current.srcObject=null),r.current&&(r.current.srcObject=null),h(!1),p(null)},[]);return j.useEffect(()=>()=>{f()},[f]),{localVideoRef:n,remoteVideoRef:r,startMediaCapture:b,stopMediaCapture:f,isMediaReady:u,mediaError:g}}function Tb(n){try{const r=document.createElement("canvas");r.width=1280,r.height=720;const a=r.getContext("2d");if(!a)return;const l=a.createLinearGradient(0,0,r.width,r.height);l.addColorStop(0,"#1e293b"),l.addColorStop(1,"#0f172a"),a.fillStyle=l,a.fillRect(0,0,r.width,r.height),a.fillStyle="#10b981",a.font="bold 48px Arial",a.textAlign="center",a.fillText(" Bot Simulado",r.width/2,r.height/2-50),a.fillStyle="#6b7280",a.font="24px Arial",a.fillText("(Vdeo do Bot)",r.width/2,r.height/2+50);const u=r.captureStream(30);n.srcObject=u,console.log(" Vdeo remoto simulado")}catch(r){console.warn("Erro ao criar vdeo simulado:",r)}}const Ib=()=>{const[n]=H0(),[r,a]=j.useState(1),[l,u]=j.useState(""),[h,g]=j.useState(""),[p,b]=j.useState(null),[f,w]=j.useState(""),[v,k]=j.useState(null),[A,C]=j.useState([]),[T,I]=j.useState(!1),[R,O]=j.useState("disconnected"),[P,G]=j.useState(!1),[Q,D]=j.useState(0),[B,$]=j.useState(!1),[z,K]=j.useState(!1),[re,F]=j.useState(null),[X,ae]=j.useState(0),[H,ve]=j.useState(!0),[me,ie]=j.useState(!0);j.useRef(null),j.useRef(null);const je=j.useRef(0),[se,le]=j.useState(()=>{const oe=localStorage.getItem("chatSidebarOpen");return oe!==null?oe==="true":window.innerWidth>=1024}),{bots:de,incomingCall:ge,handleInitiateBotCall:Ce,handleAcceptIncomingCall:Ie,handleRejectIncomingCall:fe}=Eb(),{localVideoRef:ye,remoteVideoRef:Re,startMediaCapture:ue}=Ab();j.useRef(null),j.useRef(),j.useEffect(()=>{console.log(" Debug - Sidebar:",{isSidebarOpen:se,botsCount:de.length,shouldRender:se&&de.length>0})},[se,de]),j.useEffect(()=>{!ge.isOpen&&ge.botId&&ge.callType&&(console.log(` Chamada aceita do bot ${ge.botName}`),K(!0),F(ge.callType),ae(0),je.current=0,ue(ge.callType).then(()=>{console.log(" Mdia capturada aps aceitar")}))},[ge.isOpen,ge.botId,ge.callType,ge.botName,ue]);const ce=n.get("userId"),ke=n.get("orderId"),Ge=n.get("context");j.useEffect(()=>{Ge==="p2p"&&ke&&(b({id:ke,orderId:ke,type:"sell",coin:"BTC",amount:"0.05",price:"460000",total:"23000",minAmount:"1000",maxAmount:"50000",fiatCurrency:"BRL",paymentMethods:["PIX","Transferncia Bancria"],timeLimit:30,status:"active",expiresAt:new Date(Date.now()+30*60*1e3).toISOString(),tradeId:"123"}),ce&&a(parseInt(ce)))},[Ge,ke,ce]),j.useEffect(()=>{if(!p?.expiresAt)return;const oe=setInterval(()=>{const Je=new Date().getTime(),Be=new Date(p.expiresAt).getTime()-Je;if(Be<=0){w("Expirado"),clearInterval(oe);return}const pe=Math.floor(Be/6e4),nt=Math.floor(Be%6e4/1e3);w(`${pe}:${nt.toString().padStart(2,"0")}`)},1e3);return()=>clearInterval(oe)},[p?.expiresAt]),j.useEffect(()=>{localStorage.setItem("chatSidebarOpen",String(se))},[se]),j.useEffect(()=>{(async()=>{if(console.log(" useEffect connectChat disparado com selectedContact:",r),!r){console.warn(" Nenhum contato selecionado");return}const Je=localStorage.getItem("token");if(!Je){console.warn(" Sem token");return}try{const Ue=`chat_${r}`;console.log(" Conectando ao chat:",Ue),k(Ue),O("connecting");const Be=await yb.connectToRoom(Ue,Je);console.log(" Conectado ao chat:",Be),O("connected")}catch(Ue){console.error(" Erro ao conectar ao chat:",Ue),O("error")}})()},[r]),j.useEffect(()=>{window.innerWidth<1024&&le(!1)},[r]),j.useEffect(()=>{if(!z){je.current=0;return}const oe=setInterval(()=>{je.current+=1,ae(je.current)},1e3);return()=>clearInterval(oe)},[z]);const _e=()=>{le(!se)},bt=[{id:1,name:"Suporte HOLD",avatar:"shield",avatarColor:"from-blue-500 to-blue-700",lastMessage:"Como posso ajudar com sua carteira?",timestamp:"14:30",unread:0,isOnline:!0,isSupport:!0,rating:5},{id:2,name:"Carlos Silva",avatar:"user",avatarColor:"from-green-500 to-green-700",lastMessage:"A transao foi confirmada!",timestamp:"13:45",unread:2,isOnline:!0},{id:3,name:"Ana Costa",avatar:"userCheck",avatarColor:"from-purple-500 to-purple-700",lastMessage:"Obrigada pela negociao",timestamp:"12:20",unread:0,isOnline:!1},{id:4,name:"Trading Group",avatar:"trendingUp",avatarColor:"from-orange-500 to-orange-700",lastMessage:"Bitcoin subindo!",timestamp:"Ontem",unread:5,isOnline:!0},{id:5,name:"Maria Santos",avatar:"building",avatarColor:"from-pink-500 to-pink-700",lastMessage:"Vamos fechar esse negcio?",timestamp:"Ontem",unread:1,isOnline:!1},{id:101,name:" Bot Trader",avatar:"cpu",avatarColor:"from-red-500 to-orange-600",lastMessage:"Ol! Sou especialista em negociaes de criptos! ",timestamp:"Agora",unread:0,isOnline:!0,isBot:!0,botId:"bot-trader"},{id:102,name:" Bot Support",avatar:"cpu",avatarColor:"from-blue-500 to-cyan-600",lastMessage:"Estou aqui para resolver seus problemas! ",timestamp:"Agora",unread:0,isOnline:!0,isBot:!0,botId:"bot-support"},{id:103,name:" Bot Manager",avatar:"cpu",avatarColor:"from-green-500 to-emerald-600",lastMessage:"Vou ajudar a otimizar seu portflio! ",timestamp:"Agora",unread:0,isOnline:!0,isBot:!0,botId:"bot-manager"}],yt={1:[{id:"1",content:"Ol! Bem-vindo ao suporte da HOLD. Como posso ajudar voc hoje?",timestamp:"14:28",isOwn:!1,status:"read"},{id:"2",content:"Tenho uma dvida sobre minha carteira Bitcoin",timestamp:"14:29",isOwn:!0,status:"read"},{id:"3",content:"Claro! Vou verificar sua conta. Posso ajudar com qualquer questo sobre carteiras, transaes ou segurana.",timestamp:"14:30",isOwn:!1,status:"read"}],2:[{id:"4",content:"Oi! A transferncia de 0.001 BTC foi processada",timestamp:"13:40",isOwn:!1,status:"read"},{id:"5",content:"Perfeito! Muito obrigado pela rapidez",timestamp:"13:43",isOwn:!0,status:"delivered"},{id:"6",content:"A transao foi confirmada!",timestamp:"13:45",isOwn:!1,status:"sent"}],101:[{id:"bot-trader-1",content:"Ol!  Sou o Bot Trader. Como posso ajudar com suas negociaes hoje?",timestamp:new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),isOwn:!1,status:"read"}],102:[{id:"bot-support-1",content:"Ol!  Sou o Bot Support. Como posso ajudar voc?",timestamp:new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),isOwn:!1,status:"read"}],103:[{id:"bot-manager-1",content:"Ol!  Sou o Bot Manager. Vamos gerenciar seu portflio?",timestamp:new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),isOwn:!1,status:"read"}]},ze=bt.find(oe=>oe.id===r);let wt=yt[r]||[];p&&(wt=[...[{id:"9001",content:`Negociao P2P #${p.orderId} iniciada! ${p.type==="buy"?"Compra":"Venda"} de ${p.amount} ${p.coin} por ${new Intl.NumberFormat("pt-BR",{style:"currency",currency:p.fiatCurrency}).format(parseFloat(p.total))}`,timestamp:new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),isOwn:!1,status:"read",type:"system"},{id:"9002",content:"Aguardando confirmao de pagamento...",timestamp:new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),isOwn:!1,status:"read",type:"system"}],...wt]);const et=bt.filter(oe=>oe.name.toLowerCase().includes(h.toLowerCase())),He=(oe,Je="large")=>{const Ue={className:Je==="large"?"w-6 h-6 text-white":"w-5 h-5 text-white"};switch(oe){case"shield":return e.jsx(dt,{...Ue});case"user":return e.jsx(ts,{...Ue});case"userCheck":return e.jsx(Dp,{...Ue});case"trendingUp":return e.jsx(er,{...Ue});case"building":return e.jsx(ma,{...Ue});default:return e.jsx(ts,{...Ue})}},W=()=>{if(!p||!ze)return;const oe={id:Date.now().toString(),content:`${ze.name} confirmou que realizou o pagamento.`,timestamp:new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),isOwn:!1,status:"read",type:"system"};C(Je=>[...Je,oe]),console.log("Pagamento confirmado para ordem:",p.orderId),alert(" Pagamento confirmado! Voc tem at "+p.timeLimit+" minutos para liberar a moeda.")},q=()=>{if(!p||!ze)return;const oe=document.createElement("input");oe.type="file",oe.accept="image/*,application/pdf",oe.onchange=Je=>{const Ue=Je.target.files?.[0];if(Ue){const Be=Ue.name,pe={id:Date.now().toString(),content:` ${Be}`,timestamp:new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),isOwn:!0,status:"delivered",type:"file",fileType:Ue.type.startsWith("image/")?"image":"document"};C(nt=>[...nt,pe]),console.log("Comprovante enviado:",Be),alert(" Comprovante enviado com sucesso!")}},oe.click()},Xe=()=>{if(!p||!ze)return;const oe=prompt("Descreva o problema encontrado nesta transao:");if(oe&&oe.trim()){const Je={id:Date.now().toString(),content:` Disputa reportada: "${oe}"`,timestamp:new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),isOwn:!0,status:"read",type:"system"};C(Ue=>[...Ue,Je]),console.log("Disputa reportada para ordem:",p.orderId,"Motivo:",oe),alert(" Sua disputa foi reportada. A equipe de suporte entrar em contato em breve.")}},vt=()=>{if(!p||!ze)return;if(confirm("Tem certeza que deseja cancelar esta transao? Esta ao no pode ser desfeita.")){const Je=prompt("Por que voc deseja cancelar?");if(Je!==null){const Ue={id:Date.now().toString(),content:` Transao cancelada${Je?": "+Je:""}`,timestamp:new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),isOwn:!0,status:"read",type:"system"};C(Be=>[...Be,Ue]),p&&b(Be=>Be?{...Be,status:"cancelled"}:null),console.log("Transao cancelada para ordem:",p.orderId),alert(" Transao cancelada com sucesso.")}}},It=async()=>{if(!(!p||!ze))try{const oe=`call_${Date.now()}`;if(!localStorage.getItem("token")){alert("Voc precisa estar autenticado para fazer chamadas");return}console.log(" Iniciando chamada de voz com:",ze.name),await ue("audio"),await Ba.initiateCall(ze.id.toString(),"audio",oe,"Voc"),console.log(" setCallType(audio), setIsCallActive(true)"),F("audio"),K(!0),ve(!0),ie(!1),je.current=0;const Ue={id:Date.now().toString(),content:" Chamada de voz iniciada...",timestamp:new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),isOwn:!0,status:"delivered",type:"system"};C(Be=>[...Be,Ue])}catch(oe){console.error("Erro ao iniciar chamada de voz:",oe),alert(" No foi possvel iniciar a chamada. Verifique suas permisses de microfone."),K(!1)}},Kt=async()=>{if(!(!p||!ze))try{const oe=`call_${Date.now()}`;if(!localStorage.getItem("token")){alert("Voc precisa estar autenticado para fazer chamadas");return}console.log(" Iniciando chamada de vdeo com:",ze.name),await ue("video"),await Ba.initiateCall(ze.id.toString(),"video",oe,"Voc"),F("video"),K(!0),ve(!0),ie(!0),je.current=0;const Ue={id:Date.now().toString(),content:" Chamada de vdeo iniciada...",timestamp:new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),isOwn:!0,status:"delivered",type:"system"};C(Be=>[...Be,Ue])}catch(oe){console.error("Erro ao iniciar chamada de vdeo:",oe),alert(" No foi possvel iniciar a chamada. Verifique suas permisses de cmera/microfone."),K(!1)}},At=async()=>{if(ze)try{console.log(" Encerrando chamada..."),await Ba.endCall(ze.id.toString()),K(!1),F(null),ve(!0),ie(!0);const oe={id:Date.now().toString(),content:" Chamada encerrada",timestamp:new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),isOwn:!0,status:"read",type:"system"};C(Je=>[...Je,oe])}catch(oe){console.error("Erro ao encerrar chamada:",oe)}},tr=oe=>{Ba.toggleAudio(oe),ve(oe)},dr=oe=>{Ba.toggleVideo(oe),ie(oe)},Nt=async()=>{if(!l.trim())return;const oe=ze;if(!oe)return;const Je={id:Date.now().toString(),content:l,timestamp:new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),isOwn:!0,status:"sent"};if(C(Ue=>[...Ue,Je]),u(""),oe.isBot&&oe.botId)try{const Ue=await hc.generateBotResponse(oe.botId,l);await new Promise(pe=>setTimeout(pe,Ue.delay));const Be={id:Date.now().toString(),content:Ue.message,timestamp:new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),isOwn:!1,status:"read"};C(pe=>[...pe,Be])}catch(Ue){console.error(" Erro ao gerar resposta do bot:",Ue)}};return e.jsxs("div",{className:"flex h-[calc(100vh-8rem)] bg-white dark:bg-gray-900 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden relative",children:[se&&e.jsx("div",{className:"lg:hidden fixed inset-0 bg-black/50 z-10",onClick:()=>le(!1)}),e.jsxs("div",{className:`
          ${se?"translate-x-0":"-translate-x-full lg:translate-x-0"}
          ${se?"w-full sm:w-96":"w-0 lg:w-20"}
          transition-all duration-300 ease-in-out
          border-r border-gray-200 dark:border-gray-700 
          flex flex-col
          fixed lg:relative inset-y-0 left-0 z-20 lg:z-0
          bg-white dark:bg-gray-900
        `,children:[e.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:`text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2 ${!se&&"lg:hidden"}`,children:[e.jsx(Vs,{className:"w-6 h-6 text-blue-600"}),se&&e.jsx("span",{children:"Conversas"})]}),e.jsx("button",{onClick:_e,"aria-label":se?"Recolher sidebar":"Expandir sidebar",className:"hidden lg:flex p-2 text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800",children:se?e.jsx(Ad,{className:"w-5 h-5"}):e.jsx(ka,{className:"w-5 h-5"})}),e.jsx("button",{onClick:_e,"aria-label":"Fechar menu",className:"lg:hidden p-2 text-gray-400 hover:text-red-600 dark:hover:text-red-400 transition-colors",children:e.jsx(Dr,{className:"w-5 h-5"})}),se&&e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{"aria-label":"Adicionar contato",className:"p-2 text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:e.jsx(Bp,{className:"w-4 h-4"})}),e.jsx("button",{"aria-label":"Configuraes do chat",className:"p-2 text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:e.jsx(hs,{className:"w-4 h-4"})})]})]}),se&&e.jsxs("div",{className:"relative",children:[e.jsx(us,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"Buscar conversas...",value:h,onChange:oe=>g(oe.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:se?et.map(oe=>e.jsx("div",{onClick:()=>a(oe.id),className:`p-4 cursor-pointer transition-colors hover:bg-gray-50 dark:hover:bg-gray-800 ${r===oe.id?"bg-blue-50 dark:bg-blue-900/20 border-r-2 border-blue-600":""}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:`w-12 h-12 rounded-full bg-gradient-to-br ${oe.avatarColor} flex items-center justify-center`,children:He(oe.avatar)}),oe.isOnline&&e.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 rounded-full border-2 border-white dark:border-gray-900"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-white truncate flex items-center gap-2",children:[oe.name,oe.isSupport&&e.jsx(dt,{className:"w-4 h-4 text-blue-600"}),oe.rating&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Qt,{className:"w-3 h-3 text-yellow-500 fill-current"}),e.jsx("span",{className:"text-xs text-gray-500",children:oe.rating})]})]}),e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:oe.timestamp})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 truncate",children:oe.lastMessage}),oe.unread>0&&e.jsx("span",{className:"bg-blue-600 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center ml-2",children:oe.unread})]})]})]})},oe.id)):e.jsx("div",{className:"hidden lg:flex flex-col items-center py-2 gap-2",children:et.map(oe=>e.jsxs("button",{onClick:()=>a(oe.id),"aria-label":`Chat com ${oe.name}`,className:`relative group ${r===oe.id?"ring-2 ring-blue-600":""} rounded-full transition-all`,children:[e.jsx("div",{className:`w-12 h-12 rounded-full bg-gradient-to-br ${oe.avatarColor} flex items-center justify-center`,children:He(oe.avatar,"small")}),oe.isOnline&&e.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-green-500 rounded-full border-2 border-white dark:border-gray-900"}),oe.unread>0&&e.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-blue-600 text-white text-xs rounded-full flex items-center justify-center",children:oe.unread}),e.jsx("div",{className:"absolute left-full ml-2 top-1/2 -translate-y-1/2 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap pointer-events-none z-50",children:oe.name})]},oe.id))})}),se&&de.length>0&&e.jsx(jb,{bots:de,onInitiateCall:Ce})]}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsx("button",{onClick:_e,"aria-label":"Abrir menu de conversas",className:"lg:hidden absolute top-4 left-4 z-30 p-2 bg-blue-600 text-white rounded-lg shadow-lg hover:bg-blue-700 transition-colors",children:e.jsx(Rd,{className:"w-5 h-5"})}),ze?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"p-3 sm:p-4 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 flex-1 min-w-0",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:`w-9 h-9 sm:w-10 sm:h-10 rounded-full bg-gradient-to-br ${ze.avatarColor} flex items-center justify-center`,children:He(ze.avatar,"small")}),ze.isOnline&&e.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 sm:-bottom-1 sm:-right-1 w-2.5 h-2.5 sm:w-3 sm:h-3 bg-green-500 rounded-full border-2 border-white dark:border-gray-800"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("h3",{className:"font-semibold text-sm sm:text-base text-gray-900 dark:text-white flex items-center gap-1.5 sm:gap-2 truncate",children:[e.jsx("span",{className:"truncate",children:ze.name}),ze.isSupport&&e.jsx(dt,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-blue-600 flex-shrink-0"})]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:ze.isOnline?"Online":"Visto por ltimo s 12:30"})]})]}),e.jsxs("div",{className:"flex gap-1 sm:gap-2",children:[e.jsx("button",{onClick:It,"aria-label":"Ligar",className:"p-1.5 sm:p-2 text-gray-400 hover:text-green-600 dark:hover:text-green-400 transition-colors",title:"Iniciar chamada de voz",children:e.jsx(zr,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),e.jsx("button",{onClick:Kt,"aria-label":"Videochamada",className:"p-1.5 sm:p-2 text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",title:"Iniciar chamada de vdeo",children:e.jsx($s,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),e.jsx("button",{"aria-label":"Mais opes",className:"p-1.5 sm:p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:e.jsx(Xf,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]})]})}),p&&e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 p-2 sm:p-4 shadow-lg",children:e.jsx("div",{className:"bg-white/10 backdrop-blur-lg rounded-lg sm:rounded-xl p-3 sm:p-4 border border-white/20",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-start gap-3 sm:gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 w-full sm:w-auto",children:[e.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 rounded-lg sm:rounded-xl bg-orange-500 flex items-center justify-center flex-shrink-0 shadow-lg",children:e.jsx(hf,{className:"w-6 h-6 sm:w-8 sm:h-8 text-white"})}),e.jsxs("div",{className:"flex-1 sm:hidden text-white min-w-0",children:[e.jsxs("h3",{className:"font-bold text-sm truncate",children:[p.type==="buy"?"Comprar":"Vender"," ",p.amount," ",p.coin]}),e.jsxs("span",{className:`text-xs px-2 py-0.5 rounded-full inline-flex items-center gap-1 mt-1 ${p.status==="active"?"bg-green-500/30":p.status==="completed"?"bg-blue-500/30":p.status==="disputed"?"bg-red-500/30":"bg-yellow-500/30"}`,children:[p.status==="active"&&e.jsxs(e.Fragment,{children:[e.jsx(ra,{className:"w-3 h-3"})," Ativo"]}),p.status==="completed"&&e.jsxs(e.Fragment,{children:[e.jsx(ra,{className:"w-3 h-3"})," Completo"]}),p.status==="disputed"&&e.jsxs(e.Fragment,{children:[e.jsx(rt,{className:"w-3 h-3"})," Disputa"]}),p.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsx(Et,{className:"w-3 h-3"})," Pendente"]})]})]})]}),e.jsxs("div",{className:"flex-1 text-white min-w-0 w-full sm:w-auto",children:[e.jsxs("div",{className:"hidden sm:flex items-center justify-between mb-2 gap-2",children:[e.jsxs("h3",{className:"font-bold text-lg truncate",children:[p.type==="buy"?"Comprar":"Vender"," ",p.amount," ",p.coin]}),e.jsxs("span",{className:`text-xs px-2 py-1 rounded-full flex items-center gap-1 whitespace-nowrap ${p.status==="active"?"bg-green-500/30":p.status==="completed"?"bg-blue-500/30":p.status==="disputed"?"bg-red-500/30":"bg-yellow-500/30"}`,children:[p.status==="active"&&e.jsxs(e.Fragment,{children:[e.jsx(ra,{className:"w-3 h-3"})," Ativo"]}),p.status==="completed"&&e.jsxs(e.Fragment,{children:[e.jsx(ra,{className:"w-3 h-3"})," Completo"]}),p.status==="disputed"&&e.jsxs(e.Fragment,{children:[e.jsx(rt,{className:"w-3 h-3"})," Disputa"]}),p.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsx(Et,{className:"w-3 h-3"})," Pendente"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-3 gap-y-1.5 sm:gap-x-4 sm:gap-y-2 text-xs sm:text-sm mb-2 sm:mb-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:"opacity-75",children:"Total:"}),e.jsx("span",{className:"font-bold ml-1 block sm:inline",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:p.fiatCurrency,minimumFractionDigits:0,maximumFractionDigits:0}).format(parseFloat(p.total))})]}),e.jsxs("div",{children:[e.jsx("span",{className:"opacity-75",children:"Preo:"}),e.jsxs("span",{className:"font-bold ml-1 truncate block",children:[new Intl.NumberFormat("pt-BR",{style:"currency",currency:p.fiatCurrency,minimumFractionDigits:0,maximumFractionDigits:0}).format(parseFloat(p.price)),"/",p.coin]})]}),e.jsxs("div",{className:"col-span-2 sm:col-span-1",children:[e.jsx("span",{className:"opacity-75",children:"Limites:"}),e.jsxs("span",{className:"ml-1 truncate block",children:[new Intl.NumberFormat("pt-BR",{style:"currency",currency:p.fiatCurrency,minimumFractionDigits:0,maximumFractionDigits:0}).format(parseFloat(p.minAmount))," ","-"," ",new Intl.NumberFormat("pt-BR",{style:"currency",currency:p.fiatCurrency,minimumFractionDigits:0,maximumFractionDigits:0}).format(parseFloat(p.maxAmount))]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Sp,{className:"w-3 h-3 opacity-75"}),e.jsx("span",{className:"opacity-75",children:"Prazo:"}),e.jsxs("span",{className:"ml-1",children:[p.timeLimit," min"]})]})]}),e.jsx("div",{className:"flex flex-wrap gap-1.5 sm:gap-2 mb-2 sm:mb-0",children:p.paymentMethods.map((oe,Je)=>e.jsxs("span",{className:"text-xs bg-white/20 px-2 py-1 rounded flex items-center gap-1",children:[oe==="PIX"?e.jsx(Mr,{className:"w-3 h-3"}):e.jsx(Eo,{className:"w-3 h-3"}),oe]},Je))})]}),e.jsxs("button",{onClick:()=>window.open(`/p2p/order/${p.orderId}`,"_blank"),className:"w-full sm:w-auto px-3 sm:px-4 py-2 bg-white text-blue-600 rounded-lg font-medium hover:bg-gray-100 transition-colors text-xs sm:text-sm flex items-center justify-center gap-2 whitespace-nowrap",children:[e.jsx(Ro,{className:"w-3 h-3 sm:w-4 sm:h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Ver Detalhes"}),e.jsx("span",{className:"sm:hidden",children:"Detalhes"})]})]})})}),p?.status==="active"&&f&&e.jsx("div",{className:`border-b p-2 sm:p-3 ${f.startsWith("0:")||f==="Expirado"?"bg-red-50 dark:bg-red-900/20 border-red-200":"bg-orange-50 dark:bg-orange-900/20 border-orange-200"}`,children:e.jsxs("div",{className:`flex items-center justify-center gap-1.5 sm:gap-2 ${f.startsWith("0:")||f==="Expirado"?"text-red-600 dark:text-red-400":"text-orange-600 dark:text-orange-400"}`,children:[e.jsx(Et,{className:`w-3.5 h-3.5 sm:w-4 sm:h-4 ${f!=="Expirado"&&"animate-pulse"}`}),e.jsx("span",{className:"font-bold text-xs sm:text-sm",children:f==="Expirado"?"Negociao expirada!":`Tempo restante: ${f}`})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-2 sm:p-4 space-y-3 sm:space-y-4 bg-gray-50 dark:bg-gray-900/50",children:wt.map(oe=>e.jsx("div",{className:`flex ${oe.type==="system"?"justify-center":oe.isOwn?"justify-end":"justify-start"}`,children:oe.type==="system"?e.jsxs("div",{className:"max-w-[90%] sm:max-w-md px-3 sm:px-4 py-2 rounded-lg sm:rounded-xl bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-1.5 sm:gap-2 text-blue-600 dark:text-blue-400",children:[e.jsx(Ur,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 flex-shrink-0"}),e.jsx("p",{className:"text-xs sm:text-sm font-medium",children:oe.content})]}),e.jsx("span",{className:"text-xs text-blue-500 dark:text-blue-400 mt-0.5 sm:mt-1 block",children:oe.timestamp})]}):e.jsxs("div",{className:`max-w-[85%] sm:max-w-xs lg:max-w-md px-3 sm:px-4 py-2 rounded-2xl ${oe.isOwn?"bg-gradient-to-r from-blue-600 to-purple-600 text-white":"bg-white dark:bg-gray-800 text-gray-900 dark:text-white border border-gray-200 dark:border-gray-700"}`,children:[oe.fileType==="audio"&&oe.audioBlob?e.jsx("div",{className:"mb-2",children:e.jsx(Sb,{audioBlob:oe.audioBlob,isOwn:oe.isOwn})}):null,e.jsx("p",{className:"text-xs sm:text-sm break-words",children:oe.content}),e.jsxs("div",{className:`flex items-center justify-between mt-1 gap-2 ${oe.isOwn?"text-blue-100":"text-gray-500 dark:text-gray-400"}`,children:[e.jsx("span",{className:"text-xs",children:oe.timestamp}),oe.isOwn&&e.jsxs("div",{className:"flex items-center",children:[oe.status==="sent"&&e.jsx(nr,{className:"w-3 h-3"}),oe.status==="sending"&&e.jsx(Et,{className:"w-3 h-3 animate-spin"}),oe.status==="delivered"&&e.jsx(zl,{className:"w-3 h-3"}),oe.status==="read"&&e.jsx(zl,{className:"w-3 h-3 text-blue-300"})]})]})]})},oe.id))}),p&&p.status==="active"&&e.jsxs("div",{className:"px-2 sm:px-4 py-2 sm:py-3 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50",children:[e.jsxs("div",{className:"grid grid-cols-2 sm:hidden gap-2",children:[e.jsxs("button",{onClick:W,className:"py-2.5 bg-green-500 hover:bg-green-600 text-white rounded-lg font-medium transition-colors flex items-center justify-center gap-1.5 text-xs",children:[e.jsx(ra,{className:"w-3.5 h-3.5"}),e.jsx("span",{className:"hidden xs:inline",children:"Confirmei"}),e.jsx("span",{className:"xs:hidden",children:""})]}),e.jsxs("button",{onClick:q,className:"py-2.5 bg-blue-500 hover:bg-blue-600 text-white rounded-lg font-medium transition-colors flex items-center justify-center gap-1.5 text-xs",children:[e.jsx(Cr,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden xs:inline",children:"Comprovante"})]}),e.jsxs("button",{onClick:Xe,className:"py-2.5 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-medium transition-colors flex items-center justify-center gap-1.5 text-xs",children:[e.jsx(rt,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden xs:inline",children:"Reportar"})]}),e.jsxs("button",{onClick:vt,"aria-label":"Cancelar negociao",className:"py-2.5 bg-red-500 hover:bg-red-600 text-white rounded-lg font-medium transition-colors flex items-center justify-center gap-1.5 text-xs",children:[e.jsx(Ns,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden xs:inline",children:"Cancelar"})]})]}),e.jsxs("div",{className:"hidden sm:flex gap-2",children:[e.jsxs("button",{onClick:W,className:"flex-1 py-2.5 bg-green-500 hover:bg-green-600 text-white rounded-lg font-medium transition-colors flex items-center justify-center gap-2 text-sm",children:[e.jsx(ra,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden md:inline",children:"Confirmei o Pagamento"}),e.jsx("span",{className:"md:hidden",children:"Confirmei"})]}),e.jsxs("button",{onClick:q,className:"flex-1 py-2.5 bg-blue-500 hover:bg-blue-600 text-white rounded-lg font-medium transition-colors flex items-center justify-center gap-2 text-sm",children:[e.jsx(Cr,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden md:inline",children:"Enviar Comprovante"}),e.jsx("span",{className:"md:hidden",children:"Comprovante"})]}),e.jsxs("button",{onClick:Xe,className:"flex-1 py-2.5 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-medium transition-colors flex items-center justify-center gap-2 text-sm",children:[e.jsx(rt,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden md:inline",children:"Reportar Problema"}),e.jsx("span",{className:"md:hidden",children:"Reportar"})]}),e.jsxs("button",{onClick:vt,"aria-label":"Cancelar negociao",className:"px-3 md:px-4 py-2.5 bg-red-500 hover:bg-red-600 text-white rounded-lg font-medium transition-colors flex items-center justify-center gap-2 text-sm",children:[e.jsx(Ns,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden md:inline",children:"Cancelar"})]})]})]}),e.jsx("div",{className:"p-2 sm:p-4 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-3",children:[e.jsx("button",{"aria-label":"Anexar arquivo",className:"hidden xs:block p-2 text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:e.jsx(Fx,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("input",{type:"text",placeholder:"Digite sua mensagem...",value:l,onChange:oe=>u(oe.target.value),onKeyDown:oe=>oe.key==="Enter"&&Nt(),className:"w-full px-3 sm:px-4 py-2 sm:py-3 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-2xl text-sm sm:text-base text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-10 sm:pr-12"}),e.jsx("button",{"aria-label":"Adicionar emoji",className:"absolute right-2 sm:right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-yellow-500 transition-colors",children:e.jsx(mp,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]}),e.jsx(Cb,{onAudioSend:async oe=>{try{console.log(" udio para enviar:",oe.size,"bytes");const Je={id:Date.now().toString(),content:`[udio - ${(oe.size/1024).toFixed(1)} KB]`,timestamp:new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),isOwn:!0,status:"sent",type:"file",fileType:"audio",audioBlob:oe};if(C(Be=>[...Be,Je]),ze?.isBot&&ze?.botId){const Be=await hc.generateBotResponseFromAudio(ze.botId,oe);await new Promise(nt=>setTimeout(nt,Be.delay));const pe={id:Date.now().toString(),content:Be.message,timestamp:new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),isOwn:!1,status:"read"};C(nt=>[...nt,pe]);return}console.log(" connectionStatus:",R),console.log(" chatRoomId:",v);let Ue=0;for(;R!=="connected"&&Ue<5;)console.log(` Esperando conexo... (${Ue}/5)`),await new Promise(Be=>setTimeout(Be,500)),Ue++;if(R!=="connected"){console.warn(" WebSocket no conectado, salvando localmente");return}if(console.log(" Enviando udio para o servidor..."),!v)throw new Error("chatRoomId no encontrado");console.log(" udio enviado com sucesso")}catch(Je){console.error(" Erro ao enviar udio:",Je)}},isDisabled:!ze}),e.jsx("button",{onClick:Nt,disabled:!l.trim(),"aria-label":"Enviar mensagem",className:"p-2 sm:p-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl hover:from-blue-700 hover:to-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all transform hover:scale-105",children:e.jsx(Pr,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]})})]}):e.jsx("div",{className:"flex-1 flex items-center justify-center bg-gray-50 dark:bg-gray-900/50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-20 h-20 mx-auto bg-gradient-to-br from-blue-600 to-purple-600 rounded-full flex items-center justify-center mb-4",children:e.jsx(Vs,{className:"w-10 h-10 text-white"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Bem-vindo ao Chat"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Selecione uma conversa para comear a trocar mensagens"})]})})]}),e.jsx(kb,{isOpen:ge.isOpen,callerName:ge.botName,callType:ge.callType,onAccept:Ie,onReject:fe}),(console.log(" CallModal render check:",{hasContact:!!ze,isCallActive:z,callType:re,shouldRender:!!(ze&&z&&re)}),ze&&z&&re&&e.jsx(Nb,{isOpen:z,callType:re,contactName:ze.name,contactAvatar:ze.avatar,duration:X,isAudioEnabled:H,isVideoEnabled:me,onToggleAudio:tr,onToggleVideo:dr,onEndCall:At,remoteVideoRef:Re,localVideoRef:ye}))]})},Rb=()=>{const n=mr(),{user:r,token:a}=Vt(),l=i1(),[u,h]=j.useState(!1),[g,p]=j.useState("profile"),[b,f]=j.useState(!1),[w,v]=j.useState(!1),[k,A]=j.useState({name:"",email:"",phone:"",location:"",birthDate:"",bio:"",website:"",avatar:null});j.useEffect(()=>{r&&A({name:[r.firstName,r.lastName].filter(Boolean).join(" ")||r.username||"",email:r.email||"",phone:r.phoneNumber||"",location:"",birthDate:"",bio:"",website:"",avatar:null})},[r]);const[C,T]=j.useState({twoFactorEnabled:!0,emailNotifications:!0,smsNotifications:!1,currentPassword:"",newPassword:"",confirmPassword:""}),[I,R]=j.useState({tradeAlerts:!0,priceAlerts:!0,securityAlerts:!0,marketingEmails:!1,weeklyReport:!0}),O=[{id:1,type:"login",description:"Login realizado com sucesso",timestamp:"2024-11-25 14:30",ip:"192.168.1.100",device:"Chrome, Windows"},{id:2,type:"trade",description:"Transao P2P completada - 0.001 BTC",timestamp:"2024-11-25 13:45",status:"success"},{id:3,type:"security",description:"Senha alterada",timestamp:"2024-11-24 10:20",status:"success"}],P=async()=>{try{const D=k.name.trim().split(" "),B=D[0]||"",$=D.slice(1).join(" ")||"",z={firstName:B,lastName:$,email:k.email,phoneNumber:k.phone};l.mutate(z,{onSuccess:()=>{h(!1)},onError:K=>{console.error("Erro ao salvar perfil:",K)}})}catch(D){console.error("Erro ao processar formulrio:",D)}},G=D=>{const B=D.target.files?.[0];B&&A($=>({...$,avatar:B}))},Q=D=>{switch(D){case"login":return e.jsx(ts,{className:"w-4 h-4 text-blue-600"});case"trade":return e.jsx(Mr,{className:"w-4 h-4 text-green-600"});case"security":return e.jsx(dt,{className:"w-4 h-4 text-red-600"});default:return e.jsx(ao,{className:"w-4 h-4 text-gray-600"})}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl flex items-center justify-center",children:e.jsx(ts,{className:"w-6 h-6 text-white"})}),"Meu Perfil"]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-1",children:"Gerencie suas informaes pessoais e configuraes"})]})}),e.jsx("div",{className:"flex space-x-1 bg-gray-100 dark:bg-gray-800 p-1 rounded-lg",children:[{id:"profile",label:"Perfil",icon:ts},{id:"trader",label:"Trader",icon:er},{id:"kyc",label:"Verificao KYC",icon:Or},{id:"security",label:"Segurana",icon:dt},{id:"notifications",label:"Notificaes",icon:Dn},{id:"activity",label:"Atividade",icon:ao}].map(D=>e.jsxs("button",{onClick:()=>p(D.id),className:`flex-1 flex items-center justify-center gap-2 py-3 px-4 rounded-md font-medium transition-all ${g===D.id?"bg-white dark:bg-gray-700 text-blue-600 dark:text-blue-400 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,children:[e.jsx(D.icon,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:D.label})]},D.id))}),g==="profile"&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"relative inline-block",children:[e.jsx("div",{className:"w-32 h-32 mx-auto bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-4xl font-bold text-white mb-4",children:k.name.split(" ").map(D=>D[0]).join("")}),e.jsxs("label",{className:"absolute bottom-2 right-2 w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center cursor-pointer hover:bg-blue-700 transition-colors",children:[e.jsx(Ao,{className:"w-4 h-4 text-white"}),e.jsx("input",{type:"file",accept:"image/*",onChange:G,"aria-label":"Alterar foto do perfil",className:"hidden"})]})]}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-1",children:k.name}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:k.email}),e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Qt,{className:"w-4 h-4 text-yellow-500 fill-current"}),e.jsx(Qt,{className:"w-4 h-4 text-yellow-500 fill-current"}),e.jsx(Qt,{className:"w-4 h-4 text-yellow-500 fill-current"}),e.jsx(Qt,{className:"w-4 h-4 text-yellow-500 fill-current"}),e.jsx(Qt,{className:"w-4 h-4 text-gray-300"})]}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"4.8/5"})]}),e.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-green-600 dark:text-green-400",children:[e.jsx(nr,{className:"w-4 h-4"}),"Conta Verificada"]})]})})}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Informaes Pessoais"}),e.jsx("button",{onClick:()=>u?P():h(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:u?e.jsxs(e.Fragment,{children:[e.jsx(Dd,{className:"w-4 h-4"}),"Salvar"]}):e.jsxs(e.Fragment,{children:[e.jsx(Od,{className:"w-4 h-4"}),"Editar"]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nome Completo"}),e.jsxs("div",{className:"relative",children:[e.jsx(ts,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",value:k.name,onChange:D=>A(B=>({...B,name:D.target.value})),disabled:!u,"aria-label":"Nome completo",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white disabled:bg-gray-100 dark:disabled:bg-gray-800 disabled:cursor-not-allowed"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(Wa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"email",value:k.email,onChange:D=>A(B=>({...B,email:D.target.value})),disabled:!u,"aria-label":"Endereo de email",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white disabled:bg-gray-100 dark:disabled:bg-gray-800 disabled:cursor-not-allowed"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Telefone"}),e.jsxs("div",{className:"relative",children:[e.jsx(zr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"tel",value:k.phone,onChange:D=>A(B=>({...B,phone:D.target.value})),disabled:!u,"aria-label":"Nmero de telefone",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white disabled:bg-gray-100 dark:disabled:bg-gray-800 disabled:cursor-not-allowed"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Localizao"}),e.jsxs("div",{className:"relative",children:[e.jsx(Po,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",value:k.location,onChange:D=>A(B=>({...B,location:D.target.value})),disabled:!u,"aria-label":"Localizao",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white disabled:bg-gray-100 dark:disabled:bg-gray-800 disabled:cursor-not-allowed"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Data de Nascimento"}),e.jsxs("div",{className:"relative",children:[e.jsx(pa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"date",value:k.birthDate,onChange:D=>A(B=>({...B,birthDate:D.target.value})),disabled:!u,"aria-label":"Data de nascimento",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white disabled:bg-gray-100 dark:disabled:bg-gray-800 disabled:cursor-not-allowed"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Website"}),e.jsxs("div",{className:"relative",children:[e.jsx(ls,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"url",value:k.website,onChange:D=>A(B=>({...B,website:D.target.value})),disabled:!u,"aria-label":"Website",placeholder:"https://exemplo.com",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white disabled:bg-gray-100 dark:disabled:bg-gray-800 disabled:cursor-not-allowed"})]})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Biografia"}),e.jsx("textarea",{value:k.bio,onChange:D=>A(B=>({...B,bio:D.target.value})),disabled:!u,rows:4,placeholder:"Conte um pouco sobre voc e sua experincia com trading...",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white disabled:bg-gray-100 dark:disabled:bg-gray-800 disabled:cursor-not-allowed resize-none"})]}),u&&e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{onClick:P,className:"flex-1 bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Salvar Alteraes"}),e.jsx("button",{onClick:()=>h(!1),className:"px-6 bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-300 py-2 rounded-lg hover:bg-gray-400 dark:hover:bg-gray-500 transition-colors",children:"Cancelar"})]})]})})]}),g==="kyc"&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[e.jsx(Or,{className:"w-5 h-5 text-blue-600"}),"Verificao KYC (Know Your Customer)"]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Complete sua verificao de identidade para desbloquear funcionalidades avanadas e aumentar seus limites de transao."}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(rt,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-blue-900 dark:text-blue-200",children:"Aguardando Verificao"}),e.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-300 mt-1",children:"Sua documentao foi recebida. Normalmente analisamos em at 48 horas."})]})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:"Etapas de Verificao"}),e.jsx("div",{className:"space-y-3",children:[{step:1,title:"Documento de Identidade",status:"completed",icon:nr},{step:2,title:"Prova de Endereo",status:"completed",icon:nr},{step:3,title:"Verificao Facial",status:"pending",icon:rt}].map(D=>e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 ${D.status==="completed"?"bg-green-100 dark:bg-green-900/30":"bg-yellow-100 dark:bg-yellow-900/30"}`,children:e.jsx(D.icon,{className:`w-5 h-5 ${D.status==="completed"?"text-green-600 dark:text-green-400":"text-yellow-600 dark:text-yellow-400"}`})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:D.title}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-0.5",children:D.status==="completed"?"Verificado com sucesso":"Aguardando sua ao"})]}),e.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${D.status==="completed"?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400"}`,children:D.status==="completed"?"Completo":"Pendente"})]},D.step))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:"Benefcios da Verificao"}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:[{title:"Limites Maiores",desc:"Aumente seus limites de transao"},{title:"Melhor Reputao",desc:"Aumente confiana com parceiros"},{title:"Acesso Completo",desc:"Desbloqueie todas as funcionalidades"},{title:"Suporte Prioritrio",desc:"Atendimento prioritrio 24/7"}].map((D,B)=>e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white text-sm",children:D.title}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:D.desc})]},B))})]}),e.jsx("button",{onClick:()=>n("/kyc"),className:"w-full px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors",children:"Continuar Verificao"})]})]})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-xl p-4",children:[e.jsx("h4",{className:"font-semibold text-green-900 dark:text-green-200 mb-3",children:" Segurana"}),e.jsx("p",{className:"text-sm text-green-800 dark:text-green-300",children:"Seus dados so criptografados e protegidos com os mais altos padres de segurana."})]})})]}),g==="security"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Autenticao de Dois Fatores (2FA)"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Adicione uma camada extra de segurana  sua conta"}),e.jsxs("div",{className:`mt-2 inline-flex items-center gap-2 px-3 py-1 rounded-full text-sm ${C.twoFactorEnabled?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400"}`,children:[C.twoFactorEnabled?e.jsx(nr,{className:"w-3 h-3"}):e.jsx(rt,{className:"w-3 h-3"}),C.twoFactorEnabled?"Ativo":"Inativo"]})]}),e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[C.twoFactorEnabled?"Desativar":"Ativar"," 2FA"]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Alterar Senha"}),e.jsxs("div",{className:"space-y-4 max-w-md",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Senha Atual"}),e.jsxs("div",{className:"relative",children:[e.jsx(Or,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:b?"text":"password",value:C.currentPassword,onChange:D=>T(B=>({...B,currentPassword:D.target.value})),"aria-label":"Senha atual",placeholder:"Digite sua senha atual",className:"w-full pl-10 pr-12 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),e.jsx("button",{type:"button",onClick:()=>f(!b),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:b?e.jsx($r,{className:"w-4 h-4"}):e.jsx(lr,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nova Senha"}),e.jsxs("div",{className:"relative",children:[e.jsx(Or,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:w?"text":"password",value:C.newPassword,onChange:D=>T(B=>({...B,newPassword:D.target.value})),"aria-label":"Nova senha",placeholder:"Digite sua nova senha",className:"w-full pl-10 pr-12 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),e.jsx("button",{type:"button",onClick:()=>v(!w),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:w?e.jsx($r,{className:"w-4 h-4"}):e.jsx(lr,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Confirmar Nova Senha"}),e.jsxs("div",{className:"relative",children:[e.jsx(Or,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"password",value:C.confirmPassword,onChange:D=>T(B=>({...B,confirmPassword:D.target.value})),"aria-label":"Confirmar nova senha",placeholder:"Confirme sua nova senha",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]}),e.jsx("button",{className:"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Alterar Senha"})]})]})]}),g==="notifications"&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Preferncias de Notificao"}),e.jsx("div",{className:"space-y-6",children:[{key:"tradeAlerts",label:"Alertas de Trading",description:"Notificaes sobre suas negociaes P2P",icon:Mr},{key:"priceAlerts",label:"Alertas de Preo",description:"Mudanas significativas no preo das criptomoedas",icon:er},{key:"securityAlerts",label:"Alertas de Segurana",description:"Atividades suspeitas na sua conta",icon:dt},{key:"marketingEmails",label:"Emails de Marketing",description:"Promoes e novidades da plataforma",icon:Wa},{key:"weeklyReport",label:"Relatrio Semanal",description:"Resumo das suas atividades da semana",icon:pa}].map(D=>e.jsxs("div",{className:"flex items-center justify-between py-4 border-b border-gray-200 dark:border-gray-700 last:border-0",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center mt-1",children:e.jsx(D.icon,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:D.label}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:D.description})]})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:I[D.key],onChange:B=>R($=>({...$,[D.key]:B.target.checked})),"aria-label":D.label,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]},D.key))})]}),g==="trader"&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Perfil de Negociador"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Configure e gerencie seu perfil como trader P2P"}),e.jsx(a0,{token:a||null,onEdit:()=>n("/p2p/trader-profile/edit"),showEditButton:!0,showProfileLink:!1},`trader-${a}`)]})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-xl p-4",children:[e.jsx("h4",{className:"font-semibold text-blue-900 dark:text-blue-200 mb-3",children:" Dica"}),e.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-300",children:"Mantenha seu perfil de trader sempre atualizado para atrair mais clientes e melhorar sua reputao"})]})})]}),g==="activity"&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[e.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Atividade Recente"})}),e.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:O.map(D=>e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-10 h-10 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center",children:Q(D.type)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:D.description}),e.jsxs("div",{className:"flex items-center gap-4 mt-1 text-sm text-gray-500 dark:text-gray-400",children:[e.jsx("span",{children:D.timestamp}),D.ip&&e.jsxs("span",{children:["IP: ",D.ip]}),D.device&&e.jsx("span",{children:D.device})]})]}),D.status&&e.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${D.status==="success"?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400"}`,children:D.status==="success"?"Sucesso":"Falha"})]})},D.id))})]})]})},_b=()=>{const[n,r]=j.useState(0),[a,l]=j.useState("incomplete"),[u,h]=j.useState(!1),[g,p]=j.useState({fullName:"Joo Silva",dateOfBirth:"1990-05-15",nationality:"BR",idNumber:"123.456.789-00",address:"Rua das Flores, 123",city:"So Paulo",state:"SP",zipCode:"01234-567",country:"BR",phone:"+55 11 99999-9999",occupation:"Desenvolvedor de Software",monthlyIncome:"15000",sourceOfFunds:"salary"}),[b,f]=j.useState([{id:"1",name:"RG_frente.jpg",type:"identity",status:"approved",uploadDate:"2024-11-20",url:"/mock-document-1.jpg"},{id:"2",name:"RG_verso.jpg",type:"identity",status:"approved",uploadDate:"2024-11-20",url:"/mock-document-2.jpg"},{id:"3",name:"comprovante_residencia.pdf",type:"address",status:"under_review",uploadDate:"2024-11-21",url:"/mock-document-3.pdf"}]),w=[{id:0,title:"Informaes Pessoais",description:"Dados bsicos e contato",icon:ts,status:"approved"},{id:1,title:"Documentos de Identidade",description:"RG, CNH ou Passaporte",icon:Cr,status:"approved"},{id:2,title:"Comprovante de Endereo",description:"Documento com at 3 meses",icon:Po,status:"under_review"},{id:3,title:"Selfie de Verificao",description:"Foto segurando documento",icon:Ao,status:"pending"},{id:4,title:"Informaes Financeiras",description:"Renda e origem dos recursos",icon:Mr,status:"incomplete"}],v=I=>{switch(I){case"approved":return e.jsx(nr,{className:"w-5 h-5 text-green-600"});case"under_review":return e.jsx(Et,{className:"w-5 h-5 text-yellow-600"});case"rejected":return e.jsx(Dr,{className:"w-5 h-5 text-red-600"});case"pending":return e.jsx(rt,{className:"w-5 h-5 text-blue-600"});default:return e.jsx(Et,{className:"w-5 h-5 text-gray-400"})}},k=I=>{switch(I){case"approved":return"Aprovado";case"under_review":return"Em Anlise";case"rejected":return"Rejeitado";case"pending":return"Pendente";default:return"Incompleto"}},A=I=>{switch(I){case"approved":return"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400";case"under_review":return"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400";case"rejected":return"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400";case"pending":return"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400";default:return"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-400"}},C=(I,R)=>{const O=I.target.files?.[0];O&&(h(!0),setTimeout(()=>{const P={id:Date.now().toString(),name:O.name,type:R,file:O,status:"pending",uploadDate:new Date().toISOString().split("T")[0]||""};f(G=>[...G,P]),h(!1)},2e3))},T=I=>{f(R=>R.filter(O=>O.id!==I))};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl flex items-center justify-center",children:e.jsx(dt,{className:"w-6 h-6 text-white"})}),"Verificao KYC"]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-1",children:"Complete sua verificao de identidade para usar todos os recursos"})]}),e.jsxs("div",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium ${A(a)}`,children:[v(a),"Status: ",k(a)]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Progresso da Verificao"}),e.jsx("div",{className:"space-y-4",children:w.map((I,R)=>e.jsxs("div",{onClick:()=>r(I.id),className:`flex items-center gap-4 p-4 rounded-lg border cursor-pointer transition-all hover:shadow-md ${n===I.id?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${I.status==="approved"?"bg-green-100 dark:bg-green-900/30":I.status==="under_review"?"bg-yellow-100 dark:bg-yellow-900/30":I.status==="rejected"?"bg-red-100 dark:bg-red-900/30":"bg-gray-100 dark:bg-gray-700"}`,children:e.jsx(I.icon,{className:`w-6 h-6 ${I.status==="approved"?"text-green-600":I.status==="under_review"?"text-yellow-600":I.status==="rejected"?"text-red-600":"text-gray-500"}`})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:I.title}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:I.description})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium ${A(I.status)}`,children:[v(I.status),k(I.status)]}),e.jsx(ka,{className:"w-5 h-5 text-gray-400"})]})]},I.id))})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n===0&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Informaes Pessoais"}),e.jsxs("button",{className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(Od,{className:"w-4 h-4"}),"Editar"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nome Completo"}),e.jsxs("div",{className:"relative",children:[e.jsx(ts,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",value:g.fullName,onChange:I=>p(R=>({...R,fullName:I.target.value})),"aria-label":"Nome completo",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",readOnly:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"CPF"}),e.jsxs("div",{className:"relative",children:[e.jsx(Cr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",value:g.idNumber,onChange:I=>p(R=>({...R,idNumber:I.target.value})),"aria-label":"CPF",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",readOnly:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Data de Nascimento"}),e.jsxs("div",{className:"relative",children:[e.jsx(pa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"date",value:g.dateOfBirth,onChange:I=>p(R=>({...R,dateOfBirth:I.target.value})),"aria-label":"Data de nascimento",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",readOnly:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Telefone"}),e.jsxs("div",{className:"relative",children:[e.jsx(zr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"tel",value:g.phone,onChange:I=>p(R=>({...R,phone:I.target.value})),"aria-label":"Telefone",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",readOnly:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Profisso"}),e.jsxs("div",{className:"relative",children:[e.jsx(ma,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",value:g.occupation,onChange:I=>p(R=>({...R,occupation:I.target.value})),"aria-label":"Profisso",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",readOnly:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Renda Mensal"}),e.jsxs("div",{className:"relative",children:[e.jsx(Mr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",value:`R$ ${g.monthlyIncome}`,onChange:I=>p(R=>({...R,monthlyIncome:I.target.value})),"aria-label":"Renda mensal",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",readOnly:!0})]})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Endereo Completo"}),e.jsx("textarea",{value:`${g.address}, ${g.city} - ${g.state}, ${g.zipCode}`,"aria-label":"Endereo completo",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-none",rows:3,readOnly:!0})]})]}),(n===1||n===2||n===3)&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:[n===1&&"Upload de Documentos de Identidade",n===2&&"Upload de Comprovante de Endereo",n===3&&"Selfie de Verificao"]}),e.jsx("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-8 text-center",children:u?e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Enviando documento..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(Ln,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Arraste e solte seu arquivo aqui"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"Ou clique para selecionar"}),e.jsxs("label",{className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer transition-colors",children:[e.jsx(Ln,{className:"w-4 h-4"}),"Selecionar Arquivo",e.jsx("input",{type:"file",accept:n===3?"image/*":"image/*,.pdf",onChange:I=>C(I,n===1?"identity":n===2?"address":"selfie"),className:"hidden"})]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:n===3?"Apenas imagens (JPG, PNG)":"PDF, JPG, PNG (mx. 5MB)"})]})}),e.jsxs("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/30 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-blue-900 dark:text-blue-400 mb-2",children:"Requisitos:"}),e.jsxs("ul",{className:"text-sm text-blue-800 dark:text-blue-300 space-y-1",children:[n===1&&e.jsxs(e.Fragment,{children:[e.jsx("li",{children:" RG, CNH ou Passaporte vlido"}),e.jsx("li",{children:" Documento deve estar legvel e sem rasuras"}),e.jsx("li",{children:" Envie frente e verso (se aplicvel)"})]}),n===2&&e.jsxs(e.Fragment,{children:[e.jsx("li",{children:" Conta de luz, gua, telefone ou extrato bancrio"}),e.jsx("li",{children:" Documento deve ter no mximo 3 meses"}),e.jsx("li",{children:" Deve conter seu nome e endereo completo"})]}),n===3&&e.jsxs(e.Fragment,{children:[e.jsx("li",{children:" Foto sua segurando o documento de identidade"}),e.jsx("li",{children:" Rosto e documento devem estar visveis"}),e.jsx("li",{children:" Boa iluminao e qualidade da imagem"})]})]})]})]})]}),e.jsxs("div",{className:"lg:col-span-1",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Documentos Enviados"}),b.length===0?e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:"Nenhum documento enviado ainda"}):e.jsx("div",{className:"space-y-3",children:b.map(I=>e.jsxs("div",{className:"flex items-center gap-3 p-3 border border-gray-200 dark:border-gray-700 rounded-lg",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${A(I.status)}`,children:e.jsx(Cr,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white truncate",children:I.name}),e.jsx("div",{className:"flex items-center gap-2 mt-1",children:e.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs ${A(I.status)}`,children:[v(I.status),k(I.status)]})})]}),e.jsxs("div",{className:"flex gap-1",children:[I.url&&e.jsx("button",{"aria-label":"Visualizar documento",className:"p-2 text-gray-400 hover:text-blue-600 transition-colors",children:e.jsx(lr,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>T(I.id),"aria-label":"Remover documento",className:"p-2 text-gray-400 hover:text-red-600 transition-colors",children:e.jsx(ti,{className:"w-4 h-4"})})]})]},I.id))})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6 mt-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Precisa de Ajuda?"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center",children:e.jsx(Cr,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Guia de Documentos"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Veja exemplos de documentos aceitos"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-green-100 dark:bg-green-900/30 rounded-lg flex items-center justify-center",children:e.jsx(Vr,{className:"w-4 h-4 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Suporte"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Entre em contato com nossa equipe"})]})]}),e.jsx("button",{className:"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Falar com Suporte"})]})]})]})]})]})},Is=[{id:"instant-trade",title:"Negociao Instantnea",description:"Compre e venda criptomoedas diretamente com a HOLD com execuo imediata",icon:ct,features:["Execuo em 0.3s","Sem slippage","Liquidez garantida","Taxa de 0.5%"],href:"/instant-trade",category:"trading"},{id:"p2p-trading",title:"Trading P2P",description:"Negocie diretamente com outros usurios com sistema de reputao",icon:sf,features:["Sistema de reputao","Escrow automtico","Mltiplos mtodos de pagamento","Chat integrado"],href:"/p2p",category:"trading"},{id:"digital-wallet",title:"Carteira Digital",description:"Armazene, envie e receba mltiplas criptomoedas com segurana",icon:Ht,features:["Suporte a 50+ moedas","Backup em nuvem","Autenticao 2FA","Cold storage"],href:"/wallet",category:"financial"},{id:"kyc-verification",title:"Verificao KYC",description:"Processo de verificao rpido e seguro para maior segurana",icon:dt,features:["Verificao em 24h","Dados criptografados","Conformidade regulatria","Suporte 24/7"],href:"/kyc",category:"financial"},{id:"portfolio-management",title:"Gesto de Portflio",description:"Monitore e analise seus investimentos com ferramentas profissionais",icon:Bn,features:["Dashboard completo","Relatrios detalhados","Alertas de preo","Anlise tcnica"],href:"/portfolio",category:"financial",comingSoon:!0},{id:"institutional",title:"Solues Institucionais",description:"Servios especializados para empresas e investidores institucionais",icon:Na,features:["API dedicada","Liquidez premium","Suporte prioritrio","Relatrios customizados"],href:"/institutional",category:"financial",comingSoon:!0},{id:"education",title:"Academia HOLD",description:"Aprenda sobre criptomoedas e trading com nossos cursos gratuitos",icon:_o,features:["Cursos gratuitos","Webinars ao vivo","Certificados","Comunidade ativa"],href:"/education",category:"education",comingSoon:!0},{id:"support",title:"Suporte 24/7",description:"Atendimento especializado disponvel 24 horas por dia",icon:Us,features:["Chat ao vivo","Suporte por email","Central de ajuda","Tempo de resposta < 1h"],href:"/support",category:"support"}],Ob=[{name:"Maria Silva",role:"Investidora",company:"Freelancer",content:"A HOLD revolucionou minha experincia com criptomoedas. A execuo instantnea  incrvel!",rating:5},{name:"Joo Santos",role:"Trader",company:"Crypto Investments",content:"O sistema P2P  muito seguro e confivel. J fiz centenas de trades sem problemas.",rating:5},{name:"Ana Costa",role:"CFO",company:"TechStart",content:"As solues institucionais da HOLD atendem perfeitamente nossas necessidades corporativas.",rating:5}],Pb=[{label:"Usurios Ativos",value:"50K+",icon:Vr},{label:"Volume Negociado",value:"$2.5B+",icon:ss},{label:"Pases Atendidos",value:"45+",icon:ls},{label:"Uptime",value:"99.9%",icon:Pe}],Db=()=>{const{t:n}=cr(),[r,a]=j.useState("all"),l=r==="all"?Is:Is.filter(h=>h.category===r),u=[{id:"all",name:"Todos os Servios",count:Is.length},{id:"trading",name:"Trading",count:Is.filter(h=>h.category==="trading").length},{id:"financial",name:"Financeiro",count:Is.filter(h=>h.category==="financial").length},{id:"education",name:"Educao",count:Is.filter(h=>h.category==="education").length},{id:"support",name:"Suporte",count:Is.filter(h=>h.category==="support").length}];return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx("div",{className:"bg-gradient-to-br from-blue-600 to-purple-700 text-white py-20",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:"Nossos Servios"}),e.jsx("p",{className:"text-xl md:text-2xl mb-8 text-blue-100 max-w-3xl mx-auto",children:"Solues completas em criptomoedas para pessoas fsicas e empresas"}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[e.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg px-6 py-3",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Pe,{className:"w-5 h-5 mr-2"}),e.jsx("span",{children:"100% Seguro"})]})}),e.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg px-6 py-3",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Et,{className:"w-5 h-5 mr-2"}),e.jsx("span",{children:"24/7 Disponvel"})]})}),e.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg px-6 py-3",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(os,{className:"w-5 h-5 mr-2"}),e.jsx("span",{children:"Premiado"})]})})]})]})})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 py-16",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:Pb.map((h,g)=>e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"h-16 w-16 rounded-full bg-blue-100 dark:bg-blue-900/20 flex items-center justify-center",children:e.jsx(h.icon,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"})})}),e.jsx("div",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:h.value}),e.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:h.label})]},g))})})}),e.jsx("div",{className:"py-20 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"Explore Nossos Servios"}),e.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 max-w-2xl mx-auto",children:"Descubra todas as solues que oferecemos para suas necessidades em criptomoedas"})]}),e.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-12",children:u.map(h=>e.jsxs("button",{onClick:()=>a(h.id),className:`px-6 py-3 rounded-lg font-medium transition-colors ${r===h.id?"bg-blue-600 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-blue-50 dark:hover:bg-gray-700"} border border-gray-200 dark:border-gray-700`,children:[h.name," (",h.count,")"]},h.id))}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:l.map(h=>e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg hover:shadow-xl transition-shadow duration-300 border border-gray-200 dark:border-gray-700 overflow-hidden group",children:e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsx("div",{className:"h-14 w-14 rounded-lg bg-blue-100 dark:bg-blue-900/20 flex items-center justify-center group-hover:scale-110 transition-transform",children:e.jsx(h.icon,{className:"w-7 h-7 text-blue-600 dark:text-blue-400"})}),h.comingSoon&&e.jsx("span",{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white text-xs px-3 py-1 rounded-full font-medium",children:"Em Breve"})]}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-3",children:h.title}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:h.description}),e.jsx("ul",{className:"space-y-2 mb-8",children:h.features.map((g,p)=>e.jsxs("li",{className:"flex items-center text-sm",children:[e.jsx(Pe,{className:"w-4 h-4 text-green-500 mr-3 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:g})]},p))}),h.comingSoon?e.jsx("button",{disabled:!0,className:"w-full py-3 px-4 bg-gray-100 dark:bg-gray-700 text-gray-400 rounded-lg font-medium cursor-not-allowed",children:"Em Breve"}):e.jsxs(St,{to:h.href,className:"w-full py-3 px-4 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors flex items-center justify-center group",children:["Acessar Servio",e.jsx(ka,{className:"w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform"})]})]})},h.id))})]})}),e.jsx("div",{className:"bg-gray-100 dark:bg-gray-800 py-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"Por que Escolher a HOLD?"}),e.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400",children:"Tecnologia de ponta, segurana mxima e atendimento excepcional"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"h-16 w-16 rounded-full bg-blue-100 dark:bg-blue-900/20 flex items-center justify-center mx-auto mb-6",children:e.jsx(Or,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-3",children:"Segurana Militar"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Criptografia de nvel militar e cold storage para mxima proteo dos seus ativos"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"h-16 w-16 rounded-full bg-green-100 dark:bg-green-900/20 flex items-center justify-center mx-auto mb-6",children:e.jsx(ct,{className:"w-8 h-8 text-green-600 dark:text-green-400"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-3",children:"Execuo Ultrarrpida"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Tecnologia de baixa latncia para execuo de trades em menos de 0.3 segundos"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"h-16 w-16 rounded-full bg-purple-100 dark:bg-purple-900/20 flex items-center justify-center mx-auto mb-6",children:e.jsx(Us,{className:"w-8 h-8 text-purple-600 dark:text-purple-400"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-3",children:"Suporte 24/7"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Equipe especializada disponvel 24 horas por dia em mltiplos canais"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"h-16 w-16 rounded-full bg-orange-100 dark:bg-orange-900/20 flex items-center justify-center mx-auto mb-6",children:e.jsx(ls,{className:"w-8 h-8 text-orange-600 dark:text-orange-400"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-3",children:"Cobertura Global"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Atendemos 45+ pases com conformidade regulatria local"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"h-16 w-16 rounded-full bg-red-100 dark:bg-red-900/20 flex items-center justify-center mx-auto mb-6",children:e.jsx(io,{className:"w-8 h-8 text-red-600 dark:text-red-400"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-3",children:"Taxas Competitivas"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"As menores taxas do mercado com transparncia total nos custos"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"h-16 w-16 rounded-full bg-indigo-100 dark:bg-indigo-900/20 flex items-center justify-center mx-auto mb-6",children:e.jsx(ei,{className:"w-8 h-8 text-indigo-600 dark:text-indigo-400"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-3",children:"Multi-Plataforma"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Acesse seus investimentos em qualquer dispositivo, a qualquer momento"})]})]})]})}),e.jsx("div",{className:"py-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"O que Nossos Clientes Dizem"}),e.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400",children:"Milhares de usurios confiam na HOLD para suas transaes"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:Ob.map((h,g)=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8 border border-gray-200 dark:border-gray-700",children:[e.jsx("div",{className:"flex items-center mb-4",children:[...Array(h.rating)].map((p,b)=>e.jsx(Qt,{className:"w-5 h-5 text-yellow-400 fill-current"},b))}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-6 italic",children:['"',h.content,'"']}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-12 w-12 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-lg",children:h.name.charAt(0)})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:h.name}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[h.role,"  ",h.company]})]})]})]},g))})]})}),e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 py-20",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Pronto para Comear?"}),e.jsx("p",{className:"text-xl text-blue-100 mb-8",children:"Junte-se a mais de 50.000 usurios que confiam na HOLD para suas transaes em criptomoedas"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx(St,{to:"/register",className:"bg-white text-blue-600 px-8 py-4 rounded-lg font-bold hover:bg-gray-100 transition-colors",children:"Criar Conta Gratuita"}),e.jsx(St,{to:"/contact",className:"border-2 border-white text-white px-8 py-4 rounded-lg font-bold hover:bg-white hover:text-blue-600 transition-colors",children:"Falar com Especialista"})]}),e.jsx("p",{className:"text-blue-100 text-sm mt-6",children:" Conta gratuita  Sem taxas de setup  Suporte 24/7"})]})})]})},Mb=()=>{const{t:n}=cr(),[r,a]=j.useState({name:"",email:"",subject:"",message:"",category:"general"}),[l,u]=j.useState(!1),[h,g]=j.useState(!1),p=v=>{const{name:k,value:A}=v.target;a(C=>({...C,[k]:A}))},b=async v=>{v.preventDefault(),u(!0),await new Promise(k=>setTimeout(k,2e3)),u(!1),g(!0)},f=[{icon:Wa,title:"Email",value:"contato@holdwallet.com",description:"Resposta em at 2 horas"},{icon:zr,title:"Telefone",value:"+55 (11) 9999-9999",description:"Seg-Sex, 9h s 18h"},{icon:qa,title:"Chat ao Vivo",value:"Disponvel agora",description:"24/7 - Suporte imediato"},{icon:Po,title:"Endereo",value:"So Paulo, SP - Brasil",description:"Escritrio principal"}],w=[{id:"general",title:"Dvidas Gerais",icon:qa,description:"Informaes sobre produtos e servios"},{id:"support",title:"Suporte Tcnico",icon:Us,description:"Ajuda com problemas tcnicos"},{id:"sales",title:"Vendas",icon:Na,description:"Solues empresariais e institucionais"},{id:"partnership",title:"Parcerias",icon:Vr,description:"Oportunidades de negcios"}];return h?e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-md mx-auto bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8 text-center",children:[e.jsx("div",{className:"h-16 w-16 rounded-full bg-green-100 dark:bg-green-900/20 flex items-center justify-center mx-auto mb-6",children:e.jsx(Pe,{className:"w-8 h-8 text-green-500"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Mensagem Enviada!"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Recebemos sua mensagem e entraremos em contato em breve."}),e.jsx("button",{onClick:()=>g(!1),className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3 px-4 rounded-lg font-medium transition-colors",children:"Enviar Nova Mensagem"})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx("div",{className:"bg-gradient-to-br from-blue-600 to-purple-700 text-white py-20",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:"Entre em Contato"}),e.jsx("p",{className:"text-xl md:text-2xl mb-8 text-blue-100 max-w-3xl mx-auto",children:"Nossa equipe especializada est aqui para ajudar voc"}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[e.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg px-6 py-3",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ct,{className:"w-5 h-5 mr-2"}),e.jsx("span",{children:"Resposta Rpida"})]})}),e.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg px-6 py-3",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Et,{className:"w-5 h-5 mr-2"}),e.jsx("span",{children:"Suporte 24/7"})]})}),e.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg px-6 py-3",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(dt,{className:"w-5 h-5 mr-2"}),e.jsx("span",{children:"100% Seguro"})]})})]})]})})}),e.jsx("div",{className:"py-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-20",children:f.map((v,k)=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 text-center hover:shadow-xl transition-shadow border border-gray-200 dark:border-gray-700",children:[e.jsx("div",{className:"h-14 w-14 rounded-lg bg-blue-100 dark:bg-blue-900/20 flex items-center justify-center mx-auto mb-4",children:e.jsx(v.icon,{className:"w-7 h-7 text-blue-600 dark:text-blue-400"})}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-2",children:v.title}),e.jsx("p",{className:"text-blue-600 dark:text-blue-400 font-medium mb-2",children:v.value}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:v.description})]},k))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8 border border-gray-200 dark:border-gray-700",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"Envie uma Mensagem"}),e.jsxs("form",{onSubmit:b,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Departamento"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:w.map(v=>e.jsxs("label",{className:`relative flex items-center p-3 rounded-lg border cursor-pointer transition-colors ${r.category===v.id?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[e.jsx("input",{type:"radio",name:"category",value:v.id,checked:r.category===v.id,onChange:p,className:"sr-only"}),e.jsx(v.icon,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mr-2"}),e.jsx("div",{children:e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:v.title})})]},v.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nome Completo"}),e.jsx("input",{type:"text",name:"name",value:r.name,onChange:p,required:!0,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Seu nome completo"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),e.jsx("input",{type:"email",name:"email",value:r.email,onChange:p,required:!0,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"seu@email.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Assunto"}),e.jsx("input",{type:"text",name:"subject",value:r.subject,onChange:p,required:!0,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Como podemos ajudar?"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Mensagem"}),e.jsx("textarea",{name:"message",value:r.message,onChange:p,required:!0,rows:4,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Descreva sua dvida ou necessidade..."})]}),e.jsx("button",{type:"submit",disabled:l,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white py-3 px-4 rounded-lg font-medium transition-colors flex items-center justify-center",children:l?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Enviando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Pr,{className:"w-5 h-5 mr-2"}),"Enviar Mensagem"]})})]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8 border border-gray-200 dark:border-gray-700",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:"Perguntas Frequentes"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Qual  o tempo de resposta?"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Respondemos em at 2 horas durante horrio comercial e at 24h nos finais de semana."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Como funciona o suporte tcnico?"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Oferecemos suporte 24/7 via chat, email e telefone para resolver qualquer problema."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Posso agendar uma reunio?"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Sim! Para solues empresariais, oferecemos reunies personalizadas."})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 rounded-xl p-8 border border-blue-200 dark:border-blue-800",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:"Por que Escolher a HOLD?"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx(Qt,{className:"w-5 h-5 text-yellow-500 mr-3 mt-1"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Atendimento Premium"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Equipe especializada e dedicada ao seu sucesso"})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx(dt,{className:"w-5 h-5 text-green-500 mr-3 mt-1"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Segurana Total"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Proteo mxima para seus dados e investimentos"})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx(ls,{className:"w-5 h-5 text-blue-500 mr-3 mt-1"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Presena Global"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Atendemos clientes em mais de 45 pases"})]})]})]})]})]})]})]})})]})},yn=[{id:"1",question:"Como criar uma conta na HOLD?",answer:'Para criar uma conta, clique em "Registrar" no topo da pgina, preencha suas informaes pessoais e siga as instrues de verificao por email.',category:"Conta",helpful:245,views:1520},{id:"2",question:"Quais so as taxas de trading?",answer:"Nossa taxa padro  de 0.5% por transao. Para trading P2P, no cobramos taxas adicionais alm das taxas de rede blockchain.",category:"Trading",helpful:189,views:892},{id:"3",question:"Como funciona a verificao KYC?",answer:"O processo KYC requer um documento de identidade vlido e comprovante de residncia. A verificao geralmente  concluda em 24 horas.",category:"Verificao",helpful:156,views:743},{id:"4",question:"Minha transao no apareceu na carteira, o que fazer?",answer:"Verifique o hash da transao no blockchain explorer. Transaes podem levar alguns minutos para serem confirmadas dependendo da rede.",category:"Carteira",helpful:134,views:456},{id:"5",question:"Como ativar autenticao de dois fatores (2FA)?",answer:"V em Configuraes > Segurana > Autenticao 2FA. Use um app como Google Authenticator ou Authy para configurar.",category:"Segurana",helpful:298,views:1876}],Bb=[{id:"account",title:"Conta e Registro",description:"Criao de conta, login e configuraes pessoais",icon:Vr,articles:15},{id:"trading",title:"Trading e Transaes",description:"Como fazer trades, P2P e negociao instantnea",icon:ct,articles:23},{id:"wallet",title:"Carteira Digital",description:"Depsitos, saques e gerenciamento de fundos",icon:Mr,articles:18},{id:"security",title:"Segurana",description:"Proteo da conta, 2FA e prticas seguras",icon:dt,articles:12},{id:"kyc",title:"Verificao KYC",description:"Processo de verificao de identidade",icon:Pe,articles:8},{id:"mobile",title:"App Mobile",description:"Funcionalidades e troubleshooting do app",icon:ei,articles:10}],mc=[{id:"#12345",status:"pending",priority:"medium",subject:"Problema com verificao KYC",lastUpdate:"2024-11-25",category:"Verificao"},{id:"#12344",status:"resolved",priority:"low",subject:"Dvida sobre taxas de trading",lastUpdate:"2024-11-24",category:"Trading"}],Lb=[{icon:qa,title:"Chat ao Vivo",description:"Resposta imediata para questes urgentes",availability:"Disponvel agora",responseTime:"Imediato",color:"blue"},{icon:Wa,title:"Email",description:"Para questes detalhadas e documentao",availability:"suporte@holdwallet.com",responseTime:"< 4 horas",color:"green"},{icon:zr,title:"Telefone",description:"Suporte por voz para casos complexos",availability:"+55 (11) 9999-9999",responseTime:"Seg-Sex, 9h-18h",color:"purple"},{icon:$s,title:"Video Call",description:"Demonstrao e suporte visual",availability:"Agendamento necessrio",responseTime:"Conforme agenda",color:"orange"}],Fb=()=>{const{t:n}=cr(),[r,a]=j.useState(""),[l,u]=j.useState("all"),[h,g]=j.useState(null),[p,b]=j.useState({}),[f,w]=j.useState("faq"),[v,k]=j.useState({subject:"",category:"general",priority:"medium",description:""}),A=yn.filter(R=>{const O=R.question.toLowerCase().includes(r.toLowerCase())||R.answer.toLowerCase().includes(r.toLowerCase()),P=l==="all"||R.category===l;return O&&P}),C=[{id:"all",name:"Todas",count:yn.length},...Array.from(new Set(yn.map(R=>R.category))).map(R=>({id:R,name:R,count:yn.filter(O=>O.category===R).length}))],T=(R,O)=>{b(P=>({...P,[R]:P[R]===O?null:O}))},I=R=>{R.preventDefault(),console.log("Ticket submitted:",v),k({subject:"",category:"general",priority:"medium",description:""})};return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx("div",{className:"bg-gradient-to-br from-blue-600 to-purple-600 text-white py-20",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("div",{className:"h-20 w-20 rounded-xl bg-white/10 backdrop-blur-sm flex items-center justify-center",children:e.jsx(Us,{className:"w-10 h-10 text-white"})})}),e.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:"Central de Ajuda"}),e.jsx("p",{className:"text-xl md:text-2xl mb-8 text-blue-100 max-w-3xl mx-auto",children:"Estamos aqui para ajudar voc a aproveitar ao mximo a plataforma HOLD"}),e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsxs("div",{className:"relative",children:[e.jsx(us,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-white/70 w-6 h-6"}),e.jsx("input",{type:"text",placeholder:"Como podemos ajudar voc hoje?",value:r,onChange:R=>a(R.target.value),className:"w-full pl-12 pr-6 py-4 bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl text-white placeholder-white/70 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent text-lg"})]})}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mt-8",children:[e.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg px-6 py-3",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Et,{className:"w-5 h-5 mr-2"}),e.jsx("span",{children:"Suporte 24/7"})]})}),e.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg px-6 py-3",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ct,{className:"w-5 h-5 mr-2"}),e.jsx("span",{children:"Resposta Rpida"})]})}),e.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg px-6 py-3",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Qt,{className:"w-5 h-5 mr-2"}),e.jsx("span",{children:"98% Satisfao"})]})})]})]})})}),e.jsx("div",{className:"py-16 bg-white dark:bg-gray-800",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"Formas de Contato"}),e.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400",children:"Escolha o canal que melhor atende sua necessidade"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:Lb.map((R,O)=>e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-xl p-6 text-center hover:shadow-lg transition-shadow border border-gray-200 dark:border-gray-600",children:[e.jsx("div",{className:`h-14 w-14 rounded-lg bg-${R.color}-100 dark:bg-${R.color}-900/20 flex items-center justify-center mx-auto mb-4`,children:e.jsx(R.icon,{className:`w-7 h-7 text-${R.color}-600 dark:text-${R.color}-400`})}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-2",children:R.title}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-3",children:R.description}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:`text-${R.color}-600 dark:text-${R.color}-400 font-medium`,children:R.availability}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:R.responseTime})]}),e.jsx("button",{className:`w-full mt-4 bg-${R.color}-600 text-white py-2 px-4 rounded-lg hover:bg-${R.color}-700 transition-colors`,children:"Iniciar Contato"})]},O))})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"flex",children:[{id:"faq",label:"FAQ",icon:Bf},{id:"contact",label:"Contato",icon:qa},{id:"tickets",label:"Tickets",icon:Cr},{id:"guides",label:"Guias",icon:Mn}].map(R=>e.jsxs("button",{onClick:()=>w(R.id),className:`flex items-center gap-2 px-6 py-4 font-medium transition-colors ${f===R.id?"border-b-2 border-blue-600 text-blue-600":"text-gray-600 dark:text-gray-300 hover:text-blue-600"}`,children:[e.jsx(R.icon,{className:"w-4 h-4"}),R.label]},R.id))})})}),e.jsx("div",{className:"py-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[f==="faq"&&e.jsxs("div",{children:[e.jsx("div",{className:"flex flex-wrap gap-3 mb-8",children:C.map(R=>e.jsxs("button",{onClick:()=>u(R.id),className:`px-4 py-2 rounded-lg font-medium transition-colors ${l===R.id?"bg-blue-600 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-blue-50 dark:hover:bg-gray-700 border border-gray-200 dark:border-gray-700"}`,children:[R.name," (",R.count,")"]},R.id))}),e.jsx("div",{className:"space-y-4",children:A.map(R=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:[e.jsxs("button",{onClick:()=>g(h===R.id?null:R.id),className:"w-full p-6 text-left flex items-center justify-between hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:R.question}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 dark:text-gray-400",children:[e.jsx("span",{className:"bg-blue-100 dark:bg-blue-900/20 text-blue-800 dark:text-blue-300 px-2 py-1 rounded",children:R.category}),e.jsxs("span",{children:[R.views," visualizaes"]}),e.jsxs("span",{children:[R.helpful," acham til"]})]})]}),e.jsx("div",{className:"ml-4",children:h===R.id?e.jsx(Rf,{className:"w-5 h-5 text-gray-400"}):e.jsx(Fs,{className:"w-5 h-5 text-gray-400"})})]}),h===R.id&&e.jsx("div",{className:"px-6 pb-6 border-t border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"pt-4",children:[e.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-6",children:R.answer}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Esta resposta foi til?"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>T(R.id,"up"),className:`p-2 rounded-lg transition-colors ${p[R.id]==="up"?"bg-green-100 dark:bg-green-900/20 text-green-600":"hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:e.jsx(Ld,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>T(R.id,"down"),className:`p-2 rounded-lg transition-colors ${p[R.id]==="down"?"bg-red-100 dark:bg-red-900/20 text-red-600":"hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:e.jsx(kp,{className:"w-4 h-4"})})]})]}),e.jsxs("button",{className:"flex items-center gap-2 text-blue-600 hover:text-blue-700 text-sm",children:[e.jsx(Fr,{className:"w-4 h-4"}),"Copiar link"]})]})]})})]},R.id))})]}),f==="contact"&&e.jsx("div",{children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"Abrir Ticket de Suporte"}),e.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400",children:"Descreva seu problema e nossa equipe entrar em contato"})]}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8 border border-gray-200 dark:border-gray-700",children:e.jsxs("form",{onSubmit:I,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Categoria"}),e.jsxs("select",{value:v.category,onChange:R=>k(O=>({...O,category:R.target.value})),title:"Selecionar categoria do ticket",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[e.jsx("option",{value:"general",children:"Geral"}),e.jsx("option",{value:"account",children:"Conta"}),e.jsx("option",{value:"trading",children:"Trading"}),e.jsx("option",{value:"wallet",children:"Carteira"}),e.jsx("option",{value:"security",children:"Segurana"}),e.jsx("option",{value:"kyc",children:"Verificao KYC"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Prioridade"}),e.jsxs("select",{value:v.priority,onChange:R=>k(O=>({...O,priority:R.target.value})),title:"Selecionar prioridade do ticket",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[e.jsx("option",{value:"low",children:"Baixa"}),e.jsx("option",{value:"medium",children:"Mdia"}),e.jsx("option",{value:"high",children:"Alta"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Assunto"}),e.jsx("input",{type:"text",value:v.subject,onChange:R=>k(O=>({...O,subject:R.target.value})),required:!0,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Descreva brevemente seu problema"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Descrio Detalhada"}),e.jsx("textarea",{value:v.description,onChange:R=>k(O=>({...O,description:R.target.value})),required:!0,rows:6,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Fornea o mximo de detalhes possvel sobre o problema..."})]}),e.jsxs("div",{className:"flex items-center justify-between pt-6 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Tempo de resposta estimado: 4-6 horas"}),e.jsxs("button",{type:"submit",className:"bg-blue-600 text-white px-8 py-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[e.jsx(Pr,{className:"w-4 h-4 mr-2"}),"Enviar Ticket"]})]})]})})]})}),f==="tickets"&&e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"Meus Tickets"}),e.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400",children:"Acompanhe o status dos seus chamados"})]}),e.jsx("div",{className:"space-y-4",children:mc.map(R=>e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("span",{className:"font-mono text-blue-600 dark:text-blue-400 font-medium",children:R.id}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${R.status==="open"?"bg-green-100 text-green-800":R.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:R.status==="open"?"Aberto":R.status==="pending"?"Pendente":"Resolvido"}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${R.priority==="high"?"bg-red-100 text-red-800":R.priority==="medium"?"bg-orange-100 text-orange-800":"bg-blue-100 text-blue-800"}`,children:R.priority==="high"?"Alta":R.priority==="medium"?"Mdia":"Baixa"})]}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:R.subject}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 dark:text-gray-400",children:[e.jsxs("span",{children:["Categoria: ",R.category]}),e.jsxs("span",{children:["ltima atualizao: ",new Date(R.lastUpdate).toLocaleDateString("pt-BR")]})]})]}),e.jsx("button",{className:"text-blue-600 hover:text-blue-700 font-medium",children:"Ver detalhes"})]})},R.id))}),mc.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Cr,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Nenhum ticket encontrado"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Voc no possui tickets de suporte abertos"}),e.jsx("button",{onClick:()=>w("contact"),className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Abrir Novo Ticket"})]})]}),f==="guides"&&e.jsxs("div",{children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"Guias e Tutoriais"}),e.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400",children:"Aprenda a usar todas as funcionalidades da HOLD"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:Bb.map(R=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700 hover:shadow-xl transition-shadow group",children:[e.jsx("div",{className:"h-14 w-14 rounded-lg bg-blue-100 dark:bg-blue-900/20 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:e.jsx(R.icon,{className:"w-7 h-7 text-blue-600 dark:text-blue-400"})}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-3",children:R.title}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:R.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[R.articles," artigos"]}),e.jsxs("button",{className:"flex items-center text-blue-600 hover:text-blue-700 font-medium",children:["Ver guias",e.jsx(Ro,{className:"w-4 h-4 ml-1"})]})]})]},R.id))})]})]})}),e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 py-20",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"No Encontrou o que Procurava?"}),e.jsx("p",{className:"text-xl text-blue-100 mb-8",children:"Nossa equipe est disponvel 24/7 para ajudar voc"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx("button",{className:"bg-white text-blue-600 px-8 py-4 rounded-lg font-bold hover:bg-gray-100 transition-colors",children:"Falar com Atendente"}),e.jsx(St,{to:"/contact",className:"border-2 border-white text-white px-8 py-4 rounded-lg font-bold hover:bg-white hover:text-blue-600 transition-colors",children:"Enviar Email"})]}),e.jsx("p",{className:"text-blue-100 text-sm mt-6",children:" Resposta garantida em 4 horas  Suporte especializado  Satisfao de 98%"})]})})]})},wn=[{symbol:"BTC",name:"Bitcoin",balance:.5432,value:35520.45,price:65420.5,change24h:2.45,allocation:45.2},{symbol:"ETH",name:"Ethereum",balance:12.8456,value:41644.19,price:3240.8,change24h:-1.2,allocation:30.8},{symbol:"USDT",name:"Tether",balance:15420.5,value:15420.5,price:1,change24h:.01,allocation:15.5},{symbol:"ADA",name:"Cardano",balance:8950.25,value:4654.13,price:.52,change24h:3.85,allocation:5.8},{symbol:"DOT",name:"Polkadot",balance:285.75,value:2121.17,price:7.42,change24h:-.85,allocation:2.7}],Ub=[{id:"1",type:"buy",asset:"BTC",amount:.1,value:6542.05,date:"2024-11-25",status:"completed"},{id:"2",type:"sell",asset:"ETH",amount:2.5,value:8102,date:"2024-11-24",status:"completed"},{id:"3",type:"transfer",asset:"USDT",amount:5e3,value:5e3,date:"2024-11-23",status:"pending"}],Vb=[{id:"1",type:"price",title:"Meta de Preo Atingida",message:"Bitcoin atingiu $65,000",timestamp:"2024-11-25T10:30:00Z",read:!1},{id:"2",type:"portfolio",title:"Rebalanceamento Sugerido",message:"Considere rebalancear seu portflio",timestamp:"2024-11-25T09:15:00Z",read:!1}],$b=()=>{const{t:n}=cr(),[r,a]=j.useState("overview"),[l,u]=j.useState("1m"),[h,g]=j.useState(!0),[p,b]=j.useState(Vb),f=wn.reduce((A,C)=>A+C.value,0),w=2.15,v=f*w/100,k=A=>{b(p.map(C=>C.id===A?{...C,read:!0}:C))};return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Gesto de Portflio"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Monitore e analise seus investimentos em tempo real"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("button",{onClick:()=>g(!h),className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[h?e.jsx($r,{className:"w-4 h-4"}):e.jsx(lr,{className:"w-4 h-4"}),h?"Ocultar":"Mostrar"]}),e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(Ws,{className:"w-4 h-4"}),"Atualizar"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Valor Total"}),e.jsx(ss,{className:"w-5 h-5 text-green-600"})]}),e.jsxs("div",{className:"space-y-2",children:[h?e.jsxs("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["$",f.toLocaleString()]}):e.jsx("div",{className:"text-2xl font-bold text-gray-400",children:""}),e.jsxs("div",{className:"flex items-center text-sm text-green-600",children:[e.jsx(ws,{className:"w-4 h-4 mr-1"}),Math.abs(w),"% ($",Math.abs(v).toLocaleString(),")"]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Melhor Ativo"}),e.jsx(er,{className:"w-5 h-5 text-green-600"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"ADA"}),e.jsx("div",{className:"text-sm text-green-600",children:"+3.85% hoje"})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Diversificao"}),e.jsx(jf,{className:"w-5 h-5 text-blue-600"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:[wn.length," Ativos"]}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Bem diversificado"})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Alertas"}),e.jsx(Dn,{className:"w-5 h-5 text-orange-600"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:p.filter(A=>!A.read).length}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"No lidos"})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 mb-8",children:[e.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:e.jsx("div",{className:"flex",children:[{id:"overview",label:"Viso Geral",icon:Bn},{id:"assets",label:"Ativos",icon:ss},{id:"transactions",label:"Transaes",icon:so},{id:"analytics",label:"Anlises",icon:io}].map(A=>e.jsxs("button",{onClick:()=>a(A.id),className:`flex items-center gap-2 px-6 py-4 font-medium transition-colors ${r===A.id?"bg-blue-50 dark:bg-blue-900/20 text-blue-600 border-b-2 border-blue-600":"text-gray-600 dark:text-gray-300 hover:text-blue-600"}`,children:[e.jsx(A.icon,{className:"w-4 h-4"}),A.label]},A.id))})}),e.jsxs("div",{className:"p-6",children:[r==="overview"&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Distribuio de Ativos"}),e.jsx("div",{className:"space-y-4",children:wn.map(A=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 dark:bg-blue-900/20 flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-bold text-blue-600 dark:text-blue-400",children:A.symbol})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:A.name}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[A.balance.toLocaleString()," ",A.symbol]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:h?`$${A.value.toLocaleString()}`:""}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[A.allocation,"%"]})]})]},A.symbol))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Alertas Recentes"}),e.jsx("div",{className:"space-y-3",children:p.slice(0,3).map(A=>e.jsx("div",{className:`p-4 rounded-lg border cursor-pointer transition-colors ${A.read?"border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-700":"border-blue-200 dark:border-blue-800 bg-blue-50 dark:bg-blue-900/20"}`,onClick:()=>k(A.id),children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:A.title}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:A.message})]}),!A.read&&e.jsx("div",{className:"h-2 w-2 bg-blue-600 rounded-full"})]})},A.id))})]})]}),r==="assets"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Meus Ativos"}),e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(Sr,{className:"w-4 h-4"}),"Adicionar Ativo"]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600 dark:text-gray-400",children:"Ativo"}),e.jsx("th",{className:"text-right py-3 px-4 font-medium text-gray-600 dark:text-gray-400",children:"Saldo"}),e.jsx("th",{className:"text-right py-3 px-4 font-medium text-gray-600 dark:text-gray-400",children:"Preo"}),e.jsx("th",{className:"text-right py-3 px-4 font-medium text-gray-600 dark:text-gray-400",children:"24h"}),e.jsx("th",{className:"text-right py-3 px-4 font-medium text-gray-600 dark:text-gray-400",children:"Valor"})]})}),e.jsx("tbody",{children:wn.map(A=>e.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700",children:[e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-100 dark:bg-blue-900/20 flex items-center justify-center",children:e.jsx("span",{className:"text-xs font-bold text-blue-600 dark:text-blue-400",children:A.symbol})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:A.symbol}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:A.name})]})]})}),e.jsx("td",{className:"py-4 px-4 text-right",children:e.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:A.balance.toLocaleString()})}),e.jsx("td",{className:"py-4 px-4 text-right",children:e.jsxs("div",{className:"font-medium text-gray-900 dark:text-white",children:["$",A.price.toLocaleString()]})}),e.jsx("td",{className:"py-4 px-4 text-right",children:e.jsxs("div",{className:`font-medium ${A.change24h>=0?"text-green-600":"text-red-600"}`,children:[A.change24h>=0?"+":"",A.change24h,"%"]})}),e.jsx("td",{className:"py-4 px-4 text-right",children:e.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:h?`$${A.value.toLocaleString()}`:""})})]},A.symbol))})]})})]}),r==="transactions"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Histrico de Transaes"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:[e.jsx(Jn,{className:"w-4 h-4"}),"Filtrar"]}),e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(ds,{className:"w-4 h-4"}),"Exportar"]})]})]}),e.jsx("div",{className:"space-y-3",children:Ub.map(A=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:`h-10 w-10 rounded-full flex items-center justify-center ${A.type==="buy"?"bg-green-100 dark:bg-green-900/20":A.type==="sell"?"bg-red-100 dark:bg-red-900/20":"bg-blue-100 dark:bg-blue-900/20"}`,children:A.type==="buy"?e.jsx(Sr,{className:"w-5 h-5 text-green-600"}):A.type==="sell"?e.jsx(Ox,{className:"w-5 h-5 text-red-600"}):e.jsx(ws,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium text-gray-900 dark:text-white",children:[A.type==="buy"?"Compra":A.type==="sell"?"Venda":"Transferncia"," ",A.asset]}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[new Date(A.date).toLocaleDateString(),"  ",A.amount," ",A.asset]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-medium text-gray-900 dark:text-white",children:["$",A.value.toLocaleString()]}),e.jsx("div",{className:`text-sm ${A.status==="completed"?"text-green-600":A.status==="pending"?"text-yellow-600":"text-red-600"}`,children:A.status==="completed"?"Concludo":A.status==="pending"?"Pendente":"Falhou"})]})]},A.id))})]}),r==="analytics"&&e.jsx("div",{className:"space-y-8",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"h-16 w-16 rounded-full bg-blue-100 dark:bg-blue-900/20 flex items-center justify-center mx-auto mb-4",children:e.jsx(Bn,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Anlises Avanadas"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Ferramentas avanadas de anlise em desenvolvimento"}),e.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white text-sm px-4 py-2 rounded-full inline-block mb-4",children:"Em Breve"}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Anlise de correlao, backtesting, e mtricas avanadas"})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 rounded-xl p-6 border border-blue-200 dark:border-blue-800",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-semibold text-blue-900 dark:text-blue-100",children:"Rebalancear Portflio"}),e.jsx(io,{className:"w-6 h-6 text-blue-600"})]}),e.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-200 mb-4",children:"Otimize a distribuio dos seus ativos"}),e.jsx("button",{className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"Analisar Portflio"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 rounded-xl p-6 border border-green-200 dark:border-green-800",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-semibold text-green-900 dark:text-green-100",children:"Configurar Alertas"}),e.jsx(Dn,{className:"w-6 h-6 text-green-600"})]}),e.jsx("p",{className:"text-sm text-green-700 dark:text-green-200 mb-4",children:"Receba notificaes de preos e eventos"}),e.jsx("button",{className:"w-full bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors",children:"Gerenciar Alertas"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 rounded-xl p-6 border border-purple-200 dark:border-purple-800",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-semibold text-purple-900 dark:text-purple-100",children:"Relatrio Completo"}),e.jsx(ds,{className:"w-6 h-6 text-purple-600"})]}),e.jsx("p",{className:"text-sm text-purple-700 dark:text-purple-200 mb-4",children:"Gere relatrios detalhados para anlise"}),e.jsx("button",{className:"w-full bg-purple-600 text-white py-2 px-4 rounded-lg hover:bg-purple-700 transition-colors",children:"Gerar Relatrio"})]})]})]})})},zb=[{id:"api-trading",title:"API de Trading Institucional",description:"Integre nossa infraestrutura de trading diretamente em seus sistemas",icon:Id,features:["REST e WebSocket APIs","Latncia ultra-baixa (<1ms)","Rate limiting personalizado","Sandbox para testes","Documentao completa"],benefits:["Integrao rpida e fcil","Execuo de alta frequncia","Controle total sobre trades","Monitoramento em tempo real"]},{id:"liquidity",title:"Liquidez Premium",description:"Acesso a pools de liquidez exclusivos para grandes volumes",icon:Io,features:["Ordem mnima $100K","Spread reduzido at 50%","Execuo garantida","Market making dedicado","Pricing dinmico"],benefits:["Melhor preo garantido","Execuo para grandes volumes","Reduo de slippage","Acesso 24/7"]},{id:"custody",title:"Custdia Institucional",description:"Armazenamento seguro e segurado para grandes volumes",icon:Or,features:["Cold storage 95%+","Seguro at $500M","Multi-signature","Auditoria regular","Compliance total"],benefits:["Segurana mxima","Conformidade regulatria","Gesto de riscos","Transparncia total"]},{id:"reporting",title:"Relatrios Customizados",description:"Anlises e relatrios sob medida para sua organizao",icon:Cr,features:["Dashboards personalizados","APIs de relatrios","Exportao automtica","Mtricas customizadas","Alertas inteligentes"],benefits:["Visibilidade completa","Automao de processos","Compliance facilitado","Tomada de deciso gil"]}],Hb=[{company:"Global Investment Partners",industry:"Gesto de Ativos",challenge:"Necessidade de executar trades de alto volume com mnimo impacto no mercado",solution:"Implementao da API de Trading + Liquidez Premium",results:["Reduo de 40% no custo de transao","Melhoria de 60% na velocidade de execuo","Zero downtime em 12 meses"]},{company:"TechCorp Financial",industry:"Tecnologia Financeira",challenge:"Integrao de servios cripto em plataforma existente",solution:"API completa + Custdia Institucional",results:["Implementao em 30 dias","Aumento de 200% na base de usurios","Reduo de 70% em custos operacionais"]},{company:"Hedge Fund Alpha",industry:"Hedge Fund",challenge:"Necessidade de relatrios customizados para compliance",solution:"Sistema de Relatrios + Suporte Dedicado",results:["Automao de 90% dos relatrios","Reduo de 50% no tempo de compliance","Melhoria na transparncia para investidores"]}],Wb=[{label:"Volume Institucional",value:"$50B+",description:"Volume anual processado"},{label:"Clientes Enterprise",value:"500+",description:"Empresas confiam na HOLD"},{label:"Uptime SLA",value:"99.99%",description:"Garantia de disponibilidade"},{label:"Compliance",value:"100%",description:"Conformidade regulatria"}],qb=()=>{const{t:n}=cr(),[r,a]=j.useState(null),[l,u]=j.useState("solutions");return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx("div",{className:"bg-gradient-to-br from-gray-900 to-blue-900 text-white py-20",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("div",{className:"h-20 w-20 rounded-xl bg-white/10 backdrop-blur-sm flex items-center justify-center",children:e.jsx(Na,{className:"w-10 h-10 text-white"})})}),e.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:"Solues Institucionais"}),e.jsx("p",{className:"text-xl md:text-2xl mb-8 text-blue-100 max-w-3xl mx-auto",children:"Infraestrutura de nvel empresarial para grandes volumes e necessidades complexas"}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mb-8",children:[e.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg px-6 py-3",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(dt,{className:"w-5 h-5 mr-2"}),e.jsx("span",{children:"Conformidade Total"})]})}),e.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg px-6 py-3",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ct,{className:"w-5 h-5 mr-2"}),e.jsx("span",{children:"Baixa Latncia"})]})}),e.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg px-6 py-3",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Us,{className:"w-5 h-5 mr-2"}),e.jsx("span",{children:"Suporte Dedicado"})]})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx("button",{className:"bg-white text-gray-900 px-8 py-4 rounded-lg font-bold hover:bg-gray-100 transition-colors",children:"Agendar Demo"}),e.jsx("button",{className:"border-2 border-white text-white px-8 py-4 rounded-lg font-bold hover:bg-white hover:text-gray-900 transition-colors",children:"Falar com Especialista"})]})]})})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 py-16",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:Wb.map((h,g)=>e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:h.value}),e.jsx("div",{className:"font-medium text-gray-900 dark:text-white mb-1",children:h.label}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:h.description})]},g))})})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"flex",children:[{id:"solutions",label:"Solues",icon:pf},{id:"features",label:"Recursos",icon:hs},{id:"pricing",label:"Pricing",icon:ss},{id:"contact",label:"Contato",icon:zr}].map(h=>e.jsxs("button",{onClick:()=>u(h.id),className:`flex items-center gap-2 px-6 py-4 font-medium transition-colors ${l===h.id?"border-b-2 border-blue-600 text-blue-600":"text-gray-600 dark:text-gray-300 hover:text-blue-600"}`,children:[e.jsx(h.icon,{className:"w-4 h-4"}),h.label]},h.id))})})}),e.jsx("div",{className:"py-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l==="solutions"&&e.jsxs("div",{children:[e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-16",children:zb.map(h=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8 border border-gray-200 dark:border-gray-700 hover:shadow-xl transition-shadow cursor-pointer",onClick:()=>a(r===h.id?null:h.id),children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("div",{className:"h-12 w-12 rounded-lg bg-blue-100 dark:bg-blue-900/20 flex items-center justify-center",children:e.jsx(h.icon,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),e.jsx("span",{className:"text-sm font-medium text-blue-600 cursor-pointer",children:r===h.id?"Ver menos":"Ver mais"})]}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-3",children:h.title}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:h.description}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:"Recursos:"}),e.jsxs("ul",{className:"space-y-2",children:[h.features.slice(0,3).map((g,p)=>e.jsxs("li",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(Pe,{className:"w-4 h-4 text-green-500 mr-2 flex-shrink-0"}),g]},p)),h.features.length>3&&e.jsxs("li",{className:"text-sm text-blue-600",children:["+",h.features.length-3," recursos adicionais"]})]})]}),r===h.id&&e.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:"Todos os Recursos:"}),e.jsx("ul",{className:"space-y-2",children:h.features.map((g,p)=>e.jsxs("li",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(Pe,{className:"w-4 h-4 text-green-500 mr-2 flex-shrink-0"}),g]},p))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:"Benefcios:"}),e.jsx("ul",{className:"space-y-2",children:h.benefits.map((g,p)=>e.jsxs("li",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(Qt,{className:"w-4 h-4 text-yellow-500 mr-2 flex-shrink-0"}),g]},p))})]})]}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"Solicitar Informaes"})})]})]},h.id))}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"Casos de Sucesso"}),e.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400",children:"Veja como empresas transformaram suas operaes com a HOLD"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:Hb.map((h,g)=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-1",children:h.company}),e.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400",children:h.industry})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Desafio:"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:h.challenge})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Soluo:"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:h.solution})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Resultados:"}),e.jsx("ul",{className:"space-y-1",children:h.results.map((p,b)=>e.jsxs("li",{className:"text-sm text-green-600 dark:text-green-400 flex items-center",children:[e.jsx(er,{className:"w-3 h-3 mr-2"}),p]},b))})]})]})]},g))})]})]}),l==="features"&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[{icon:ct,title:"Performance Extrema",description:"Latncia ultra-baixa e throughput alto para trading de alta frequncia",features:["<1ms latncia","1M+ TPS","Auto-scaling","Global CDN"]},{icon:dt,title:"Segurana Enterprise",description:"Proteo de nvel militar com compliance total",features:["ISO 27001","SOC 2 Type II","PCI DSS","Pen testing"]},{icon:ls,title:"Cobertura Global",description:"Presena em mltiplas jurisdies com compliance local",features:["45+ pases","Multi-jurisdio","Compliance local","24/7 support"]},{icon:Io,title:"Liquidez Profunda",description:"Acesso a pools de liquidez institucionais exclusivos",features:["$10B+ liquidez","Spread tight","Market making","Dark pools"]},{icon:Id,title:"API Completa",description:"Conjunto completo de APIs para integrao total",features:["REST & WebSocket","GraphQL","Rate limiting","Sandbox"]},{icon:Us,title:"Suporte Premium",description:"Equipe dedicada disponvel 24/7 para suporte tcnico",features:["Dedicated CSM","SLA garantido","Phone support","Priority queue"]}].map((h,g)=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[e.jsx("div",{className:"h-12 w-12 rounded-lg bg-blue-100 dark:bg-blue-900/20 flex items-center justify-center mb-4",children:e.jsx(h.icon,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-3",children:h.title}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:h.description}),e.jsx("ul",{className:"space-y-2",children:h.features.map((p,b)=>e.jsxs("li",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(Pe,{className:"w-4 h-4 text-green-500 mr-2 flex-shrink-0"}),p]},b))})]},g))}),l==="pricing"&&e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"Pricing Personalizado"}),e.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400",children:"Solues sob medida para suas necessidades especficas"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8 border border-gray-200 dark:border-gray-700 text-center",children:[e.jsx("div",{className:"h-16 w-16 rounded-full bg-blue-100 dark:bg-blue-900/20 flex items-center justify-center mx-auto mb-6",children:e.jsx(ss,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Pricing Empresarial"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8 max-w-2xl mx-auto",children:"Nosso time comercial trabalhar com voc para criar um plano personalizado baseado no seu volume, necessidades tcnicas e requisitos especficos."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[e.jsxs("div",{className:"text-left",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Fatores de Pricing:"}),e.jsx("ul",{className:"space-y-2",children:["Volume mensal de trading","Nmero de conexes API","Nvel de suporte requerido","Recursos adicionais","Customizaes especficas"].map((h,g)=>e.jsxs("li",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(Pe,{className:"w-4 h-4 text-green-500 mr-2 flex-shrink-0"}),h]},g))})]}),e.jsxs("div",{className:"text-left",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Includo em Todos os Planos:"}),e.jsx("ul",{className:"space-y-2",children:["Setup e onboarding gratuito","Suporte tcnico dedicado","SLA de 99.99% uptime","Compliance e auditoria","Relatrios customizados"].map((h,g)=>e.jsxs("li",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(Qt,{className:"w-4 h-4 text-yellow-500 mr-2 flex-shrink-0"}),h]},g))})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx("button",{className:"bg-blue-600 text-white px-8 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Solicitar Proposta"}),e.jsx("button",{className:"border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 px-8 py-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Agendar Demo"})]})]})]}),l==="contact"&&e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"Entre em Contato"}),e.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400",children:"Nossa equipe especializada est pronta para ajudar sua empresa"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700 text-center",children:[e.jsx("div",{className:"h-12 w-12 rounded-lg bg-blue-100 dark:bg-blue-900/20 flex items-center justify-center mx-auto mb-4",children:e.jsx(zr,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-2",children:"Telefone"}),e.jsx("p",{className:"text-blue-600 dark:text-blue-400 font-medium mb-2",children:"+55 (11) 9999-9999"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Seg-Sex, 8h s 20h"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700 text-center",children:[e.jsx("div",{className:"h-12 w-12 rounded-lg bg-green-100 dark:bg-green-900/20 flex items-center justify-center mx-auto mb-4",children:e.jsx(Wa,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-2",children:"Email"}),e.jsx("p",{className:"text-green-600 dark:text-green-400 font-medium mb-2",children:"enterprise@holdwallet.com"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Resposta em 4 horas"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700 text-center",children:[e.jsx("div",{className:"h-12 w-12 rounded-lg bg-purple-100 dark:bg-purple-900/20 flex items-center justify-center mx-auto mb-4",children:e.jsx(pa,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-2",children:"Agendar Reunio"}),e.jsx("button",{className:"text-purple-600 dark:text-purple-400 font-medium mb-2 hover:underline",children:"Calendly"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Demo personalizada"})]})]})]})]})}),e.jsx("div",{className:"bg-gradient-to-r from-gray-900 to-blue-900 py-20",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Pronto para Escalar?"}),e.jsx("p",{className:"text-xl text-blue-100 mb-8",children:"Junte-se a centenas de instituies que confiam na HOLD para suas operaes"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx("button",{className:"bg-white text-gray-900 px-8 py-4 rounded-lg font-bold hover:bg-gray-100 transition-colors",children:"Comear Agora"}),e.jsx(St,{to:"/contact",className:"border-2 border-white text-white px-8 py-4 rounded-lg font-bold hover:bg-white hover:text-gray-900 transition-colors",children:"Falar com Especialista"})]}),e.jsx("p",{className:"text-blue-100 text-sm mt-6",children:" Setup gratuito  Suporte dedicado  SLA garantido"})]})})]})},ia=[{id:"1",title:"Introduo s Criptomoedas",description:"Aprenda os fundamentos das criptomoedas, blockchain e como comear a investir",level:"Iniciante",duration:"4 horas",modules:8,students:12543,rating:4.8,price:0,isFree:!0,category:"Bsico",instructor:"Prof. Carlos Silva"},{id:"2",title:"Trading Tcnico Avanado",description:"Domine anlise tcnica, indicadores e estratgias de trading profissional",level:"Avanado",duration:"12 horas",modules:15,students:3421,rating:4.9,price:299,isFree:!1,category:"Trading",instructor:"Ana Rodrigues"},{id:"3",title:"DeFi e Yield Farming",description:"Explore o mundo das finanas descentralizadas e oportunidades de yield",level:"Intermedirio",duration:"8 horas",modules:12,students:5678,rating:4.7,price:199,isFree:!1,category:"DeFi",instructor:"Joo Santos"},{id:"4",title:"Segurana em Crypto",description:"Aprenda a proteger seus investimentos e evitar golpes comuns",level:"Intermedirio",duration:"6 horas",modules:10,students:8934,rating:4.9,price:0,isFree:!0,category:"Segurana",instructor:"Maria Oliveira"}],Gb=[{id:"1",title:"Bitcoin em 2024: Perspectivas e Anlises",description:"Discusso sobre o futuro do Bitcoin e tendncias de mercado",date:"2024-12-01T19:00:00Z",duration:"1h 30min",speaker:"Dr. Fernando Costa",attendees:2543,isLive:!1,topics:["Bitcoin","Anlise tcnica","Previses"]},{id:"2",title:"Estratgias de Portfolio Crypto",description:"Como diversificar e gerenciar um portflio de criptomoedas",date:"2024-12-05T18:00:00Z",duration:"1h",speaker:"Patricia Mendes",attendees:1876,isLive:!0,topics:["Portfolio","Diversificao","Gesto de risco"]}],Xb=[{id:"1",title:"O Que So Smart Contracts e Como Funcionam?",excerpt:"Entenda os contratos inteligentes e seu papel no ecossistema blockchain",category:"Tecnologia",readTime:"5 min",author:"Tech Team",publishDate:"2024-11-20",views:15420,likes:234},{id:"2",title:"5 Erros Comuns no Trading de Criptomoedas",excerpt:"Evite os principais erros que custam caro aos traders iniciantes",category:"Trading",readTime:"7 min",author:"Ana Rodrigues",publishDate:"2024-11-18",views:9876,likes:187},{id:"3",title:"Guia Completo de Staking: Como Gerar Renda Passiva",excerpt:"Aprenda a fazer staking e gerar rendimentos com suas criptomoedas",category:"Investimento",readTime:"10 min",author:"Joo Santos",publishDate:"2024-11-15",views:12340,likes:298}],Qb=[{label:"Estudantes Ativos",value:"50K+",icon:Vr},{label:"Cursos Disponveis",value:"200+",icon:Mn},{label:"Horas de Contedo",value:"1.5K+",icon:Td},{label:"Certificados Emitidos",value:"25K+",icon:os}],Kb=()=>{const{t:n}=cr(),[r,a]=j.useState("courses"),[l,u]=j.useState("all"),[h,g]=j.useState(""),p=[{id:"all",name:"Todos",count:ia.length},{id:"Bsico",name:"Bsico",count:ia.filter(f=>f.category==="Bsico").length},{id:"Trading",name:"Trading",count:ia.filter(f=>f.category==="Trading").length},{id:"DeFi",name:"DeFi",count:ia.filter(f=>f.category==="DeFi").length},{id:"Segurana",name:"Segurana",count:ia.filter(f=>f.category==="Segurana").length}],b=ia.filter(f=>{const w=l==="all"||f.category===l,v=f.title.toLowerCase().includes(h.toLowerCase())||f.description.toLowerCase().includes(h.toLowerCase());return w&&v});return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx("div",{className:"bg-gradient-to-br from-purple-600 to-blue-600 text-white py-20",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("div",{className:"h-20 w-20 rounded-xl bg-white/10 backdrop-blur-sm flex items-center justify-center",children:e.jsx(_o,{className:"w-10 h-10 text-white"})})}),e.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:"Academia HOLD"}),e.jsx("p",{className:"text-xl md:text-2xl mb-8 text-purple-100 max-w-3xl mx-auto",children:"Aprenda sobre criptomoedas e trading com nossos cursos, webinars e contedos exclusivos"}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mb-8",children:[e.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg px-6 py-3",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Mn,{className:"w-5 h-5 mr-2"}),e.jsx("span",{children:"Cursos Gratuitos"})]})}),e.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg px-6 py-3",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(os,{className:"w-5 h-5 mr-2"}),e.jsx("span",{children:"Certificados"})]})}),e.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg px-6 py-3",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Vr,{className:"w-5 h-5 mr-2"}),e.jsx("span",{children:"Comunidade Ativa"})]})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx("button",{className:"bg-white text-purple-600 px-8 py-4 rounded-lg font-bold hover:bg-gray-100 transition-colors",children:"Comear Aprendendo"}),e.jsx("button",{className:"border-2 border-white text-white px-8 py-4 rounded-lg font-bold hover:bg-white hover:text-purple-600 transition-colors",children:"Ver Cursos"})]})]})})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 py-16",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:Qb.map((f,w)=>e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"h-16 w-16 rounded-full bg-purple-100 dark:bg-purple-900/20 flex items-center justify-center",children:e.jsx(f.icon,{className:"w-8 h-8 text-purple-600 dark:text-purple-400"})})}),e.jsx("div",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:f.value}),e.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:f.label})]},w))})})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"flex",children:[{id:"courses",label:"Cursos",icon:Mn},{id:"webinars",label:"Webinars",icon:$s},{id:"articles",label:"Artigos",icon:Cr},{id:"certificates",label:"Certificados",icon:os}].map(f=>e.jsxs("button",{onClick:()=>a(f.id),className:`flex items-center gap-2 px-6 py-4 font-medium transition-colors ${r===f.id?"border-b-2 border-purple-600 text-purple-600":"text-gray-600 dark:text-gray-300 hover:text-purple-600"}`,children:[e.jsx(f.icon,{className:"w-4 h-4"}),f.label]},f.id))})})}),e.jsx("div",{className:"py-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r==="courses"&&e.jsxs("div",{children:[e.jsxs("div",{className:"mb-12",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(us,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"Buscar cursos...",value:h,onChange:f=>g(f.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("button",{className:"flex items-center gap-2 px-4 py-3 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:[e.jsx(Jn,{className:"w-4 h-4"}),"Filtros"]})})]}),e.jsx("div",{className:"flex flex-wrap gap-3",children:p.map(f=>e.jsxs("button",{onClick:()=>u(f.id),className:`px-4 py-2 rounded-lg font-medium transition-colors ${l===f.id?"bg-purple-600 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-purple-50 dark:hover:bg-gray-700 border border-gray-200 dark:border-gray-700"}`,children:[f.name," (",f.count,")"]},f.id))})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:b.map(f=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden border border-gray-200 dark:border-gray-700 hover:shadow-xl transition-shadow group",children:[e.jsxs("div",{className:"h-48 bg-gradient-to-br from-purple-400 to-blue-500 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-black/20 group-hover:bg-black/30 transition-colors"}),e.jsx("div",{className:"absolute top-4 left-4",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${f.isFree?"bg-green-500 text-white":"bg-yellow-500 text-black"}`,children:f.isFree?"Gratuito":`R$ ${f.price}`})}),e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${f.level==="Iniciante"?"bg-green-100 text-green-800":f.level==="Intermedirio"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:f.level})}),e.jsx("div",{className:"absolute bottom-4 left-4 text-white",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Td,{className:"w-5 h-5"}),e.jsxs("span",{className:"font-medium",children:[f.modules," mdulos"]})]})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("span",{className:"text-sm font-medium text-purple-600 dark:text-purple-400",children:f.category}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(Et,{className:"w-4 h-4 mr-1"}),f.duration]})]}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-2",children:f.title}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-4",children:f.description}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"flex items-center",children:e.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(Vr,{className:"w-4 h-4 mr-1"}),f.students.toLocaleString()," alunos"]})}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Qt,{className:"w-4 h-4 text-yellow-400 fill-current"}),e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white ml-1",children:f.rating})]})]}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:["Instrutor: ",f.instructor]}),e.jsxs("button",{className:"w-full bg-purple-600 text-white py-3 px-4 rounded-lg hover:bg-purple-700 transition-colors flex items-center justify-center",children:[f.isFree?"Comear Agora":"Ver Detalhes",e.jsx(ka,{className:"w-4 h-4 ml-2"})]})]})]},f.id))})]}),r==="webinars"&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"Webinars e Eventos"}),e.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400",children:"Participe de discusses ao vivo com especialistas do mercado"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:Gb.map(f=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.isLive?e.jsxs("span",{className:"bg-red-500 text-white text-xs px-2 py-1 rounded-full flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-white rounded-full mr-1 animate-pulse"}),"AO VIVO"]}):e.jsx("span",{className:"bg-blue-500 text-white text-xs px-2 py-1 rounded-full",children:"AGENDADO"}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:f.duration})]}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:f.title}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:f.description})]}),e.jsx($s,{className:"w-8 h-8 text-purple-600 dark:text-purple-400"})]}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(pa,{className:"w-4 h-4 mr-2"}),new Date(f.date).toLocaleDateString("pt-BR",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(Vr,{className:"w-4 h-4 mr-2"}),f.attendees," participantes"]}),e.jsxs("div",{className:"text-sm text-gray-900 dark:text-white font-medium",children:["Palestrante: ",f.speaker]})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:f.topics.map((w,v)=>e.jsx("span",{className:"bg-purple-100 dark:bg-purple-900/20 text-purple-800 dark:text-purple-300 text-xs px-2 py-1 rounded",children:w},v))}),e.jsx("button",{className:"w-full bg-purple-600 text-white py-3 px-4 rounded-lg hover:bg-purple-700 transition-colors",children:f.isLive?"Participar Agora":"Inscrever-se"})]},f.id))})]}),r==="articles"&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"Artigos e Tutoriais"}),e.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400",children:"Contedo atualizado sobre o mercado cripto e estratgias"})]}),e.jsx("div",{className:"space-y-6",children:Xb.map(f=>e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700 hover:shadow-xl transition-shadow",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("span",{className:"bg-purple-100 dark:bg-purple-900/20 text-purple-800 dark:text-purple-300 text-sm px-3 py-1 rounded-full font-medium",children:f.category}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:f.readTime})]}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2 hover:text-purple-600 cursor-pointer",children:f.title}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:f.excerpt}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[e.jsxs("span",{children:["Por ",f.author]}),e.jsx("span",{className:"mx-2",children:""}),e.jsx("span",{children:new Date(f.publishDate).toLocaleDateString("pt-BR")})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 dark:text-gray-400",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(lr,{className:"w-4 h-4 mr-1"}),f.views.toLocaleString()]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(hx,{className:"w-4 h-4 mr-1"}),f.likes]})]})]})]}),e.jsxs("div",{className:"ml-6 flex items-center gap-2",children:[e.jsx("button",{className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Salvar artigo",children:e.jsx(ff,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),e.jsx("button",{className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Compartilhar artigo",children:e.jsx(ip,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]})]})},f.id))})]}),r==="certificates"&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"h-24 w-24 rounded-full bg-purple-100 dark:bg-purple-900/20 flex items-center justify-center mx-auto mb-6",children:e.jsx(os,{className:"w-12 h-12 text-purple-600 dark:text-purple-400"})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Certificados Profissionais"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8 max-w-2xl mx-auto",children:"Complete nossos cursos e receba certificados reconhecidos no mercado. Comprove seus conhecimentos em blockchain e criptomoedas."}),e.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white text-sm px-4 py-2 rounded-full inline-block mb-6",children:"Em Desenvolvimento"}),e.jsx("div",{className:"max-w-md mx-auto",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Funcionalidades Planejadas:"}),e.jsxs("ul",{className:"text-left space-y-2 text-sm text-gray-600 dark:text-gray-400",children:[e.jsxs("li",{className:"flex items-center",children:[e.jsx(Pe,{className:"w-4 h-4 text-green-500 mr-2"}),"Certificados verificveis blockchain"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx(Pe,{className:"w-4 h-4 text-green-500 mr-2"}),"Portfolio de certificaes"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx(Pe,{className:"w-4 h-4 text-green-500 mr-2"}),"Integrao com LinkedIn"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx(Pe,{className:"w-4 h-4 text-green-500 mr-2"}),"Nveis de especializao"]})]})]})})]})]})}),e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 py-20",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Comece Sua Jornada de Aprendizado"}),e.jsx("p",{className:"text-xl text-purple-100 mb-8",children:"Junte-se a milhares de estudantes que j transformaram seus conhecimentos em cripto"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx("button",{className:"bg-white text-purple-600 px-8 py-4 rounded-lg font-bold hover:bg-gray-100 transition-colors",children:"Explorar Cursos Gratuitos"}),e.jsx(St,{to:"/register",className:"border-2 border-white text-white px-8 py-4 rounded-lg font-bold hover:bg-white hover:text-purple-600 transition-colors",children:"Criar Conta"})]}),e.jsx("p",{className:"text-purple-100 text-sm mt-6",children:" Cursos gratuitos  Certificados  Comunidade ativa  Suporte especializado"})]})})]})},Yb=({message:n,type:r="info",duration:a=5e3,onClose:l})=>{j.useEffect(()=>{const g=setTimeout(()=>{l()},a);return()=>clearTimeout(g)},[a,l]);const u=()=>{switch(r){case"success":return e.jsx(Pe,{className:"w-5 h-5 text-green-500"});case"error":return e.jsx(Ns,{className:"w-5 h-5 text-red-500"});case"warning":return e.jsx(Nr,{className:"w-5 h-5 text-yellow-500"});case"info":default:return e.jsx(Ur,{className:"w-5 h-5 text-blue-500"})}},h=()=>{switch(r){case"success":return"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800";case"error":return"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800";case"warning":return"bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-800";case"info":default:return"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800"}};return e.jsxs("div",{className:`flex items-center gap-3 px-4 py-3 rounded-lg border shadow-lg ${h()} animate-slide-in-right`,children:[e.jsx("div",{className:"flex-shrink-0",children:u()}),e.jsx("p",{className:"flex-1 text-sm font-medium text-gray-900 dark:text-white",children:n}),e.jsx("button",{onClick:l,className:"flex-shrink-0 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors","aria-label":"Fechar notificao",children:e.jsx(Dr,{className:"w-4 h-4"})})]})},Zb=({toasts:n,onRemove:r})=>e.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2 max-w-md",children:n.map(a=>e.jsx(Yb,{message:a.message,type:a.type,onClose:()=>r(a.id)},a.id))});function Jb(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}function Ga(n){"@babel/helpers - typeof";return Ga=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ga(n)}function ey(n,r){if(Ga(n)!="object"||!n)return n;var a=n[Symbol.toPrimitive];if(a!==void 0){var l=a.call(n,r);if(Ga(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function ty(n){var r=ey(n,"string");return Ga(r)=="symbol"?r:r+""}function ry(n,r){for(var a=0;a<r.length;a++){var l=r[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(n,ty(l.key),l)}}function sy(n,r,a){return r&&ry(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n}var i0=[],ay=i0.forEach,ny=i0.slice;function iy(n){return ay.call(ny.call(arguments,1),function(r){if(r)for(var a in r)n[a]===void 0&&(n[a]=r[a])}),n}var gc=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,oy=function(r,a,l){var u=l||{};u.path=u.path||"/";var h=encodeURIComponent(a),g="".concat(r,"=").concat(h);if(u.maxAge>0){var p=u.maxAge-0;if(Number.isNaN(p))throw new Error("maxAge should be a Number");g+="; Max-Age=".concat(Math.floor(p))}if(u.domain){if(!gc.test(u.domain))throw new TypeError("option domain is invalid");g+="; Domain=".concat(u.domain)}if(u.path){if(!gc.test(u.path))throw new TypeError("option path is invalid");g+="; Path=".concat(u.path)}if(u.expires){if(typeof u.expires.toUTCString!="function")throw new TypeError("option expires is invalid");g+="; Expires=".concat(u.expires.toUTCString())}if(u.httpOnly&&(g+="; HttpOnly"),u.secure&&(g+="; Secure"),u.sameSite){var b=typeof u.sameSite=="string"?u.sameSite.toLowerCase():u.sameSite;switch(b){case!0:g+="; SameSite=Strict";break;case"lax":g+="; SameSite=Lax";break;case"strict":g+="; SameSite=Strict";break;case"none":g+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return g},fc={create:function(r,a,l,u){var h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};l&&(h.expires=new Date,h.expires.setTime(h.expires.getTime()+l*60*1e3)),u&&(h.domain=u),document.cookie=oy(r,encodeURIComponent(a),h)},read:function(r){for(var a="".concat(r,"="),l=document.cookie.split(";"),u=0;u<l.length;u++){for(var h=l[u];h.charAt(0)===" ";)h=h.substring(1,h.length);if(h.indexOf(a)===0)return h.substring(a.length,h.length)}return null},remove:function(r){this.create(r,"",-1)}},ly={name:"cookie",lookup:function(r){var a;if(r.lookupCookie&&typeof document<"u"){var l=fc.read(r.lookupCookie);l&&(a=l)}return a},cacheUserLanguage:function(r,a){a.lookupCookie&&typeof document<"u"&&fc.create(a.lookupCookie,r,a.cookieMinutes,a.cookieDomain,a.cookieOptions)}},cy={name:"querystring",lookup:function(r){var a;if(typeof window<"u"){var l=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(l=window.location.hash.substring(window.location.hash.indexOf("?")));for(var u=l.substring(1),h=u.split("&"),g=0;g<h.length;g++){var p=h[g].indexOf("=");if(p>0){var b=h[g].substring(0,p);b===r.lookupQuerystring&&(a=h[g].substring(p+1))}}}return a}},La=null,xc=function(){if(La!==null)return La;try{La=window!=="undefined"&&window.localStorage!==null;var r="i18next.translate.boo";window.localStorage.setItem(r,"foo"),window.localStorage.removeItem(r)}catch{La=!1}return La},dy={name:"localStorage",lookup:function(r){var a;if(r.lookupLocalStorage&&xc()){var l=window.localStorage.getItem(r.lookupLocalStorage);l&&(a=l)}return a},cacheUserLanguage:function(r,a){a.lookupLocalStorage&&xc()&&window.localStorage.setItem(a.lookupLocalStorage,r)}},Fa=null,pc=function(){if(Fa!==null)return Fa;try{Fa=window!=="undefined"&&window.sessionStorage!==null;var r="i18next.translate.boo";window.sessionStorage.setItem(r,"foo"),window.sessionStorage.removeItem(r)}catch{Fa=!1}return Fa},uy={name:"sessionStorage",lookup:function(r){var a;if(r.lookupSessionStorage&&pc()){var l=window.sessionStorage.getItem(r.lookupSessionStorage);l&&(a=l)}return a},cacheUserLanguage:function(r,a){a.lookupSessionStorage&&pc()&&window.sessionStorage.setItem(a.lookupSessionStorage,r)}},hy={name:"navigator",lookup:function(r){var a=[];if(typeof navigator<"u"){if(navigator.languages)for(var l=0;l<navigator.languages.length;l++)a.push(navigator.languages[l]);navigator.userLanguage&&a.push(navigator.userLanguage),navigator.language&&a.push(navigator.language)}return a.length>0?a:void 0}},my={name:"htmlTag",lookup:function(r){var a,l=r.htmlTag||(typeof document<"u"?document.documentElement:null);return l&&typeof l.getAttribute=="function"&&(a=l.getAttribute("lang")),a}},gy={name:"path",lookup:function(r){var a;if(typeof window<"u"){var l=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(l instanceof Array)if(typeof r.lookupFromPathIndex=="number"){if(typeof l[r.lookupFromPathIndex]!="string")return;a=l[r.lookupFromPathIndex].replace("/","")}else a=l[0].replace("/","")}return a}},fy={name:"subdomain",lookup:function(r){var a=typeof r.lookupFromSubdomainIndex=="number"?r.lookupFromSubdomainIndex+1:1,l=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(l)return l[a]}},o0=!1;try{document.cookie,o0=!0}catch{}var l0=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];o0||l0.splice(1,1);function xy(){return{order:l0,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:function(r){return r}}}var c0=function(){function n(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Jb(this,n),this.type="languageDetector",this.detectors={},this.init(r,a)}return sy(n,[{key:"init",value:function(a){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=a||{languageUtils:{}},this.options=iy(l,this.options||{},xy()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=function(h){return h.replace("-","_")}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=u,this.addDetector(ly),this.addDetector(cy),this.addDetector(dy),this.addDetector(uy),this.addDetector(hy),this.addDetector(my),this.addDetector(gy),this.addDetector(fy)}},{key:"addDetector",value:function(a){return this.detectors[a.name]=a,this}},{key:"detect",value:function(a){var l=this;a||(a=this.options.order);var u=[];return a.forEach(function(h){if(l.detectors[h]){var g=l.detectors[h].lookup(l.options);g&&typeof g=="string"&&(g=[g]),g&&(u=u.concat(g))}}),u=u.map(function(h){return l.options.convertDetectedLanguage(h)}),this.services.languageUtils.getBestMatchFromCodes?u:u.length>0?u[0]:null}},{key:"cacheUserLanguage",value:function(a,l){var u=this;l||(l=this.options.caches),l&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(a)>-1||l.forEach(function(h){u.detectors[h]&&u.detectors[h].cacheUserLanguage(a,u.options)}))}}])}();c0.type="languageDetector";const py={appName:"HOLD Wallet",appDescription:"Carteira digital P2P com sistema de chat e reputao",loading:"Carregando...",error:"Erro",success:"Sucesso",cancel:"Cancelar",confirm:"Confirmar",save:"Salvar",edit:"Editar",delete:"Excluir",back:"Voltar",next:"Prximo",previous:"Anterior",close:"Fechar",open:"Abrir",search:"Buscar",filter:"Filtrar",sort:"Ordenar",refresh:"Atualizar",copy:"Copiar",copied:"Copiado!",share:"Compartilhar",download:"Baixar",upload:"Enviar",select:"Selecionar",clear:"Limpar",reset:"Redefinir",submit:"Enviar",send:"Enviar",receive:"Receber",buy:"Comprar",sell:"Vender",trade:"Negociar",amount:"Quantia",price:"Preo",total:"Total",fee:"Taxa",balance:"Saldo",available:"Disponvel",pending:"Pendente",completed:"Concludo",failed:"Falhou",cancelled:"Cancelado",active:"Ativo",inactive:"Inativo",online:"Online",offline:"Offline",connected:"Conectado",disconnected:"Desconectado"},by={dashboard:"Dashboard",wallet:"Carteira",marketplace:"Marketplace",instantTrade:"Trade Instantneo",services:"Servios",contact:"Contato",support:"Suporte",portfolio:"Portflio",institutional:"Institucional",education:"Educao",chat:"Chat",profile:"Perfil",kyc:"Verificao KYC",settings:"Configuraes",help:"Ajuda",logout:"Sair"},yy={login:"Entrar",register:"Registrar",forgotPassword:"Esqueci a senha",resetPassword:"Redefinir senha",email:"E-mail",username:"Nome de usurio",password:"Senha",confirmPassword:"Confirmar senha",firstName:"Nome",lastName:"Sobrenome",phoneNumber:"Telefone",rememberMe:"Lembrar de mim",loggingIn:"Fazendo login...",loginSuccess:"Login realizado com sucesso",loginError:"Erro ao fazer login",registerSuccess:"Conta criada com sucesso",registerError:"Erro ao criar conta",passwordResetSent:"E-mail de redefinio enviado",invalidCredentials:"Credenciais invlidas",emailRequired:"E-mail  obrigatrio",usernameRequired:"Nome de usurio  obrigatrio",passwordRequired:"Senha  obrigatria",passwordTooShort:"Senha deve ter pelo menos 8 caracteres",passwordMismatch:"Senhas no coincidem",emailInvalid:"E-mail invlido",usernameInvalid:"Nome de usurio deve ter 3-20 caracteres, apenas letras, nmeros e _",phoneRequired:"Telefone  obrigatrio"},wy={title:"Painel Principal",welcome:"Bem-vindo de volta",totalBalance:"Saldo Total",availableBalance:"Saldo Disponvel",recentTransactions:"Transaes Recentes",activeTrades:"Negociaes Ativas",marketOverview:"Viso Geral do Mercado",quickActions:"Aes Rpidas",portfolio:"Portflio",performance:"Desempenho",news:"Notcias",alerts:"Alertas"},vy={title:"Carteira",myWallets:"Minhas Carteiras",addWallet:"Adicionar Carteira",createWallet:"Criar Nova Carteira",importWallet:"Importar Carteira",walletAddress:"Endereo da Carteira",privateKey:"Chave Privada",seedPhrase:"Frase Semente",backupWallet:"Backup da Carteira",restoreWallet:"Restaurar Carteira",transactionHistory:"Histrico de Transaes",sendCrypto:"Enviar Crypto",receiveCrypto:"Receber Crypto",scanQrCode:"Escanear QR Code",generateQrCode:"Gerar QR Code",walletSecurity:"Segurana da Carteira",enableBiometric:"Habilitar Biometria",setPin:"Definir PIN",walletConnected:"Carteira conectada",walletDisconnected:"Carteira desconectada",insufficientFunds:"Saldo insuficiente",invalidAddress:"Endereo invlido",transactionSent:"Transao enviada",transactionFailed:"Transao falhou"},Ny={title:"Trading P2P",marketplace:"Mercado",myOrders:"Minhas Ordens",orderHistory:"Histrico de Ordens",createOrder:"Criar Ordem",buyOffers:"Ofertas de Compra",sellOffers:"Ofertas de Venda",orderType:"Tipo de Ordem",paymentMethod:"Mtodo de Pagamento",priceRange:"Faixa de Preo",tradingLimits:"Limites de Negociao",minAmount:"Valor Mnimo",maxAmount:"Valor Mximo",orderStatus:"Status da Ordem",escrowService:"Servio de Garantia",releaseEscrow:"Liberar Garantia",disputeOrder:"Disputar Ordem",rateTrader:"Avaliar Trader",traderReputation:"Reputao do Trader",verifiedTrader:"Trader Verificado",completedTrades:"Negociaes Concludas",successRate:"Taxa de Sucesso",averageRating:"Avaliao Mdia",orderCreated:"Ordem criada com sucesso",orderCancelled:"Ordem cancelada",tradeCompleted:"Negociao concluda",paymentSent:"Pagamento enviado",paymentReceived:"Pagamento recebido"},ky={title:"Chat",conversations:"Conversas",newMessage:"Nova Mensagem",typeMessage:"Digite uma mensagem...",sendMessage:"Enviar Mensagem",attachFile:"Anexar Arquivo",sendImage:"Enviar Imagem",voiceMessage:"Mensagem de Voz",videoCall:"Chamada de Vdeo",audioCall:"Chamada de udio",onlineNow:"Online agora",lastSeen:"Visto por ltimo",messageDelivered:"Mensagem entregue",messageRead:"Mensagem lida",typing:"digitando...",recordingAudio:"gravando udio...",fileUploaded:"Arquivo enviado",imageUploaded:"Imagem enviada",maxFileSize:"Tamanho mximo do arquivo: 10MB",unsupportedFileType:"Tipo de arquivo no suportado",messageEncrypted:"Esta conversa  criptografada de ponta a ponta",chatEmpty:"Nenhuma mensagem ainda",startConversation:"Iniciar conversa"},jy={title:"Perfil",personalInfo:"Informaes Pessoais",securitySettings:"Configuraes de Segurana",verificationStatus:"Status de Verificao",kycVerification:"Verificao KYC",documentUpload:"Upload de Documentos",identityVerification:"Verificao de Identidade",addressVerification:"Verificao de Endereo",phoneVerification:"Verificao de Telefone",emailVerification:"Verificao de E-mail",twoFactorAuth:"Autenticao de Dois Fatores",enable2FA:"Habilitar 2FA",disable2FA:"Desabilitar 2FA",backupCodes:"Cdigos de Backup",changePassword:"Alterar Senha",currentPassword:"Senha Atual",newPassword:"Nova Senha",profilePicture:"Foto do Perfil",uploadPhoto:"Carregar Foto",removePhoto:"Remover Foto",publicProfile:"Perfil Pblico",traderInfo:"Informaes do Trader",badgesEarned:"Distintivos Conquistados",tradingStats:"Estatsticas de Trading",reputationScore:"Pontuao de Reputao"},Cy={title:"Configuraes",general:"Geral",security:"Segurana",notifications:"Notificaes",privacy:"Privacidade",language:"Idioma",currency:"Moeda",timezone:"Fuso Horrio",theme:"Tema",lightMode:"Modo Claro",darkMode:"Modo Escuro",systemDefault:"Padro do Sistema",pushNotifications:"Notificaes Push",emailNotifications:"Notificaes por E-mail",smsNotifications:"Notificaes por SMS",soundEnabled:"Som Habilitado",vibrationEnabled:"Vibrao Habilitada",autoBackup:"Backup Automtico",biometricLogin:"Login Biomtrico",sessionTimeout:"Timeout da Sesso",dataUsage:"Uso de Dados",clearCache:"Limpar Cache",resetSettings:"Redefinir Configuraes",exportData:"Exportar Dados",deleteAccount:"Excluir Conta",settingsSaved:"Configuraes salvas"},Sy={networkError:"Erro de rede",serverError:"Erro do servidor",unexpectedError:"Erro inesperado",sessionExpired:"Sesso expirada",accessDenied:"Acesso negado",notFound:"No encontrado",validationError:"Erro de validao",fileUploadError:"Erro no upload do arquivo",connectionLost:"Conexo perdida",tryAgain:"Tentar novamente",contactSupport:"Contatar suporte",errorCode:"Cdigo do erro"},Ey={operationCompleted:"Operao concluda com sucesso",settingsSaved:"Configuraes salvas",profileUpdated:"Perfil atualizado",passwordChanged:"Senha alterada",emailVerified:"E-mail verificado",phoneVerified:"Telefone verificado",documentUploaded:"Documento enviado",backupCreated:"Backup criado",notificationSent:"Notificao enviada"},Ay={common:py,navigation:by,auth:yy,dashboard:wy,wallet:vy,p2p:Ny,chat:ky,profile:jy,settings:Cy,errors:Sy,success:Ey},Ty={loading:"Loading...",error:"Error",success:"Success",cancel:"Cancel",confirm:"Confirm",save:"Save",edit:"Edit",delete:"Delete",back:"Back",next:"Next",previous:"Previous",close:"Close",open:"Open",search:"Search",filter:"Filter",sort:"Sort",refresh:"Refresh",copy:"Copy",copied:"Copied!",share:"Share",download:"Download",upload:"Upload",select:"Select",clear:"Clear",reset:"Reset",submit:"Submit",send:"Send",receive:"Receive",buy:"Buy",sell:"Sell",trade:"Trade",amount:"Amount",price:"Price",total:"Total",fee:"Fee",balance:"Balance",available:"Available",pending:"Pending",completed:"Completed",failed:"Failed",cancelled:"Cancelled",active:"Active",inactive:"Inactive",online:"Online",offline:"Offline",connected:"Connected",disconnected:"Disconnected"},Iy={dashboard:"Dashboard",wallet:"Wallet",marketplace:"Marketplace",chat:"Chat",profile:"Profile",settings:"Settings",help:"Help",logout:"Logout"},Ry={login:"Login",register:"Register",forgotPassword:"Forgot Password",resetPassword:"Reset Password",email:"Email",password:"Password",confirmPassword:"Confirm Password",firstName:"First Name",lastName:"Last Name",phoneNumber:"Phone Number",rememberMe:"Remember Me",loginSuccess:"Login successful",loginError:"Login error",registerSuccess:"Account created successfully",registerError:"Registration error",passwordResetSent:"Password reset email sent",invalidCredentials:"Invalid credentials",emailRequired:"Email is required",passwordRequired:"Password is required",passwordTooShort:"Password must be at least 8 characters",passwordMismatch:"Passwords do not match",emailInvalid:"Invalid email",phoneRequired:"Phone number is required"},_y={title:"Dashboard",welcome:"Welcome back",totalBalance:"Total Balance",availableBalance:"Available Balance",recentTransactions:"Recent Transactions",activeTrades:"Active Trades",marketOverview:"Market Overview",quickActions:"Quick Actions",portfolio:"Portfolio",performance:"Performance",news:"News",alerts:"Alerts"},Oy={title:"Wallet",myWallets:"My Wallets",addWallet:"Add Wallet",createWallet:"Create New Wallet",importWallet:"Import Wallet",walletAddress:"Wallet Address",privateKey:"Private Key",seedPhrase:"Seed Phrase",backupWallet:"Backup Wallet",restoreWallet:"Restore Wallet",transactionHistory:"Transaction History",sendCrypto:"Send Crypto",receiveCrypto:"Receive Crypto",scanQrCode:"Scan QR Code",generateQrCode:"Generate QR Code",walletSecurity:"Wallet Security",enableBiometric:"Enable Biometric",setPin:"Set PIN",walletConnected:"Wallet connected",walletDisconnected:"Wallet disconnected",insufficientFunds:"Insufficient funds",invalidAddress:"Invalid address",transactionSent:"Transaction sent",transactionFailed:"Transaction failed"},Py={title:"P2P Trading",marketplace:"Marketplace",myOrders:"My Orders",orderHistory:"Order History",createOrder:"Create Order",buyOffers:"Buy Offers",sellOffers:"Sell Offers",orderType:"Order Type",paymentMethod:"Payment Method",priceRange:"Price Range",tradingLimits:"Trading Limits",minAmount:"Min Amount",maxAmount:"Max Amount",orderStatus:"Order Status",escrowService:"Escrow Service",releaseEscrow:"Release Escrow",disputeOrder:"Dispute Order",rateTrader:"Rate Trader",traderReputation:"Trader Reputation",verifiedTrader:"Verified Trader",completedTrades:"Completed Trades",successRate:"Success Rate",averageRating:"Average Rating",orderCreated:"Order created successfully",orderCancelled:"Order cancelled",tradeCompleted:"Trade completed",paymentSent:"Payment sent",paymentReceived:"Payment received"},Dy={title:"Chat",conversations:"Conversations",newMessage:"New Message",typeMessage:"Type a message...",sendMessage:"Send Message",attachFile:"Attach File",sendImage:"Send Image",voiceMessage:"Voice Message",videoCall:"Video Call",audioCall:"Audio Call",onlineNow:"Online now",lastSeen:"Last seen",messageDelivered:"Message delivered",messageRead:"Message read",typing:"typing...",recordingAudio:"recording audio...",fileUploaded:"File uploaded",imageUploaded:"Image uploaded",maxFileSize:"Max file size: 10MB",unsupportedFileType:"Unsupported file type",messageEncrypted:"This conversation is end-to-end encrypted",chatEmpty:"No messages yet",startConversation:"Start conversation"},My={title:"Profile",personalInfo:"Personal Information",securitySettings:"Security Settings",verificationStatus:"Verification Status",kycVerification:"KYC Verification",documentUpload:"Document Upload",identityVerification:"Identity Verification",addressVerification:"Address Verification",phoneVerification:"Phone Verification",emailVerification:"Email Verification",twoFactorAuth:"Two-Factor Authentication",enable2FA:"Enable 2FA",disable2FA:"Disable 2FA",backupCodes:"Backup Codes",changePassword:"Change Password",currentPassword:"Current Password",newPassword:"New Password",profilePicture:"Profile Picture",uploadPhoto:"Upload Photo",removePhoto:"Remove Photo",publicProfile:"Public Profile",traderInfo:"Trader Information",badgesEarned:"Badges Earned",tradingStats:"Trading Statistics",reputationScore:"Reputation Score"},By={title:"Settings",general:"General",security:"Security",notifications:"Notifications",privacy:"Privacy",language:"Language",currency:"Currency",timezone:"Timezone",theme:"Theme",lightMode:"Light Mode",darkMode:"Dark Mode",systemDefault:"System Default",pushNotifications:"Push Notifications",emailNotifications:"Email Notifications",smsNotifications:"SMS Notifications",soundEnabled:"Sound Enabled",vibrationEnabled:"Vibration Enabled",autoBackup:"Auto Backup",biometricLogin:"Biometric Login",sessionTimeout:"Session Timeout",dataUsage:"Data Usage",clearCache:"Clear Cache",resetSettings:"Reset Settings",exportData:"Export Data",deleteAccount:"Delete Account",settingsSaved:"Settings saved"},Ly={networkError:"Network error",serverError:"Server error",unexpectedError:"Unexpected error",sessionExpired:"Session expired",accessDenied:"Access denied",notFound:"Not found",validationError:"Validation error",fileUploadError:"File upload error",connectionLost:"Connection lost",tryAgain:"Try again",contactSupport:"Contact support",errorCode:"Error code"},Fy={operationCompleted:"Operation completed successfully",settingsSaved:"Settings saved",profileUpdated:"Profile updated",passwordChanged:"Password changed",emailVerified:"Email verified",phoneVerified:"Phone verified",documentUploaded:"Document uploaded",backupCreated:"Backup created",notificationSent:"Notification sent"},Uy={common:Ty,navigation:Iy,auth:Ry,dashboard:_y,wallet:Oy,p2p:Py,chat:Dy,profile:My,settings:By,errors:Ly,success:Fy},Vy={loading:"Cargando...",error:"Error",success:"xito",cancel:"Cancelar",confirm:"Confirmar",save:"Guardar",edit:"Editar",delete:"Eliminar",back:"Volver",next:"Siguiente",previous:"Anterior",close:"Cerrar",open:"Abrir",search:"Buscar",filter:"Filtrar",sort:"Ordenar",refresh:"Actualizar",copy:"Copiar",copied:"Copiado!",share:"Compartir",download:"Descargar",upload:"Subir",select:"Seleccionar",clear:"Limpiar",reset:"Restablecer",submit:"Enviar",send:"Enviar",receive:"Recibir",buy:"Comprar",sell:"Vender",trade:"Intercambiar",amount:"Cantidad",price:"Precio",total:"Total",fee:"Tarifa",balance:"Saldo",available:"Disponible",pending:"Pendiente",completed:"Completado",failed:"Fall",cancelled:"Cancelado",active:"Activo",inactive:"Inactivo",online:"En lnea",offline:"Desconectado",connected:"Conectado",disconnected:"Desconectado"},$y={dashboard:"Panel",wallet:"Billetera",marketplace:"Marketplace",instantTrade:"Trade Instantneo",services:"Servicios",contact:"Contacto",support:"Soporte",portfolio:"Cartera",institutional:"Institucional",education:"Educacin",chat:"Chat",profile:"Perfil",kyc:"Verificacin KYC",settings:"Configuracin",help:"Ayuda",logout:"Cerrar Sesin"},zy={login:"Iniciar Sesin",register:"Registrarse",forgotPassword:"Olvid mi Contrasea",resetPassword:"Restablecer Contrasea",email:"Correo Electrnico",password:"Contrasea",confirmPassword:"Confirmar Contrasea",firstName:"Nombre",lastName:"Apellido",phoneNumber:"Nmero de Telfono",rememberMe:"Recordarme",loginSuccess:"Inicio de sesin exitoso",loginError:"Error en el inicio de sesin",registerSuccess:"Cuenta creada exitosamente",registerError:"Error en el registro",passwordResetSent:"Correo de restablecimiento de contrasea enviado",invalidCredentials:"Credenciales invlidas",emailRequired:"El correo electrnico es obligatorio",passwordRequired:"La contrasea es obligatoria",passwordTooShort:"La contrasea debe tener al menos 8 caracteres",passwordMismatch:"Las contraseas no coinciden",emailInvalid:"Correo electrnico invlido",phoneRequired:"El nmero de telfono es obligatorio"},Hy={title:"Panel de Control",welcome:"Bienvenido de nuevo",totalBalance:"Saldo Total",availableBalance:"Saldo Disponible",recentTransactions:"Transacciones Recientes",activeTrades:"Intercambios Activos",marketOverview:"Resumen del Mercado",quickActions:"Acciones Rpidas",portfolio:"Portafolio",performance:"Rendimiento",news:"Noticias",alerts:"Alertas"},Wy={title:"Billetera",myWallets:"Mis Billeteras",addWallet:"Agregar Billetera",createWallet:"Crear Nueva Billetera",importWallet:"Importar Billetera",walletAddress:"Direccin de Billetera",privateKey:"Clave Privada",seedPhrase:"Frase Semilla",backupWallet:"Respaldar Billetera",restoreWallet:"Restaurar Billetera",transactionHistory:"Historial de Transacciones",sendCrypto:"Enviar Cripto",receiveCrypto:"Recibir Cripto",scanQrCode:"Escanear Cdigo QR",generateQrCode:"Generar Cdigo QR",walletSecurity:"Seguridad de Billetera",enableBiometric:"Habilitar Biomtrico",setPin:"Establecer PIN",walletConnected:"Billetera conectada",walletDisconnected:"Billetera desconectada",insufficientFunds:"Fondos insuficientes",invalidAddress:"Direccin invlida",transactionSent:"Transaccin enviada",transactionFailed:"Transaccin fall"},qy={title:"Intercambio P2P",marketplace:"Mercado",myOrders:"Mis rdenes",orderHistory:"Historial de rdenes",createOrder:"Crear Orden",buyOffers:"Ofertas de Compra",sellOffers:"Ofertas de Venta",orderType:"Tipo de Orden",paymentMethod:"Mtodo de Pago",priceRange:"Rango de Precio",tradingLimits:"Lmites de Intercambio",minAmount:"Cantidad Mnima",maxAmount:"Cantidad Mxima",orderStatus:"Estado de Orden",escrowService:"Servicio de Depsito",releaseEscrow:"Liberar Depsito",disputeOrder:"Disputar Orden",rateTrader:"Calificar Comerciante",traderReputation:"Reputacin del Comerciante",verifiedTrader:"Comerciante Verificado",completedTrades:"Intercambios Completados",successRate:"Tasa de xito",averageRating:"Calificacin Promedio",orderCreated:"Orden creada exitosamente",orderCancelled:"Orden cancelada",tradeCompleted:"Intercambio completado",paymentSent:"Pago enviado",paymentReceived:"Pago recibido"},Gy={title:"Chat",conversations:"Conversaciones",newMessage:"Nuevo Mensaje",typeMessage:"Escribir un mensaje...",sendMessage:"Enviar Mensaje",attachFile:"Adjuntar Archivo",sendImage:"Enviar Imagen",voiceMessage:"Mensaje de Voz",videoCall:"Llamada de Video",audioCall:"Llamada de Audio",onlineNow:"En lnea ahora",lastSeen:"Visto por ltima vez",messageDelivered:"Mensaje entregado",messageRead:"Mensaje ledo",typing:"escribiendo...",recordingAudio:"grabando audio...",fileUploaded:"Archivo subido",imageUploaded:"Imagen subida",maxFileSize:"Tamao mximo de archivo: 10MB",unsupportedFileType:"Tipo de archivo no soportado",messageEncrypted:"Esta conversacin est cifrada de extremo a extremo",chatEmpty:"No hay mensajes an",startConversation:"Iniciar conversacin"},Xy={title:"Perfil",personalInfo:"Informacin Personal",securitySettings:"Configuracin de Seguridad",verificationStatus:"Estado de Verificacin",kycVerification:"Verificacin KYC",documentUpload:"Subir Documentos",identityVerification:"Verificacin de Identidad",addressVerification:"Verificacin de Direccin",phoneVerification:"Verificacin de Telfono",emailVerification:"Verificacin de Correo",twoFactorAuth:"Autenticacin de Dos Factores",enable2FA:"Habilitar 2FA",disable2FA:"Deshabilitar 2FA",backupCodes:"Cdigos de Respaldo",changePassword:"Cambiar Contrasea",currentPassword:"Contrasea Actual",newPassword:"Nueva Contrasea",profilePicture:"Foto de Perfil",uploadPhoto:"Subir Foto",removePhoto:"Eliminar Foto",publicProfile:"Perfil Pblico",traderInfo:"Informacin del Comerciante",badgesEarned:"Insignias Obtenidas",tradingStats:"Estadsticas de Intercambio",reputationScore:"Puntuacin de Reputacin"},Qy={title:"Configuracin",general:"General",security:"Seguridad",notifications:"Notificaciones",privacy:"Privacidad",language:"Idioma",currency:"Moneda",timezone:"Zona Horaria",theme:"Tema",lightMode:"Modo Claro",darkMode:"Modo Oscuro",systemDefault:"Predeterminado del Sistema",pushNotifications:"Notificaciones Push",emailNotifications:"Notificaciones por Correo",smsNotifications:"Notificaciones SMS",soundEnabled:"Sonido Habilitado",vibrationEnabled:"Vibracin Habilitada",autoBackup:"Respaldo Automtico",biometricLogin:"Inicio Biomtrico",sessionTimeout:"Tiempo de Espera de Sesin",dataUsage:"Uso de Datos",clearCache:"Limpiar Cach",resetSettings:"Restablecer Configuracin",exportData:"Exportar Datos",deleteAccount:"Eliminar Cuenta",settingsSaved:"Configuracin guardada"},Ky={networkError:"Error de red",serverError:"Error del servidor",unexpectedError:"Error inesperado",sessionExpired:"Sesin expirada",accessDenied:"Acceso denegado",notFound:"No encontrado",validationError:"Error de validacin",fileUploadError:"Error de subida de archivo",connectionLost:"Conexin perdida",tryAgain:"Intentar de nuevo",contactSupport:"Contactar soporte",errorCode:"Cdigo de error"},Yy={operationCompleted:"Operacin completada exitosamente",settingsSaved:"Configuracin guardada",profileUpdated:"Perfil actualizado",passwordChanged:"Contrasea cambiada",emailVerified:"Correo verificado",phoneVerified:"Telfono verificado",documentUploaded:"Documento subido",backupCreated:"Respaldo creado",notificationSent:"Notificacin enviada"},Zy={common:Vy,navigation:$y,auth:zy,dashboard:Hy,wallet:Wy,p2p:qy,chat:Gy,profile:Xy,settings:Qy,errors:Ky,success:Yy},Jy={loading:"...",error:"",success:"",cancel:"",confirm:"",save:"",edit:"",delete:"",back:"",next:"",previous:"",close:"",open:"",search:"",filter:"",sort:"",refresh:"",copy:"",copied:"",share:"",download:"",upload:"",select:"",clear:"",reset:"",submit:"",send:"",receive:"",buy:"",sell:"",trade:"",amount:"",price:"",total:"",fee:"",balance:"",available:"",pending:"",completed:"",failed:"",cancelled:"",active:"",inactive:"",online:"",offline:"",connected:"",disconnected:""},ew={dashboard:"",wallet:"",p2p:"P2P",chat:"",profile:"",settings:"",help:"",logout:""},tw={login:"",register:"",forgotPassword:"",resetPassword:"",email:"",password:"",confirmPassword:"",firstName:"",lastName:"",phoneNumber:"",rememberMe:"",loginSuccess:"",loginError:"",registerSuccess:"",registerError:"",passwordResetSent:"",invalidCredentials:"",emailRequired:"",passwordRequired:"",passwordTooShort:"8",passwordMismatch:"",emailInvalid:"",phoneRequired:""},rw={title:"",welcome:"",totalBalance:"",availableBalance:"",recentTransactions:"",activeTrades:"",marketOverview:"",quickActions:"",portfolio:"",performance:"",news:"",alerts:""},sw={title:"",myWallets:"",addWallet:"",createWallet:"",importWallet:"",walletAddress:"",privateKey:"",seedPhrase:"",backupWallet:"",restoreWallet:"",transactionHistory:"",sendCrypto:"",receiveCrypto:"",scanQrCode:"",generateQrCode:"",walletSecurity:"",enableBiometric:"",setPin:"PIN",walletConnected:"",walletDisconnected:"",insufficientFunds:"",invalidAddress:"",transactionSent:"",transactionFailed:""},aw={title:"P2P",marketplace:"",myOrders:"",orderHistory:"",createOrder:"",buyOffers:"",sellOffers:"",orderType:"",paymentMethod:"",priceRange:"",tradingLimits:"",minAmount:"",maxAmount:"",orderStatus:"",escrowService:"",releaseEscrow:"",disputeOrder:"",rateTrader:"",traderReputation:"",verifiedTrader:"",completedTrades:"",successRate:"",averageRating:"",orderCreated:"",orderCancelled:"",tradeCompleted:"",paymentSent:"",paymentReceived:""},nw={title:"",conversations:"",newMessage:"",typeMessage:"...",sendMessage:"",attachFile:"",sendImage:"",voiceMessage:"",videoCall:"",audioCall:"",onlineNow:"",lastSeen:"",messageDelivered:"",messageRead:"",typing:"...",recordingAudio:"...",fileUploaded:"",imageUploaded:"",maxFileSize:": 10MB",unsupportedFileType:"",messageEncrypted:"",chatEmpty:"",startConversation:""},iw={title:"",personalInfo:"",securitySettings:"",verificationStatus:"",kycVerification:"KYC",documentUpload:"",identityVerification:"",addressVerification:"",phoneVerification:"",emailVerification:"",twoFactorAuth:"",enable2FA:"2FA",disable2FA:"2FA",backupCodes:"",changePassword:"",currentPassword:"",newPassword:"",profilePicture:"",uploadPhoto:"",removePhoto:"",publicProfile:"",traderInfo:"",badgesEarned:"",tradingStats:"",reputationScore:""},ow={title:"",general:"",security:"",notifications:"",privacy:"",language:"",currency:"",timezone:"",theme:"",lightMode:"",darkMode:"",systemDefault:"",pushNotifications:"",emailNotifications:"",smsNotifications:"",soundEnabled:"",vibrationEnabled:"",autoBackup:"",biometricLogin:"",sessionTimeout:"",dataUsage:"",clearCache:"",resetSettings:"",exportData:"",deleteAccount:"",settingsSaved:""},lw={networkError:"",serverError:"",unexpectedError:"",sessionExpired:"",accessDenied:"",notFound:"",validationError:"",fileUploadError:"",connectionLost:"",tryAgain:"",contactSupport:"",errorCode:""},cw={operationCompleted:"",settingsSaved:"",profileUpdated:"",passwordChanged:"",emailVerified:"",phoneVerified:"",documentUploaded:"",backupCreated:"",notificationSent:""},dw={common:Jy,navigation:ew,auth:tw,dashboard:rw,wallet:sw,p2p:aw,chat:nw,profile:iw,settings:ow,errors:lw,success:cw},uw={loading:"...",error:"",success:"",cancel:"",confirm:"",save:"",edit:"",delete:"",back:"",next:"",previous:"",close:"",open:"",search:"",filter:"",sort:"",refresh:"",copy:"",copied:"",share:"",download:"",upload:"",select:"",clear:"",reset:"",submit:"",send:"",receive:"",buy:"",sell:"",trade:"",amount:"",price:"",total:"",fee:"",balance:"",available:"",pending:"",completed:"",failed:"",cancelled:"",active:"",inactive:"",online:"",offline:"",connected:"",disconnected:""},hw={dashboard:"",wallet:"",p2p:"P2P",instantTrade:"",services:"",contact:"",support:"",portfolio:"",institutional:"",education:"",chat:"",profile:"",kyc:"KYC",settings:"",help:"",logout:""},mw={login:"",register:"",forgotPassword:"",resetPassword:"",email:"",password:"",confirmPassword:"",firstName:"",lastName:"",phoneNumber:"",rememberMe:"",loginSuccess:"",loginError:"",registerSuccess:"",registerError:"",passwordResetSent:"",invalidCredentials:"",emailRequired:"",passwordRequired:"",passwordTooShort:"8",passwordMismatch:"",emailInvalid:"",phoneRequired:""},gw={title:"",welcome:"",totalBalance:"",availableBalance:"",recentTransactions:"",activeTrades:"",marketOverview:"",quickActions:"",portfolio:"",performance:"",news:"",alerts:""},fw={title:"",myWallets:"",addWallet:"",createWallet:"",importWallet:"",walletAddress:"",privateKey:"",seedPhrase:"",backupWallet:"",restoreWallet:"",transactionHistory:"",sendCrypto:"",receiveCrypto:"",scanQrCode:"QR",generateQrCode:"QR",walletSecurity:"",enableBiometric:"",setPin:"PIN",walletConnected:"",walletDisconnected:"",insufficientFunds:"",invalidAddress:"",transactionSent:"",transactionFailed:""},xw={title:"P2P",marketplace:"",myOrders:"",orderHistory:"",createOrder:"",buyOffers:"",sellOffers:"",orderType:"",paymentMethod:"",priceRange:"",tradingLimits:"",minAmount:"",maxAmount:"",orderStatus:"",escrowService:"",releaseEscrow:"",disputeOrder:"",rateTrader:"",traderReputation:"",verifiedTrader:"",completedTrades:"",successRate:"",averageRating:"",orderCreated:"",orderCancelled:"",tradeCompleted:"",paymentSent:"",paymentReceived:""},pw={title:"",conversations:"",newMessage:"",typeMessage:"...",sendMessage:"",attachFile:"",sendImage:"",voiceMessage:"",videoCall:"",audioCall:"",onlineNow:"",lastSeen:"",messageDelivered:"",messageRead:"",typing:"...",recordingAudio:"...",fileUploaded:"",imageUploaded:"",maxFileSize:": 10MB",unsupportedFileType:"",messageEncrypted:"",chatEmpty:"",startConversation:""},bw={title:"",personalInfo:"",securitySettings:"",verificationStatus:"",kycVerification:"KYC",documentUpload:"",identityVerification:"",addressVerification:"",phoneVerification:"",emailVerification:"",twoFactorAuth:"",enable2FA:"2FA",disable2FA:"2FA",backupCodes:"",changePassword:"",currentPassword:"",newPassword:"",profilePicture:"",uploadPhoto:"",removePhoto:"",publicProfile:"",traderInfo:"",badgesEarned:"",tradingStats:"",reputationScore:""},yw={title:"",general:"",security:"",notifications:"",privacy:"",language:"",currency:"",timezone:"",theme:"",lightMode:"",darkMode:"",systemDefault:"",pushNotifications:"",emailNotifications:"",smsNotifications:"SMS",soundEnabled:"",vibrationEnabled:"",autoBackup:"",biometricLogin:"",sessionTimeout:"",dataUsage:"",clearCache:"",resetSettings:"",exportData:"",deleteAccount:"",settingsSaved:""},ww={networkError:"",serverError:"",unexpectedError:"",sessionExpired:"",accessDenied:"",notFound:"",validationError:"",fileUploadError:"",connectionLost:"",tryAgain:"",contactSupport:"",errorCode:""},vw={operationCompleted:"",settingsSaved:"",profileUpdated:"",passwordChanged:"",emailVerified:"",phoneVerified:"",documentUploaded:"",backupCreated:"",notificationSent:""},Nw={common:uw,navigation:hw,auth:mw,dashboard:gw,wallet:fw,p2p:xw,chat:pw,profile:bw,settings:yw,errors:ww,success:vw},kw={loading:" ...",error:"",success:"",cancel:"",confirm:"",save:"",edit:"",delete:"",back:"",next:"",previous:"",close:"",open:"",search:"",filter:"",sort:"",refresh:"",copy:"",copied:"!",share:"",download:"",upload:"",select:"",clear:"",reset:"",submit:"",send:"",receive:"",buy:"",sell:"",trade:"",amount:"",price:"",total:"",fee:"",balance:"",available:" ",pending:" ",completed:"",failed:"",cancelled:"",active:"",inactive:"",online:"",offline:"",connected:"",disconnected:" "},jw={dashboard:"",wallet:"",p2p:"P2P",chat:"",profile:"",settings:"",help:"",logout:""},Cw={login:"",register:"",forgotPassword:" ",resetPassword:" ",email:"",password:"",confirmPassword:" ",firstName:"",lastName:"",phoneNumber:"",rememberMe:" ",loginSuccess:" ",loginError:" ",registerSuccess:"  ",registerError:" ",passwordResetSent:"   ",invalidCredentials:"  ",emailRequired:" ",passwordRequired:" ",passwordTooShort:" 8 ",passwordMismatch:" ",emailInvalid:" ",phoneRequired:" "},Sw={title:"",welcome:"   ",totalBalance:" ",availableBalance:"  ",recentTransactions:" ",activeTrades:" ",marketOverview:" ",quickActions:" ",portfolio:"",performance:"",news:"",alerts:""},Ew={title:"",myWallets:" ",addWallet:" ",createWallet:"  ",importWallet:" ",walletAddress:" ",privateKey:"",seedPhrase:" ",backupWallet:" ",restoreWallet:" ",transactionHistory:" ",sendCrypto:" ",receiveCrypto:" ",scanQrCode:"QR  ",generateQrCode:"QR  ",walletSecurity:" ",enableBiometric:"  ",setPin:"PIN ",walletConnected:" ",walletDisconnected:"  ",insufficientFunds:" ",invalidAddress:" ",transactionSent:" ",transactionFailed:" "},Aw={title:"P2P ",marketplace:"",myOrders:" ",orderHistory:" ",createOrder:" ",buyOffers:" ",sellOffers:" ",orderType:" ",paymentMethod:" ",priceRange:" ",tradingLimits:" ",minAmount:" ",maxAmount:" ",orderStatus:" ",escrowService:" ",releaseEscrow:" ",disputeOrder:" ",rateTrader:" ",traderReputation:" ",verifiedTrader:" ",completedTrades:" ",successRate:"",averageRating:" ",orderCreated:"  ",orderCancelled:" ",tradeCompleted:" ",paymentSent:" ",paymentReceived:" "},Tw={title:"",conversations:"",newMessage:" ",typeMessage:" ...",sendMessage:" ",attachFile:" ",sendImage:" ",voiceMessage:" ",videoCall:" ",audioCall:" ",onlineNow:" ",lastSeen:" ",messageDelivered:" ",messageRead:" ",typing:" ...",recordingAudio:"  ...",fileUploaded:" ",imageUploaded:" ",maxFileSize:"  : 10MB",unsupportedFileType:"   ",messageEncrypted:"   ",chatEmpty:" ",startConversation:" "},Iw={title:"",personalInfo:" ",securitySettings:" ",verificationStatus:" ",kycVerification:"KYC ",documentUpload:" ",identityVerification:" ",addressVerification:" ",phoneVerification:" ",emailVerification:" ",twoFactorAuth:"2 ",enable2FA:"2FA ",disable2FA:"2FA ",backupCodes:" ",changePassword:" ",currentPassword:" ",newPassword:" ",profilePicture:" ",uploadPhoto:" ",removePhoto:" ",publicProfile:" ",traderInfo:" ",badgesEarned:" ",tradingStats:" ",reputationScore:" "},Rw={title:"",general:"",security:"",notifications:"",privacy:"",language:"",currency:"",timezone:"",theme:"",lightMode:" ",darkMode:" ",systemDefault:" ",pushNotifications:" ",emailNotifications:" ",smsNotifications:"SMS ",soundEnabled:" ",vibrationEnabled:" ",autoBackup:" ",biometricLogin:"  ",sessionTimeout:" ",dataUsage:" ",clearCache:" ",resetSettings:" ",exportData:" ",deleteAccount:" ",settingsSaved:" "},_w={networkError:" ",serverError:" ",unexpectedError:"  ",sessionExpired:" ",accessDenied:" ",notFound:"  ",validationError:" ",fileUploadError:"  ",connectionLost:" ",tryAgain:" ",contactSupport:" ",errorCode:" "},Ow={operationCompleted:"  ",settingsSaved:" ",profileUpdated:" ",passwordChanged:" ",emailVerified:" ",phoneVerified:" ",documentUploaded:" ",backupCreated:" ",notificationSent:" "},Pw={common:kw,navigation:jw,auth:Cw,dashboard:Sw,wallet:Ew,p2p:Aw,chat:Tw,profile:Iw,settings:Rw,errors:_w,success:Ow},Dw={"pt-BR":{translation:Ay},"en-US":{translation:Uy},"es-ES":{translation:Zy},"zh-CN":{translation:dw},"ja-JP":{translation:Nw},"ko-KR":{translation:Pw}};G0.use(c0).use(X0).init({resources:Dw,fallbackLng:"pt-BR",debug:!1,detection:{order:["localStorage","navigator","htmlTag"],caches:["localStorage"],lookupLocalStorage:"i18nextLng"},interpolation:{escapeValue:!1,formatSeparator:","},react:{useSuspense:!1},defaultNS:"translation",ns:["translation"],load:"languageOnly",preload:["pt-BR","en-US"],updateMissing:!1,saveMissing:!1,returnEmptyString:!1,returnNull:!1,returnObjects:!1,pluralSeparator:"_",contextSeparator:"_",parseMissingKeyHandler:n=>n,lng:"pt-BR"});const Mw=()=>[{code:"pt-BR",name:"Portuguese",nativeName:"Portugus"},{code:"en-US",name:"English",nativeName:"English"},{code:"es-ES",name:"Spanish",nativeName:"Espaol"},{code:"zh-CN",name:"Chinese",nativeName:""},{code:"ja-JP",name:"Japanese",nativeName:""},{code:"ko-KR",name:"Korean",nativeName:""}],Bw=()=>{const{t:n,i18n:r}=cr(),{setLanguage:a}=jd(),l=u=>{const g={"pt-BR":"pt","en-US":"en","es-ES":"es","zh-CN":"en","ja-JP":"en","ko-KR":"en"}[u]||"en";r.changeLanguage(u).then(()=>{localStorage.setItem("i18nextLng",u),a(g),Te.success(n("common.languageChanged","Idioma alterado com sucesso!"))})};return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:n("settings.language","Idioma")}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[n("common.welcome","Bem-vindo")," - ",r.language]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:Mw().map(u=>e.jsx("button",{onClick:()=>l(u.code),className:`p-2 text-sm rounded-lg border transition-colors ${r.language===u.code?"border-primary-500 bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-300":"border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:u.nativeName},u.code))}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 space-y-1",children:[e.jsxs("p",{children:[e.jsxs("strong",{children:[n("navigation.dashboard"),":"]})," ",n("navigation.dashboard")]}),e.jsxs("p",{children:[e.jsxs("strong",{children:[n("navigation.wallet"),":"]})," ",n("navigation.wallet")]}),e.jsxs("p",{children:[e.jsxs("strong",{children:[n("navigation.marketplace"),":"]})," ",n("navigation.marketplace")]}),e.jsxs("p",{children:[e.jsxs("strong",{children:[n("auth.login"),":"]})," ",n("auth.login")]}),e.jsxs("p",{children:[e.jsxs("strong",{children:[n("common.success"),":"]})," ",n("common.success")]})]})]})},Lw=()=>{const{t:n}=cr(),r=bc(),{data:a}=Ud(),{data:l,refetch:u}=d1(),{data:h,refetch:g}=si(),{currency:p,setCurrency:b}=en(),f=o1(),w=u1(),v=m1(),k=h1(),A=P2(),C=D2(),T=M2(),I=gr(),R=r.pathname.includes("/payment-methods")?"payment-methods":"general",[O,P]=j.useState(R),[G,Q]=j.useState(!1),[D,B]=j.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[$,z]=j.useState({}),[K,re]=j.useState(!1),[F,X]=j.useState(null),[ae,H]=j.useState(""),[ve,me]=j.useState(!1),[ie,je]=j.useState(null),[se,le]=j.useState(""),[de,ge]=j.useState({keyType:"",keyValue:"",holderName:""}),[Ce,Ie]=j.useState({bank:"",accountType:"",agency:"",account:"",holderName:"",holderDocument:""}),[fe,ye]=j.useState({walletType:"",identifier:"",holderName:""}),Re=l?.enabled||!1;j.useEffect(()=>{O==="2fa"&&u(),O==="payment-methods"&&g()},[O,u,g]);const ue=[{id:"general",name:"Geral",icon:hs},{id:"security",name:"Segurana",icon:dt},{id:"2fa",name:"Autenticao 2FA",icon:Gl},{id:"payment-methods",name:"Mtodos de Pagamento",icon:Mr}],ce=()=>{const W={};return D.currentPassword||(W.currentPassword="Senha atual  obrigatria"),D.newPassword?D.newPassword.length<8&&(W.newPassword="Nova senha deve ter pelo menos 8 caracteres"):W.newPassword="Nova senha  obrigatria",D.newPassword!==D.confirmPassword&&(W.confirmPassword="Senhas no coincidem"),D.currentPassword===D.newPassword&&(W.newPassword="Nova senha deve ser diferente da atual"),z(W),Object.keys(W).length===0},ke=async W=>{if(W.preventDefault(),!!ce())try{await f.mutateAsync({currentPassword:D.currentPassword,newPassword:D.newPassword}),B({currentPassword:"",newPassword:"",confirmPassword:""}),Q(!1),I.success("Senha alterada com sucesso!")}catch(q){z({currentPassword:q.message||"Erro ao alterar senha"}),I.error(q.message||"Erro ao alterar senha")}},Ge=async()=>{try{const W=await w.mutateAsync();X(W),re(!0),I.info("Escaneie o QR code com seu aplicativo autenticador")}catch(W){I.error("Erro ao habilitar 2FA: "+W.message)}},_e=async()=>{if(!ae||ae.length!==6){I.warning("Digite um cdigo de 6 dgitos");return}try{await k.mutateAsync(ae),H(""),re(!1),X(null),await u(),I.success(" 2FA ativado com sucesso! Sua conta est mais segura.")}catch(W){I.error("Cdigo invlido: "+W.message)}},bt=async()=>{if(!ae){I.warning("Digite o cdigo de verificao para desabilitar 2FA");return}try{await v.mutateAsync(ae),H(""),await u(),I.success("2FA desabilitado com sucesso!")}catch(W){I.error("Cdigo invlido: "+W.message)}},yt=W=>{const{name:q,value:Xe}=W.target;B(vt=>({...vt,[q]:Xe})),$[q]&&z(vt=>({...vt,[q]:""}))},ze=()=>{je(null),le(""),ge({keyType:"",keyValue:"",holderName:""}),Ie({bank:"",accountType:"",agency:"",account:"",holderName:"",holderDocument:""}),ye({walletType:"",identifier:"",holderName:""}),me(!0)},wt=W=>{je(W),le(W.type);try{const q=JSON.parse(W.details);W.type==="PIX"?ge(q):W.type==="Transferncia Bancria"?Ie(q):["PayPal","PicPay","Mercado Pago","PagSeguro"].includes(W.type)&&ye(q)}catch(q){console.error("Error parsing payment method details:",q)}me(!0)},et=async W=>{if(W.preventDefault(),!se){I.warning("Selecione o tipo de pagamento");return}let q={};if(se==="PIX"){if(!de.keyType||!de.keyValue||!de.holderName){I.warning("Preencha todos os campos do PIX");return}q=de}else if(se==="Transferncia Bancria"){if(!Ce.bank||!Ce.accountType||!Ce.agency||!Ce.account||!Ce.holderName||!Ce.holderDocument){I.warning("Preencha todos os campos da transferncia bancria");return}q=Ce}else{if(!fe.walletType||!fe.identifier||!fe.holderName){I.warning("Preencha todos os campos da carteira digital");return}q=fe}try{const Xe={type:se,details:JSON.stringify(q)};ie?(await C.mutateAsync({id:ie.id,...Xe}),I.success("Mtodo de pagamento atualizado!")):(await A.mutateAsync(Xe),I.success("Mtodo de pagamento adicionado!")),me(!1),le(""),ge({keyType:"",keyValue:"",holderName:""}),Ie({bank:"",accountType:"",agency:"",account:"",holderName:"",holderDocument:""}),ye({walletType:"",identifier:"",holderName:""}),je(null),g()}catch(Xe){I.error(Xe.message||"Erro ao salvar mtodo de pagamento")}},He=async W=>{if(confirm("Tem certeza que deseja excluir este mtodo de pagamento?"))try{await T.mutateAsync(W),I.success("Mtodo de pagamento excludo!"),g()}catch(q){I.error(q.message||"Erro ao excluir mtodo de pagamento")}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:n("settings.title","Configuraes")}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Gerencie suas preferncias e segurana"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow",children:[e.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:e.jsx("nav",{className:"-mb-px flex space-x-8 px-6",children:ue.map(W=>{const q=W.icon;return e.jsxs("button",{onClick:()=>P(W.id),className:`py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${O===W.id?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"}`,children:[e.jsx(q,{className:"w-4 h-4 mr-2 inline-block"}),W.name]},W.id)})})}),e.jsxs("div",{className:"p-6",children:[O==="general"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Configuraes Gerais"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(Bw,{}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(Wl,{className:"w-5 h-5 mr-2 text-gray-700 dark:text-gray-300"}),e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Tema da Interface"})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-3",children:"Escolha entre modo claro ou escuro"}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{className:"flex items-center px-3 py-2 text-sm bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg",children:[e.jsx(Bd,{className:"w-4 h-4 mr-1"}),"Claro"]}),e.jsxs("button",{className:"flex items-center px-3 py-2 text-sm bg-gray-800 text-white border border-gray-600 rounded-lg",children:[e.jsx(_d,{className:"w-4 h-4 mr-1"}),"Escuro"]}),e.jsxs("button",{className:"flex items-center px-3 py-2 text-sm bg-blue-500 text-white rounded-lg",children:[e.jsx(Wl,{className:"w-4 h-4 mr-1"}),"Automtico"]})]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(ss,{className:"w-5 h-5 mr-2 text-gray-700 dark:text-gray-300"}),e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Moeda Preferencial"})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-3",children:"Moeda usada para exibir valores"}),e.jsx("label",{htmlFor:"currency-select",className:"sr-only",children:"Selecionar moeda preferencial"}),e.jsxs("select",{id:"currency-select",value:p,onChange:W=>{const q=W.target.value;b(q),I.success(`Moeda alterada para ${q}`)},className:"block w-48 px-3 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 rounded-lg text-gray-900 dark:text-white",children:[e.jsx("option",{value:"BRL",children:"Real Brasileiro (BRL)"}),e.jsx("option",{value:"USD",children:"Dlar Americano (USD)"}),e.jsx("option",{value:"EUR",children:"Euro (EUR)"})]})]})]}),O==="security"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Configuraes de Segurana"}),e.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ts,{className:"w-6 h-6 mr-3 text-blue-400"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-blue-900 dark:text-blue-100",children:"Informaes da Conta"}),e.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-200",children:[a?.email,"  Membro desde"," ",a?.createdAt?new Date(a.createdAt).toLocaleDateString("pt-BR"):"N/A"]}),e.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-200 flex items-center",children:["Status:"," ",a?.isVerified?e.jsxs(e.Fragment,{children:[e.jsx(Pe,{className:"w-4 h-4 mr-1 text-green-500"}),"Verificado"]}):e.jsxs(e.Fragment,{children:[e.jsx(Nr,{className:"w-4 h-4 mr-1 text-yellow-500"}),"No verificado"]})]})]})]})}),e.jsxs("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(px,{className:"w-5 h-5 mr-2 text-gray-700 dark:text-gray-300"}),e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Alterar Senha"})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Atualize sua senha para manter sua conta segura"})]}),e.jsx("button",{onClick:()=>Q(!G),className:"px-4 py-2 text-sm font-medium text-primary-600 hover:text-primary-700 dark:text-primary-400",children:G?"Cancelar":"Alterar"})]}),G&&e.jsxs("form",{onSubmit:ke,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"current-password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Senha Atual"}),e.jsx("input",{type:"password",id:"current-password",name:"currentPassword",required:!0,className:"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:D.currentPassword,onChange:yt}),$.currentPassword&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:$.currentPassword})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"new-password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nova Senha"}),e.jsx("input",{type:"password",id:"new-password",name:"newPassword",required:!0,className:"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:D.newPassword,onChange:yt}),$.newPassword&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:$.newPassword})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Confirmar Nova Senha"}),e.jsx("input",{type:"password",id:"confirm-password",name:"confirmPassword",required:!0,className:"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:D.confirmPassword,onChange:yt}),$.confirmPassword&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:$.confirmPassword})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{type:"submit",disabled:f.isPending,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50",children:f.isPending?"Alterando...":"Alterar Senha"}),e.jsx("button",{type:"button",onClick:()=>Q(!1),className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200",children:"Cancelar"})]})]})]}),e.jsxs("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(dt,{className:"w-5 h-5 mr-2 text-gray-700 dark:text-gray-300"}),e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Segurana de Sesso"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Et,{className:"w-4 h-4 mr-2 text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Timeout automtico"})]}),e.jsx("span",{className:"text-sm text-gray-900 dark:text-white font-medium",children:"30 minutos"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(ao,{className:"w-4 h-4 mr-2 text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:"ltimos logins"})]}),e.jsx("button",{className:"text-sm text-primary-600 hover:text-primary-700 dark:text-primary-400",children:"Ver histrico"})]}),e.jsxs("button",{className:"w-full flex items-center justify-center px-4 py-2 text-sm bg-red-600 text-white rounded-lg hover:bg-red-700",children:[e.jsx(no,{className:"w-4 h-4 mr-2"}),"Encerrar todas as sesses"]})]})]})]})}),O==="2fa"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Autenticao de Dois Fatores (2FA)"}),e.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Gl,{className:"w-6 h-6 mr-3 text-yellow-400"}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-yellow-900 dark:text-yellow-100 flex items-center",children:["Status do 2FA:"," ",Re?e.jsxs(e.Fragment,{children:[e.jsx(Pe,{className:"w-4 h-4 ml-2 mr-1 text-green-500"}),"Habilitado"]}):e.jsxs(e.Fragment,{children:[e.jsx(Ns,{className:"w-4 h-4 ml-2 mr-1 text-red-500"}),"Desabilitado"]})]}),e.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-200",children:"A autenticao de dois fatores adiciona uma camada extra de segurana  sua conta"})]})]})}),Re?e.jsxs("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(Ns,{className:"w-6 h-6 mr-3 text-red-600"}),e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Desabilitar 2FA"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Para desabilitar a autenticao de dois fatores, digite o cdigo de verificao do seu app:"}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("label",{htmlFor:"disable-2fa-code",className:"sr-only",children:"Cdigo de verificao para desabilitar 2FA"}),e.jsx("input",{type:"text",id:"disable-2fa-code",maxLength:6,className:"block w-32 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-center font-mono",placeholder:"000000",value:ae,onChange:W=>H(W.target.value.replace(/\D/g,""))}),e.jsxs("button",{onClick:bt,disabled:v.isPending||ae.length!==6,className:"flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50",children:[e.jsx(Ns,{className:"w-4 h-4 mr-2"}),v.isPending?"Desabilitando...":"Desabilitar 2FA"]})]}),e.jsxs("div",{className:"flex items-center text-sm text-red-600 dark:text-red-400",children:[e.jsx(Nr,{className:"w-4 h-4 mr-1"}),"Desabilitar 2FA tornar sua conta menos segura"]})]})]}):e.jsxs("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(ei,{className:"w-6 h-6 mr-3 text-gray-700 dark:text-gray-300"}),e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Configurar 2FA"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:[e.jsx("p",{className:"mb-2",children:"Para configurar a autenticao de dois fatores:"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-1 ml-2",children:[e.jsx("li",{children:"Baixe um app autenticador (Google Authenticator, Authy, etc.)"}),e.jsx("li",{children:'Clique em "Habilitar 2FA" para gerar o cdigo QR'}),e.jsx("li",{children:"Escaneie o QR code com seu app autenticador"}),e.jsx("li",{children:"Digite o cdigo de 6 dgitos para confirmar"})]})]}),K?e.jsx("div",{className:"space-y-4",children:F&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-block p-4 bg-white rounded-lg",children:e.jsx("img",{src:F.qr_code,alt:"QR Code 2FA",className:"w-64 h-64 mx-auto"})}),e.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-300",children:"Escaneie este QR code com seu app autenticador"}),e.jsxs("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400",children:["Ou digite manualmente:"," ",e.jsx("span",{className:"font-mono font-semibold",children:F.secret})]})]}),e.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(Nr,{className:"w-5 h-5 mr-2 text-red-600"}),e.jsx("h5",{className:"font-medium text-red-900 dark:text-red-100",children:"Cdigos de Backup"})]}),e.jsx("p",{className:"text-sm text-red-700 dark:text-red-200 mb-2",children:"Guarde estes cdigos em lugar seguro. Use-os se perder acesso ao seu celular:"}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded p-3 font-mono text-xs grid grid-cols-2 gap-2",children:F.backup_codes.map((W,q)=>e.jsx("div",{className:"text-gray-900 dark:text-gray-100",children:W},q))}),e.jsx("button",{onClick:()=>{const W=F.backup_codes.join(`
`);navigator.clipboard.writeText(W),alert("Cdigos copiados para a rea de transferncia!")},className:"mt-3 text-xs text-red-700 dark:text-red-300 hover:underline",children:" Copiar cdigos"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"verification-code",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Digite o cdigo de 6 dgitos para confirmar:"}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("input",{type:"text",id:"verification-code",maxLength:6,className:"block w-32 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-center font-mono text-lg",placeholder:"000000",value:ae,onChange:W=>H(W.target.value.replace(/\D/g,""))}),e.jsx("button",{onClick:_e,disabled:k.isPending||ae.length!==6,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:k.isPending?"Verificando...":"Confirmar"})]})]})]})}):e.jsxs("button",{onClick:Ge,disabled:w.isPending,className:"flex items-center px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:[e.jsx(Pe,{className:"w-5 h-5 mr-2"}),w.isPending?"Gerando QR...":"Habilitar 2FA"]})]})]})]})}),O==="payment-methods"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Mtodos de Pagamento"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Gerencie suas formas de pagamento para transaes P2P"})]}),e.jsxs("button",{onClick:ze,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(Sr,{className:"w-4 h-4"}),"Adicionar Mtodo"]})]}),ve&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border-2 border-blue-500 dark:border-blue-400 shadow-lg",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white mb-6",children:ie?"Editar Mtodo de Pagamento":"Novo Mtodo de Pagamento"}),e.jsxs("form",{onSubmit:et,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Tipo de Pagamento *"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[{value:"PIX",label:"PIX",icon:ga},{value:"Transferncia Bancria",label:"Transferncia",icon:ma},{value:"PayPal",label:"PayPal",icon:Ht},{value:"PicPay",label:"PicPay",icon:Ht},{value:"Mercado Pago",label:"Mercado Pago",icon:Ht},{value:"PagSeguro",label:"PagSeguro",icon:Ht}].map(W=>{const q=W.icon;return e.jsxs("button",{type:"button",onClick:()=>le(W.value),className:`p-4 border-2 rounded-lg transition-all ${se===W.value?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400":"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500 text-gray-700 dark:text-gray-300"}`,children:[e.jsx(q,{className:"w-6 h-6 mx-auto mb-2"}),e.jsx("p",{className:"text-sm font-medium",children:W.label})]},W.value)})})]}),se==="PIX"&&e.jsxs("div",{className:"space-y-4 bg-blue-50 dark:bg-blue-900/10 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(ga,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),e.jsx("h5",{className:"font-medium text-gray-900 dark:text-white",children:"Dados do PIX"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tipo de Chave PIX *"}),e.jsxs("select",{"aria-label":"Tipo de chave PIX",value:de.keyType,onChange:W=>ge(q=>({...q,keyType:W.target.value})),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",required:!0,children:[e.jsx("option",{value:"",children:"Selecione o tipo de chave"}),e.jsx("option",{value:"CPF",children:"CPF"}),e.jsx("option",{value:"CNPJ",children:"CNPJ"}),e.jsx("option",{value:"E-mail",children:"E-mail"}),e.jsx("option",{value:"Celular",children:"Celular"}),e.jsx("option",{value:"Chave Aleatria",children:"Chave Aleatria"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Chave PIX *"}),e.jsx("input",{type:"text",value:de.keyValue,onChange:W=>ge(q=>({...q,keyValue:W.target.value})),placeholder:de.keyType==="CPF"?"123.456.789-00":de.keyType==="CNPJ"?"12.345.678/0001-00":de.keyType==="E-mail"?"seu@email.com":de.keyType==="Celular"?"(11) 98765-4321":de.keyType==="Chave Aleatria"?"cole sua chave aleatria":"Selecione o tipo de chave primeiro",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nome do Titular *"}),e.jsx("input",{type:"text",value:de.holderName,onChange:W=>ge(q=>({...q,holderName:W.target.value})),placeholder:"Nome completo do titular da conta",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",required:!0})]})]}),se==="Transferncia Bancria"&&e.jsxs("div",{className:"space-y-4 bg-green-50 dark:bg-green-900/10 p-4 rounded-lg border border-green-200 dark:border-green-800",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(ma,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),e.jsx("h5",{className:"font-medium text-gray-900 dark:text-white",children:"Dados Bancrios"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Banco *"}),e.jsxs("select",{"aria-label":"Selecione o banco",value:Ce.bank,onChange:W=>Ie(q=>({...q,bank:W.target.value})),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",required:!0,children:[e.jsx("option",{value:"",children:"Selecione o banco"}),e.jsx("option",{value:"001 - Banco do Brasil",children:"001 - Banco do Brasil"}),e.jsx("option",{value:"033 - Santander",children:"033 - Santander"}),e.jsx("option",{value:"104 - Caixa Econmica",children:"104 - Caixa Econmica"}),e.jsx("option",{value:"237 - Bradesco",children:"237 - Bradesco"}),e.jsx("option",{value:"341 - Ita",children:"341 - Ita"}),e.jsx("option",{value:"260 - Nubank",children:"260 - Nubank"}),e.jsx("option",{value:"077 - Inter",children:"077 - Inter"}),e.jsx("option",{value:"212 - Banco Original",children:"212 - Banco Original"}),e.jsx("option",{value:"290 - PagSeguro",children:"290 - PagSeguro"}),e.jsx("option",{value:"323 - Mercado Pago",children:"323 - Mercado Pago"}),e.jsx("option",{value:"336 - C6 Bank",children:"336 - C6 Bank"}),e.jsx("option",{value:"389 - Banco Mercantil",children:"389 - Banco Mercantil"}),e.jsx("option",{value:"422 - Banco Safra",children:"422 - Banco Safra"}),e.jsx("option",{value:"748 - Sicredi",children:"748 - Sicredi"}),e.jsx("option",{value:"756 - Sicoob",children:"756 - Sicoob"}),e.jsx("option",{value:"Outro",children:"Outro"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tipo de Conta *"}),e.jsxs("select",{"aria-label":"Tipo de conta",value:Ce.accountType,onChange:W=>Ie(q=>({...q,accountType:W.target.value})),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",required:!0,children:[e.jsx("option",{value:"",children:"Selecione"}),e.jsx("option",{value:"Conta Corrente",children:"Conta Corrente"}),e.jsx("option",{value:"Conta Poupana",children:"Conta Poupana"}),e.jsx("option",{value:"Conta Pagamento",children:"Conta Pagamento"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Agncia *"}),e.jsx("input",{type:"text",value:Ce.agency,onChange:W=>Ie(q=>({...q,agency:W.target.value})),placeholder:"0001",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nmero da Conta *"}),e.jsx("input",{type:"text",value:Ce.account,onChange:W=>Ie(q=>({...q,account:W.target.value})),placeholder:"12345-6",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nome do Titular *"}),e.jsx("input",{type:"text",value:Ce.holderName,onChange:W=>Ie(q=>({...q,holderName:W.target.value})),placeholder:"Nome completo como consta no banco",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"CPF/CNPJ do Titular *"}),e.jsx("input",{type:"text",value:Ce.holderDocument,onChange:W=>Ie(q=>({...q,holderDocument:W.target.value})),placeholder:"123.456.789-00 ou 12.345.678/0001-00",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",required:!0})]})]}),["PayPal","PicPay","Mercado Pago","PagSeguro"].includes(se)&&e.jsxs("div",{className:"space-y-4 bg-purple-50 dark:bg-purple-900/10 p-4 rounded-lg border border-purple-200 dark:border-purple-800",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(Ht,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"}),e.jsx("h5",{className:"font-medium text-gray-900 dark:text-white",children:"Dados da Carteira Digital"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tipo de Identificador *"}),e.jsxs("select",{"aria-label":"Tipo de identificador",value:fe.walletType,onChange:W=>ye(q=>({...q,walletType:W.target.value})),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",required:!0,children:[e.jsx("option",{value:"",children:"Selecione o tipo"}),e.jsx("option",{value:"E-mail",children:"E-mail"}),e.jsx("option",{value:"Telefone",children:"Telefone"}),e.jsx("option",{value:"CPF",children:"CPF"}),e.jsx("option",{value:"ID da Conta",children:"ID da Conta"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[fe.walletType||"Identificador"," *"]}),e.jsx("input",{type:"text",value:fe.identifier,onChange:W=>ye(q=>({...q,identifier:W.target.value})),placeholder:fe.walletType==="E-mail"?"seu@email.com":fe.walletType==="Telefone"?"(11) 98765-4321":fe.walletType==="CPF"?"123.456.789-00":fe.walletType==="ID da Conta"?"ID123456":"Digite o identificador",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nome do Titular *"}),e.jsx("input",{type:"text",value:fe.holderName,onChange:W=>ye(q=>({...q,holderName:W.target.value})),placeholder:"Nome completo do titular da conta",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",required:!0})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("button",{type:"submit",disabled:A.isPending||C.isPending,className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors font-medium",children:A.isPending||C.isPending?"Salvando...":ie?"Atualizar Mtodo":"Adicionar Mtodo"}),e.jsx("button",{type:"button",onClick:()=>{me(!1),le(""),ge({keyType:"",keyValue:"",holderName:""}),Ie({bank:"",accountType:"",agency:"",account:"",holderName:"",holderDocument:""}),ye({walletType:"",identifier:"",holderName:""}),je(null)},className:"px-6 py-3 border-2 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors font-medium",children:"Cancelar"})]})]})]}),console.log("[SettingsPage] paymentMethodsData:",h),h&&h.length>0?e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:h.map(W=>{const q=typeof W.details=="string"?JSON.parse(W.details):W.details,Xe=W.type?.toUpperCase()||"",It=Xe==="PIX"?ga:Xe.includes("BANC")||Xe==="BANK"?ma:(Xe.includes("MERCADO"),Ht),Kt=()=>Xe==="PIX"?"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 border-blue-200 dark:border-blue-800":Xe.includes("BANC")||Xe==="BANK"?"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 border-green-200 dark:border-green-800":"bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400 border-purple-200 dark:border-purple-800";return e.jsxs("div",{className:"bg-white dark:bg-gray-700 border-2 border-gray-200 dark:border-gray-600 rounded-lg overflow-hidden hover:shadow-lg transition-all",children:[e.jsx("div",{className:`px-4 py-3 border-b ${Kt()}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-white/50 dark:bg-gray-900/30 rounded-lg",children:e.jsx(It,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:W.type}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:q.holderName||"Titular no informado"})]})]})}),e.jsxs("div",{className:"px-4 py-4 space-y-2",children:[W.type==="PIX"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400 font-medium",children:"Tipo de Chave:"}),e.jsx("span",{className:"text-gray-900 dark:text-white",children:q.keyType})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400 font-medium",children:"Chave:"}),e.jsx("span",{className:"text-gray-900 dark:text-white font-mono",children:q.keyValue})]})]}),W.type==="Transferncia Bancria"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400 font-medium",children:"Banco:"}),e.jsx("span",{className:"text-gray-900 dark:text-white",children:q.bank})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400 font-medium",children:"Tipo:"}),e.jsx("span",{className:"text-gray-900 dark:text-white",children:q.accountType})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400 font-medium",children:"Agncia:"}),e.jsx("span",{className:"ml-1 text-gray-900 dark:text-white font-mono",children:q.agency})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400 font-medium",children:"Conta:"}),e.jsx("span",{className:"ml-1 text-gray-900 dark:text-white font-mono",children:q.account})]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400 font-medium",children:"CPF/CNPJ:"}),e.jsx("span",{className:"text-gray-900 dark:text-white font-mono",children:q.holderDocument})]})]}),["PayPal","PicPay","Mercado Pago","PagSeguro"].includes(W.type)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400 font-medium",children:"Tipo:"}),e.jsx("span",{className:"text-gray-900 dark:text-white",children:q.walletType})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400 font-medium",children:"Identificador:"}),e.jsx("span",{className:"text-gray-900 dark:text-white font-mono",children:q.identifier})]})]}),q.raw&&e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:q.raw})]}),e.jsxs("div",{className:"px-4 py-3 bg-gray-50 dark:bg-gray-800 border-t border-gray-200 dark:border-gray-600 flex gap-2",children:[e.jsxs("button",{onClick:()=>wt(W),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 text-sm font-medium text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",children:[e.jsx(Md,{className:"w-4 h-4"}),"Editar"]}),e.jsxs("button",{onClick:()=>He(W.id),disabled:T.isPending,className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 text-sm font-medium text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors disabled:opacity-50",children:[e.jsx(ti,{className:"w-4 h-4"}),"Excluir"]})]})]},W.id)})}):e.jsxs("div",{className:"text-center py-12 bg-gray-50 dark:bg-gray-700/50 rounded-lg border-2 border-dashed border-gray-300 dark:border-gray-600",children:[e.jsx(Mr,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Voc ainda no tem mtodos de pagamento cadastrados"}),e.jsxs("button",{onClick:ze,className:"inline-flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(Sr,{className:"w-4 h-4"}),"Adicionar Primeiro Mtodo"]})]})]})]})]}),e.jsx(Zb,{toasts:I.toasts,onRemove:I.removeToast})]})},Fw=()=>{const{t:n}=cr(),r=mr(),{createWallet:a,restoreWallet:l,isCreating:u,getSupportedNetworks:h}=tn(),g=Vt(),[p,b]=j.useState("choose"),[f,w]=j.useState("create"),[v,k]=j.useState(!1),[A,C]=j.useState(!1),[T,I]=j.useState(null),[R,O]=j.useState(!1),[P,G]=j.useState({}),[Q,D]=j.useState([]),[B,$]=j.useState({name:"",network:"multi",passphrase:""}),[z,K]=j.useState({name:"",network:"multi",mnemonic:"",passphrase:""});h(),j.useEffect(()=>{console.log("[CreateWalletPage]  Auth state:",{isAuthenticated:g.isAuthenticated,hasUser:!!g.user,hasToken:!!g.token}),g.isAuthenticated||(console.warn("[CreateWalletPage]  User not authenticated, redirecting to login"),Te.error("Voc precisa estar autenticado para criar uma carteira"),r("/login",{replace:!0}))},[g.isAuthenticated,g.user,r]),j.useEffect(()=>{const se=le=>{T&&!R&&p!=="success"&&(le.preventDefault(),le.returnValue="Voc tem uma frase de recuperao no salva. Tem certeza que deseja sair?")};return window.addEventListener("beforeunload",se),()=>window.removeEventListener("beforeunload",se)},[T,R,p]);const re=se=>{const le=[];for(;le.length<3;){const de=Math.floor(Math.random()*se.length);le.includes(de)||le.push(de)}return le.sort((de,ge)=>de-ge)},F=async se=>{if(se.preventDefault(),!B.name){Te.error("Nome da carteira  obrigatrio");return}const le=Vt.getState();if(console.log("[CreateWallet]  PRE-FLIGHT CHECK:",{isAuthenticated:le.isAuthenticated,hasToken:!!le.token,tokenPreview:le.token?le.token.substring(0,30)+"...":"(null)",user:le.user?.email}),!le.isAuthenticated||!le.token){console.error("[CreateWallet]  PRE-FLIGHT FAILED: Not authenticated"),Te.error("Voc precisa estar autenticado. Por favor, faa login novamente."),r("/login",{replace:!0});return}try{console.log("[CreateWallet]  Starting wallet creation..."),console.log("[CreateWallet] Calling createWallet with data:",B);const de=await a(B);if(console.log("[CreateWallet]  Wallet created successfully:",de),I(de),de.mnemonic){const ge=de.mnemonic.split(" ");D(re(ge))}b("mnemonic-display"),Te.success("Carteira criada com sucesso!")}catch(de){console.error("[CreateWallet]  Error creating wallet:",de),console.error("[CreateWallet] Error details:",{message:de.message,status:de.status,code:de.code,details:de.details}),Te.error(`Erro ao criar carteira: ${de.message}`)}},X=async se=>{if(se.preventDefault(),!z.name||!z.mnemonic){Te.error("Nome e frase de recuperao so obrigatrios");return}try{await l(z),b("success"),Te.success("Carteira restaurada com sucesso!")}catch(le){Te.error(`Erro ao restaurar carteira: ${le.message}`)}},ae=async()=>{if(T?.mnemonic)try{await navigator.clipboard.writeText(T.mnemonic),C(!0),Te.success("Frase de recuperao copiada!"),setTimeout(()=>C(!1),2e3)}catch{Te.error("No foi possvel copiar a frase de recuperao")}},H=()=>{if(!T?.mnemonic)return!1;const se=T.mnemonic.split(" ");return Q.every(le=>{const de=P[le]?.toLowerCase().trim(),ge=se[le]?.toLowerCase();return de===ge})},ve=()=>{if(!v){Te.error("Voc precisa visualizar a frase de recuperao antes de prosseguir");return}b("mnemonic-confirm")},me=()=>{if(!H()){Te.error("As palavras digitadas no conferem. Verifique e tente novamente.");return}O(!0),b("success"),Te.success("Carteira configurada com sucesso!")},ie=()=>{if(!T?.mnemonic)return;const se=`HOLD Wallet - Backup da Frase de Recuperao
====================================

Nome da Carteira: ${T.name}
Tipo: Carteira Multi-Rede HD (Hierarchical Deterministic)
Data de Criao: ${new Date().toLocaleString("pt-BR")}

FRASE DE RECUPERAO (12 palavras):
${T.mnemonic}

REDES SUPORTADAS:
- Bitcoin (BTC) - Derivation Path: m/44'/0'/0'
- Ethereum (ETH) - Derivation Path: m/44'/60'/0'
- Litecoin (LTC) - Derivation Path: m/44'/2'/0'
- E outras criptomoedas compatveis com BIP44

INSTRUES DE SEGURANA:
- Esta frase de recuperao funciona para TODAS as criptomoedas
- Mantenha esta frase em local seguro e privado
- Nunca compartilhe com terceiros
- Use para recuperar sua carteira em qualquer dispositivo
- Exclua este arquivo aps guardar a frase em local seguro

====================================
HOLD Wallet - Sua carteira P2P segura
`,le=new Blob([se],{type:"text/plain"}),de=URL.createObjectURL(le),ge=document.createElement("a");ge.href=de,ge.download=`HOLD_Wallet_Backup_${T.name.replace(/\s+/g,"_")}.txt`,document.body.appendChild(ge),ge.click(),document.body.removeChild(ge),URL.revokeObjectURL(de)},je=()=>{const se=f==="create"?["Escolher Tipo","Formulrio","Frase de Recuperao","Confirmar Frase","Concludo"]:["Escolher Tipo","Restaurar","Concludo"],le=f==="create"?["choose","create-form","mnemonic-display","mnemonic-confirm","success"].indexOf(p):["choose","restore-form","success"].indexOf(p);return e.jsx("div",{className:"flex items-center justify-center mb-6 sm:mb-8",children:e.jsx("div",{className:"flex items-center overflow-x-auto min-w-max px-4",children:se.map((de,ge)=>e.jsxs(ot.Fragment,{children:[e.jsx("div",{className:`flex items-center justify-center w-6 h-6 sm:w-8 sm:h-8 rounded-full flex-shrink-0 ${ge<=le?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400"}`,children:ge<le?e.jsx(Pe,{className:"w-3 h-3 sm:w-5 sm:h-5"}):e.jsx("span",{className:"text-xs sm:text-sm font-medium",children:ge+1})}),ge<se.length-1&&e.jsx("div",{className:`w-8 sm:w-12 h-0.5 sm:h-1 mx-1 sm:mx-2 flex-shrink-0 ${ge<le?"bg-blue-600":"bg-gray-200 dark:bg-gray-700"}`})]},ge))})})};return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-4 sm:py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 mb-6 sm:mb-8",children:[e.jsx("button",{onClick:()=>r("/wallet"),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",title:"Voltar para carteiras",children:e.jsx(rs,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white truncate",children:f==="create"?"Criar Carteira Principal":"Restaurar Carteira Principal"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400 mt-1 line-clamp-2",children:f==="create"?"Crie uma carteira HD que suporta mltiplas criptomoedas":"Recupere sua carteira HD com a frase de recuperao"})]})]}),e.jsx("div",{className:"mb-6 sm:mb-8 overflow-x-auto",children:je()}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-4 sm:p-6 lg:p-8",children:[p==="choose"&&e.jsxs("div",{className:"text-center space-y-6 sm:space-y-8",children:[e.jsxs("div",{children:[e.jsx(Ht,{className:"w-12 h-12 sm:w-16 sm:h-16 text-blue-600 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Como deseja prosseguir?"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400 px-2",children:"Escolha entre criar uma nova carteira ou restaurar uma existente"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:gap-6 max-w-2xl mx-auto",children:[e.jsxs("button",{onClick:()=>{w("create"),b("create-form")},className:"p-4 sm:p-6 border-2 border-gray-200 dark:border-gray-700 rounded-xl hover:border-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all group",children:[e.jsx(Sr,{className:"w-10 h-10 sm:w-12 sm:h-12 text-blue-600 mx-auto mb-3 sm:mb-4 group-hover:scale-110 transition-transform"}),e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Criar Carteira Principal"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 px-2",children:"Crie uma carteira HD que suporta todas as criptomoedas com uma nica frase de recuperao"})]}),e.jsxs("button",{onClick:()=>{w("restore"),b("restore-form")},className:"p-4 sm:p-6 border-2 border-gray-200 dark:border-gray-700 rounded-xl hover:border-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all group",children:[e.jsx(ep,{className:"w-10 h-10 sm:w-12 sm:h-12 text-blue-600 mx-auto mb-3 sm:mb-4 group-hover:scale-110 transition-transform"}),e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Restaurar Carteira Principal"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 px-2",children:"Recupere sua carteira HD existente usando a frase de recuperao"})]})]})]}),p==="create-form"&&e.jsxs("form",{onSubmit:F,className:"max-w-md mx-auto space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"text-center mb-4 sm:mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Configurar Nova Carteira"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400 px-2",children:"Uma carteira multi-rede que suporta Bitcoin, Ethereum e outras criptomoedas"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Nome da Carteira"}),e.jsx("input",{type:"text",placeholder:"Ex: Minha Carteira Principal",value:B.name,onChange:se=>$(le=>({...le,name:se.target.value})),className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm sm:text-base",required:!0}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Esta carteira poder gerenciar mltiplas criptomoedas"})]}),e.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3 sm:p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx(Ur,{className:"h-4 w-4 sm:h-5 sm:w-5 text-blue-400 mr-2 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-blue-800 dark:text-blue-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ei,{className:"w-3 h-3 sm:w-4 sm:h-4"}),e.jsx("p",{className:"font-semibold text-xs sm:text-sm",children:"Carteira Multi-Rede"})]}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-xs sm:text-sm",children:[e.jsx("li",{children:"Uma nica frase de recuperao para todas as criptomoedas"}),e.jsx("li",{children:"Suporte a Bitcoin, Ethereum, e outras redes"}),e.jsx("li",{children:"Fcil gerenciamento de mltiplos ativos"}),e.jsx("li",{children:"Compatvel com padres HD Wallet (BIP32/BIP44)"})]})]})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Passphrase (Opcional)"}),e.jsx("input",{type:"password",placeholder:"Frase secreta adicional",value:B.passphrase,onChange:se=>$(le=>({...le,passphrase:se.target.value})),className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm sm:text-base"}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Adiciona uma camada extra de segurana (BIP39 passphrase)"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>b("choose"),className:"flex-1 px-4 sm:px-6 py-2.5 sm:py-3 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-sm sm:text-base",children:"Voltar"}),e.jsx("button",{type:"submit",disabled:u,className:"flex-1 px-4 sm:px-6 py-2.5 sm:py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors text-sm sm:text-base",children:u?"Criando...":"Criar Carteira"})]})]}),p==="restore-form"&&e.jsxs("form",{onSubmit:X,className:"max-w-md mx-auto space-y-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Restaurar Carteira"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Use sua frase de recuperao para restaurar sua carteira multi-rede"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Nome da Carteira"}),e.jsx("input",{type:"text",placeholder:"Ex: Carteira Restaurada",value:z.name,onChange:se=>K(le=>({...le,name:se.target.value})),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Frase de Recuperao"}),e.jsx("textarea",{placeholder:"Digite as 12 palavras da frase de recuperao separadas por espaos",value:z.mnemonic,onChange:se=>K(le=>({...le,mnemonic:se.target.value})),rows:4,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",required:!0}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"12 ou 24 palavras separadas por espaos"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Passphrase (se usada)"}),e.jsx("input",{type:"password",placeholder:"Frase secreta adicional (se definida)",value:z.passphrase,onChange:se=>K(le=>({...le,passphrase:se.target.value})),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),e.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx(Ur,{className:"h-5 w-5 text-green-400 mr-2 flex-shrink-0"}),e.jsxs("div",{className:"text-sm text-green-800 dark:text-green-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ws,{className:"w-4 h-4"}),e.jsx("p",{className:"font-semibold",children:"Restaurao Multi-Rede"})]}),e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsx("li",{children:"Restaura acesso a todas as suas criptomoedas"}),e.jsx("li",{children:"Bitcoin, Ethereum, e outras redes automaticamente"}),e.jsx("li",{children:"Mantm o histrico de transaes"}),e.jsx("li",{children:"Compatvel com outras carteiras HD"})]})]})]})}),e.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx(Nr,{className:"h-5 w-5 text-yellow-400 mr-2 flex-shrink-0"}),e.jsx("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:"Certifique-se de que est inserindo a frase de recuperao correta. Frases incorretas no conseguiro restaurar sua carteira."})]})}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>b("choose"),className:"flex-1 px-6 py-3 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Voltar"}),e.jsx("button",{type:"submit",disabled:u,className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors",children:u?"Restaurando...":"Restaurar Carteira"})]})]}),p==="mnemonic-display"&&T&&e.jsxs("div",{className:"max-w-2xl mx-auto space-y-6 sm:space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(dt,{className:"w-12 h-12 sm:w-16 sm:h-16 text-green-600 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Carteira Criada com Sucesso!"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400 px-2",children:"Agora voc precisa salvar sua frase de recuperao"})]}),e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3 sm:p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx(Nr,{className:"h-4 w-4 sm:h-5 sm:w-5 text-red-400 mr-2 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-red-800 dark:text-red-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Nr,{className:"w-3 h-3 sm:w-4 sm:h-4"}),e.jsx("p",{className:"font-semibold text-xs sm:text-sm",children:"ATENO - MUITO IMPORTANTE"})]}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-xs sm:text-sm",children:[e.jsx("li",{children:"Esta frase de recuperao  a NICA forma de recuperar sua carteira"}),e.jsx("li",{children:"Anote em local fsico e seguro (papel, metal)"}),e.jsx("li",{children:"NUNCA compartilhe ou digite em sites suspeitos"}),e.jsx("li",{children:"Se perd-la, voc perder acesso aos seus fundos PERMANENTEMENTE"})]})]})]})}),e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Nome da Carteira"}),e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded-lg border",children:[e.jsx("strong",{className:"text-gray-900 dark:text-white",children:T.name}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Tipo: Carteira Multi-Rede HD (Hierarchical Deterministic)"}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"Suporta Bitcoin, Ethereum, e outras criptomoedas"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Frase de Recuperao (12 palavras)"}),e.jsxs("button",{type:"button",onClick:()=>k(!v),className:"flex items-center gap-1 sm:gap-2 px-2 py-1 sm:px-3 sm:py-1 text-xs sm:text-sm bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:[v?e.jsx($r,{className:"w-3 h-3 sm:w-4 sm:h-4"}):e.jsx(lr,{className:"w-3 h-3 sm:w-4 sm:h-4"}),e.jsx("span",{className:"hidden sm:inline",children:v?"Ocultar":"Mostrar"})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"p-3 sm:p-6 bg-gray-50 dark:bg-gray-700 rounded-lg border-2 border-dashed border-gray-300 dark:border-gray-600 min-h-[120px] sm:min-h-[160px]",children:v?e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2 sm:gap-4",children:T.mnemonic?.split(" ").map((se,le)=>e.jsxs("div",{className:"flex items-center space-x-2 p-2 bg-white dark:bg-gray-800 rounded border",children:[e.jsxs("span",{className:"text-gray-500 text-xs font-mono w-4 sm:w-6",children:[le+1,"."]}),e.jsx("span",{className:"font-mono text-xs sm:text-sm break-all",children:se})]},le))}):e.jsxs("div",{className:"text-center text-gray-500 py-8 sm:py-16",children:[e.jsx($r,{className:"w-6 h-6 sm:w-8 sm:h-8 mx-auto mb-2"}),e.jsx("p",{className:"text-sm sm:text-base",children:'Clique em "Mostrar" para revelar a frase de recuperao'})]})}),v&&e.jsxs("button",{onClick:ae,className:"absolute top-2 right-2 sm:top-4 sm:right-4 flex items-center gap-1 sm:gap-2 px-2 py-1 sm:px-3 sm:py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-xs sm:text-sm",children:[A?e.jsx(nr,{className:"w-3 h-3 sm:w-4 sm:h-4 text-green-500"}):e.jsx(Fr,{className:"w-3 h-3 sm:w-4 sm:h-4"}),e.jsx("span",{className:"hidden sm:inline",children:A?"Copiado!":"Copiar"})]})]})]})]}),v&&e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("button",{onClick:ie,className:"flex items-center justify-center gap-2 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-sm",children:[e.jsx(ds,{className:"w-4 h-4"}),"Baixar Backup"]}),e.jsxs("button",{onClick:()=>window.print(),className:"flex items-center justify-center gap-2 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-sm",children:[e.jsx(Xx,{className:"w-4 h-4"}),"Imprimir"]})]}),e.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3 sm:p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx(Ur,{className:"h-4 w-4 sm:h-5 sm:w-5 text-blue-400 mr-2 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-xs sm:text-sm text-blue-800 dark:text-blue-200",children:[e.jsx("p",{className:"font-semibold mb-2",children:"Dicas de Segurana:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-xs sm:text-sm",children:[e.jsx("li",{children:"Anote as palavras na ordem exata em papel"}),e.jsx("li",{children:"Guarde o papel em cofre ou local muito seguro"}),e.jsx("li",{children:"Considere fazer mltiplas cpias em locais diferentes"}),e.jsx("li",{children:"Nunca tire foto ou salve digitalmente"})]})]})]})}),e.jsxs("div",{className:"text-center",children:[e.jsx("button",{onClick:ve,className:"w-full sm:w-auto px-6 sm:px-8 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium text-sm sm:text-base",children:"Eu Salvei a Frase de Recuperao - Continuar"}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Voc ser solicitado a confirmar algumas palavras"})]})]}),p==="mnemonic-confirm"&&T&&e.jsxs("div",{className:"max-w-md mx-auto space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(Pe,{className:"w-12 h-12 sm:w-16 sm:h-16 text-blue-600 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Confirme a Frase de Recuperao"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400 px-2",children:"Digite as palavras solicitadas para confirmar que voc salvou corretamente"})]}),e.jsx("div",{className:"space-y-3 sm:space-y-4",children:Q.map(se=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Palavra #",se+1]}),e.jsx("input",{type:"text",placeholder:`Digite a ${se+1} palavra`,value:P[se]||"",onChange:le=>G(de=>({...de,[se]:le.target.value})),className:"w-full px-3 py-2 sm:px-4 sm:py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm",autoComplete:"off"})]},se))}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4",children:[e.jsx("button",{onClick:()=>b("mnemonic-display"),className:"flex-1 px-4 py-2 sm:px-6 sm:py-3 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-sm sm:text-base",children:"Voltar"}),e.jsx("button",{onClick:me,className:"flex-1 px-4 py-2 sm:px-6 sm:py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm sm:text-base",children:"Confirmar e Finalizar"})]})]}),p==="success"&&e.jsxs("div",{className:"text-center space-y-4 sm:space-y-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center justify-center mb-4 sm:mb-6",children:e.jsx(Pe,{className:"w-16 h-16 sm:w-20 sm:h-20 text-green-500"})}),e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Carteira Configurada!"}),e.jsx("p",{className:"text-base sm:text-lg text-gray-600 dark:text-gray-400 mb-6 sm:mb-8 px-4",children:f==="create"?"Sua nova carteira foi criada e est pronta para usar":"Sua carteira foi restaurada com sucesso"})]}),e.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4 sm:p-6 text-left",children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-green-800 dark:text-green-200 mb-3",children:"Prximos Passos:"}),e.jsxs("ul",{className:"text-sm text-green-700 dark:text-green-300 space-y-2",children:[e.jsx("li",{children:" Sua carteira est pronta para receber fundos"}),e.jsx("li",{children:" Voc pode comear a fazer transaes P2P"}),e.jsx("li",{children:" Explore os recursos da plataforma HOLD"}),f==="create"&&e.jsx("li",{children:" Sua frase de recuperao est salva em local seguro"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[e.jsx(St,{to:"/wallet",className:"px-6 py-2 sm:px-8 sm:py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium text-sm sm:text-base text-center",children:"Ir para Carteira"}),e.jsx(St,{to:"/dashboard",className:"px-6 py-2 sm:px-8 sm:py-3 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors font-medium text-sm sm:text-base text-center",children:"Voltar ao Dashboard"})]})]})]})]})})},Bi="http://127.0.0.1:8000";class Uw{async startSeedVerification(r){try{const a=await fetch(`${Bi}/wallets/verify-seed-start`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({wallet_id:r})});if(!a.ok){const l=await a.json();throw new Error(l.detail||"Failed to start seed verification")}return await a.json()}catch(a){throw console.error("Error starting seed verification:",a),a}}async verifySeedWords(r,a){try{const l=await fetch(`${Bi}/wallets/verify-seed-words`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({wallet_id:r,selected_positions:a})});if(!l.ok){const u=await l.json();throw new Error(u.detail||"Verification failed")}return await l.json()}catch(l){throw console.error("Error verifying seed words:",l),l}}async exportSeedPhrase(r){try{const a=await fetch(`${Bi}/wallets/export-seed-phrase`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({wallet_id:r,selected_positions:[]})});if(!a.ok){const l=await a.json();throw new Error(l.detail||"Failed to export seed phrase")}return await a.json()}catch(a){throw console.error("Error exporting seed phrase:",a),a}}}const Li=new Uw,Vw="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%3e%3cg%20fill='none'%20fill-rule='evenodd'%3e%3ccircle%20cx='16'%20cy='16'%20r='16'%20fill='%23F7931A'/%3e%3cpath%20fill='%23FFF'%20fill-rule='nonzero'%20d='M23.189%2014.02c.314-2.096-1.283-3.223-3.465-3.975l.708-2.84-1.728-.43-.69%202.765c-.454-.114-.92-.22-1.385-.326l.695-2.783L15.596%206l-.708%202.839c-.376-.086-.746-.17-1.104-.26l.002-.009-2.384-.595-.46%201.846s1.283.294%201.256.312c.7.175.826.638.805%201.006l-.806%203.235c.048.012.11.03.18.057l-.183-.045-1.13%204.532c-.086.212-.303.531-.793.41.018.025-1.256-.313-1.256-.313l-.858%201.978%202.25.561c.418.105.828.215%201.231.318l-.715%202.872%201.727.43.708-2.84c.472.127.93.245%201.378.357l-.706%202.828%201.728.43.715-2.866c2.948.558%205.164.333%206.097-2.333.752-2.146-.037-3.385-1.588-4.192%201.13-.26%201.98-1.003%202.207-2.538zm-3.95%205.538c-.533%202.147-4.148.986-5.32.695l.95-3.805c1.172.293%204.929.872%204.37%203.11zm.535-5.569c-.487%201.953-3.495.96-4.47.717l.86-3.45c.975.243%204.118.696%203.61%202.733z'/%3e%3c/g%3e%3c/svg%3e",$w="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%3e%3cg%20fill='none'%20fill-rule='evenodd'%3e%3ccircle%20cx='16'%20cy='16'%20r='16'%20fill='%23627EEA'/%3e%3cg%20fill='%23FFF'%20fill-rule='nonzero'%3e%3cpath%20fill-opacity='.602'%20d='M16.498%204v8.87l7.497%203.35z'/%3e%3cpath%20d='M16.498%204L9%2016.22l7.498-3.35z'/%3e%3cpath%20fill-opacity='.602'%20d='M16.498%2021.968v6.027L24%2017.616z'/%3e%3cpath%20d='M16.498%2027.995v-6.028L9%2017.616z'/%3e%3cpath%20fill-opacity='.2'%20d='M16.498%2020.573l7.497-4.353-7.497-3.348z'/%3e%3cpath%20fill-opacity='.602'%20d='M9%2016.22l7.498%204.353v-7.701z'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",zw="data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20fill='none'%3e%3ccircle%20fill='%236F41D8'%20cx='16'%20cy='16'%20r='16'/%3e%3cpath%20d='M21.092%2012.693c-.369-.215-.848-.215-1.254%200l-2.879%201.654-1.955%201.078-2.879%201.653c-.369.216-.848.216-1.254%200l-2.288-1.294c-.369-.215-.627-.61-.627-1.042V12.19c0-.431.221-.826.627-1.042l2.25-1.258c.37-.216.85-.216%201.256%200l2.25%201.258c.37.216.628.611.628%201.042v1.654l1.955-1.115v-1.653a1.16%201.16%200%2000-.627-1.042l-4.17-2.372c-.369-.216-.848-.216-1.254%200l-4.244%202.372A1.16%201.16%200%20006%2011.076v4.78c0%20.432.221.827.627%201.043l4.244%202.372c.369.215.849.215%201.254%200l2.879-1.618%201.955-1.114%202.879-1.617c.369-.216.848-.216%201.254%200l2.251%201.258c.37.215.627.61.627%201.042v2.552c0%20.431-.22.826-.627%201.042l-2.25%201.294c-.37.216-.85.216-1.255%200l-2.251-1.258c-.37-.216-.628-.611-.628-1.042v-1.654l-1.955%201.115v1.653c0%20.431.221.827.627%201.042l4.244%202.372c.369.216.848.216%201.254%200l4.244-2.372c.369-.215.627-.61.627-1.042v-4.78a1.16%201.16%200%2000-.627-1.042l-4.28-2.409z'%20fill='%23FFF'/%3e%3c/g%3e%3c/svg%3e",Hw="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%3e%3cg%20fill='none'%3e%3ccircle%20cx='16'%20cy='16'%20r='16'%20fill='%23F3BA2F'/%3e%3cpath%20fill='%23FFF'%20d='M12.116%2014.404L16%2010.52l3.886%203.886%202.26-2.26L16%206l-6.144%206.144%202.26%202.26zM6%2016l2.26-2.26L10.52%2016l-2.26%202.26L6%2016zm6.116%201.596L16%2021.48l3.886-3.886%202.26%202.259L16%2026l-6.144-6.144-.003-.003%202.263-2.257zM21.48%2016l2.26-2.26L26%2016l-2.26%202.26L21.48%2016zm-3.188-.002h.002V16L16%2018.294l-2.291-2.29-.004-.004.004-.003.401-.402.195-.195L16%2013.706l2.293%202.293z'/%3e%3c/g%3e%3c/svg%3e",Ww="data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20fill='none'%3e%3ccircle%20fill='%23EF0027'%20cx='16'%20cy='16'%20r='16'/%3e%3cpath%20d='M21.932%209.913L7.5%207.257l7.595%2019.112%2010.583-12.894-3.746-3.562zm-.232%201.17l2.208%202.099-6.038%201.093%203.83-3.192zm-5.142%202.973l-6.364-5.278%2010.402%201.914-4.038%203.364zm-.453.934l-1.038%208.58L9.472%209.487l6.633%205.502zm.96.455l6.687-1.21-7.67%209.343.983-8.133z'%20fill='%23FFF'/%3e%3c/g%3e%3c/svg%3e",qw="data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20fill='none'%3e%3ccircle%20fill='%2366F9A1'%20cx='16'%20cy='16'%20r='16'/%3e%3cpath%20d='M9.925%2019.687a.59.59%200%2001.415-.17h14.366a.29.29%200%2001.207.497l-2.838%202.815a.59.59%200%2001-.415.171H7.294a.291.291%200%2001-.207-.498l2.838-2.815zm0-10.517A.59.59%200%200110.34%209h14.366c.261%200%20.392.314.207.498l-2.838%202.815a.59.59%200%2001-.415.17H7.294a.291.291%200%2001-.207-.497L9.925%209.17zm12.15%205.225a.59.59%200%2000-.415-.17H7.294a.291.291%200%2000-.207.498l2.838%202.815c.11.109.26.17.415.17h14.366a.291.291%200%2000.207-.498l-2.838-2.815z'%20fill='%23FFF'/%3e%3c/g%3e%3c/svg%3e",Gw="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%3e%3cg%20fill='none'%20fill-rule='evenodd'%3e%3ccircle%20cx='16'%20cy='16'%20r='16'%20fill='%23BFBBBB'/%3e%3cpath%20fill='%23FFF'%20d='M10.427%2019.214L9%2019.768l.688-2.759%201.444-.58L13.213%208h5.129l-1.519%206.196%201.41-.571-.68%202.75-1.427.571-.848%203.483H23L22.127%2024H9.252z'/%3e%3c/g%3e%3c/svg%3e",Xw="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%3e%3cg%20fill='none'%20fill-rule='evenodd'%3e%3ccircle%20cx='16'%20cy='16'%20r='16'%20fill='%23C3A634'/%3e%3cpath%20fill='%23FFF'%20d='M13.248%2014.61h4.314v2.286h-4.314v4.818h2.721c1.077%200%201.958-.145%202.644-.437.686-.291%201.224-.694%201.615-1.21a4.4%204.4%200%2000.796-1.815%2011.4%2011.4%200%2000.21-2.252%2011.4%2011.4%200%2000-.21-2.252%204.396%204.396%200%2000-.796-1.815c-.391-.516-.93-.919-1.615-1.21-.686-.292-1.567-.437-2.644-.437h-2.721v4.325zm-2.766%202.286H9v-2.285h1.482V8h6.549c1.21%200%202.257.21%203.142.627.885.419%201.607.99%202.168%201.715.56.724.977%201.572%201.25%202.543.273.971.409%202.01.409%203.115a11.47%2011.47%200%2001-.41%203.115c-.272.97-.689%201.819-1.25%202.543-.56.725-1.282%201.296-2.167%201.715-.885.418-1.933.627-3.142.627h-6.549v-7.104z'/%3e%3c/g%3e%3c/svg%3e",Qw="data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter%20x='-7.5%25'%20y='-6%25'%20width='115.5%25'%20height='117.2%25'%20filterUnits='objectBoundingBox'%20id='a'%3e%3cfeOffset%20dy='.5'%20in='SourceAlpha'%20result='shadowOffsetOuter1'/%3e%3cfeGaussianBlur%20stdDeviation='.5'%20in='shadowOffsetOuter1'%20result='shadowBlurOuter1'/%3e%3cfeColorMatrix%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200.204257246%200'%20in='shadowBlurOuter1'/%3e%3c/filter%3e%3cpath%20d='M15.725%206.06c.479-.247%201.064.324.81.795-.149.384-.71.486-.996.193-.303-.28-.204-.836.186-.989zm-5.155.546c.291-.118.66.144.63.457.03.338-.39.588-.687.427-.393-.15-.348-.778.057-.884zm10.558.893c-.455-.054-.527-.758-.09-.9.34-.162.652.143.702.46-.072.27-.302.518-.612.44zm-9.385%201.265c.487-.303%201.181.148%201.106.705-.025.561-.783.887-1.211.507-.414-.298-.351-.982.105-1.212zm7.43.322c.217-.55%201.097-.568%201.344-.032.245.417-.056.934-.491%201.076-.577.106-1.124-.508-.853-1.044zm-4.069%201.013c-.005-.474.433-.826.89-.859.304.06.634.187.764.488.243.416.027.987-.41%201.178-.2.11-.438.069-.656.056-.333-.16-.614-.477-.588-.863zm-7.666.69c.445-.27%201.045.22.876.696-.092.411-.654.578-.975.316-.343-.246-.289-.837.1-1.013zm16.462-.002c.377-.288%201%20.043.954.511.026.427-.513.75-.887.53-.412-.183-.455-.807-.067-1.04zm-6.64.851c.622-.22%201.362.043%201.716.59.468.667.22%201.683-.507%202.066-.752.453-1.851.07-2.13-.758-.315-.74.145-1.666.92-1.898zm-3.653.073c.69-.32%201.619-.052%201.952.642.392.676.089%201.617-.612%201.966-.702.393-1.693.095-2.032-.63-.381-.702-.043-1.655.692-1.978zM9.95%2012.94c.053-.437.472-.722.895-.752a.98.98%200%2001.87.857c-.03.45-.383.888-.867.886-.533.045-1-.477-.898-.991zm10.802-.656c.547-.313%201.306.142%201.282.76.037.655-.803%201.116-1.347.732-.566-.32-.522-1.22.065-1.492zm-8.63%202.307c.638-.173%201.37.123%201.683.701.343.582.203%201.39-.33%201.818-.685.626-1.946.374-2.31-.48-.419-.783.09-1.833.956-2.04zm6.927-.003c.621-.175%201.351.06%201.685.617.442.637.231%201.588-.426%201.998-.69.477-1.756.227-2.136-.519-.46-.771.003-1.861.877-2.096zm-11.04.726c.552-.205%201.164.394.94.933-.136.49-.839.672-1.202.31-.425-.34-.268-1.095.262-1.243zm14.969.782a.836.836%200%2001.788-.874c.378.06.746.36.716.765.035.535-.62.898-1.084.647-.217-.109-.328-.328-.42-.538zM5.294%2015.58c.332-.143.743.14.667.503-.018.411-.635.57-.861.226-.2-.239-.08-.606.194-.73zm20.949-.009c.234-.163.61-.046.702.223.157.294-.131.696-.467.647-.472.042-.624-.665-.235-.87zm-12.317%201.973c.874-.223%201.814.494%201.82%201.38.056.895-.87%201.688-1.764%201.482-.692-.11-1.235-.766-1.212-1.453-.002-.658.502-1.27%201.156-1.409zm3.462-.001c.887-.244%201.855.486%201.841%201.392.047.878-.85%201.645-1.726%201.47-.825-.104-1.433-.995-1.203-1.783.116-.524.562-.95%201.088-1.08zm-6.676.545c.614-.103%201.19.57.941%201.144-.182.612-1.086.777-1.486.278-.468-.48-.118-1.356.545-1.422zm10.154.027c.548-.226%201.22.24%201.178.825.022.643-.808%201.087-1.343.711-.607-.337-.496-1.33.165-1.536zm2.838%202.8c-.214-.393.175-.914.62-.841.22-.004.375.167.516.311.029.233.078.511-.119.69-.267.333-.872.238-1.017-.16zm-16.268-.732c.415-.271%201.012.134.918.61-.05.423-.59.664-.945.424-.382-.217-.368-.836.027-1.034zm8.193.883c.543-.235%201.235.23%201.183.818.04.65-.815%201.1-1.346.71-.59-.335-.491-1.321.163-1.528zm-3.794.871c.462-.239%201.082.174%201.04.684.014.418-.4.774-.82.712-.347-.007-.573-.314-.685-.605.006-.317.139-.67.465-.79zm7.686.008c.476-.29%201.152.126%201.107.67.012.57-.752.934-1.195.56-.428-.293-.376-.997.088-1.23zm1.337%203.25c-.212-.314.037-.693.38-.765.277.055.57.26.511.574-.04.427-.674.557-.891.192zm-10.611-.273c.084-.25.288-.497.587-.432.435.03.564.676.183.875-.342.227-.74-.084-.77-.443zm5.12.287c.083-.37.568-.549.888-.353.212.09.274.322.328.52a8.822%208.822%200%2000-.08.31c-.131.152-.3.305-.518.3-.405.047-.771-.404-.619-.777z'%20id='b'/%3e%3c/defs%3e%3cg%20fill='none'%3e%3ccircle%20cx='16'%20cy='16'%20r='16'%20fill='%230D1E30'/%3e%3cuse%20fill='%23000'%20filter='url(%23a)'%20xlink:href='%23b'/%3e%3cuse%20fill='%23FFF'%20xlink:href='%23b'/%3e%3c/g%3e%3c/svg%3e",Kw="data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20fill='none'%20fill-rule='evenodd'%3e%3ccircle%20fill='%23E84142'%20fill-rule='nonzero'%20cx='16'%20cy='16'%20r='16'/%3e%3cpath%20d='M11.518%2022.75H8.49c-.636%200-.95%200-1.142-.123A.77.77%200%20017%2022.025c-.012-.226.145-.503.46-1.055l7.472-13.193c.318-.56.48-.84.682-.944a.77.77%200%2001.698%200c.203.104.364.384.682.944l1.536%202.686.008.014c.343.6.517.906.593%201.226a2.26%202.26%200%20010%201.066c-.076.323-.249.63-.597%201.24l-3.926%206.95-.01.017c-.346.606-.52.913-.764%201.145a2.284%202.284%200%2001-.93.54c-.319.089-.675.089-1.387.089zm7.643%200h4.336c.64%200%20.962%200%201.154-.126a.768.768%200%2000.348-.607c.011-.219-.142-.484-.443-1.005l-.032-.054-2.172-3.722-.025-.042c-.305-.517-.46-.778-.657-.879a.762.762%200%2000-.693%200c-.2.104-.36.377-.678.925l-2.165%203.722-.007.013c-.317.548-.476.821-.464%201.046a.777.777%200%2000.348.606c.188.123.51.123%201.15.123z'%20fill='%23FFF'/%3e%3c/g%3e%3c/svg%3e",Yw="data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20fill='none'%3e%3ccircle%20fill='%23E6007A'%20cx='16'%20cy='16'%20r='16'/%3e%3cpath%20d='M16.272%206.625c-3.707%200-6.736%203.012-6.736%206.736%200%20.749.124%201.48.356%202.192a.95.95%200%20001.194.589.95.95%200%2000.588-1.194%204.745%204.745%200%2001-.267-1.73c.071-2.512%202.103-4.58%204.616-4.704a4.86%204.86%200%20015.115%204.847%204.862%204.862%200%2001-4.58%204.848s-.945.053-1.408.125c-.232.035-.41.071-.535.089-.054.018-.107-.036-.09-.09l.161-.783.873-4.028a.934.934%200%2000-.712-1.105.934.934%200%2000-1.105.713s-2.103%209.802-2.121%209.909a.934.934%200%2000.713%201.105.934.934%200%20001.105-.713c.017-.107.303-1.408.303-1.408a2.367%202.367%200%20011.996-1.854%2021.43%2021.43%200%20011.051-.089%206.744%206.744%200%20006.22-6.719c0-3.724-3.03-6.736-6.737-6.736zm.481%2015.505a1.122%201.122%200%2000-1.336.873c-.125.606.25%201.212.873%201.337a1.122%201.122%200%20001.337-.874c.124-.623-.25-1.212-.874-1.336z'%20fill='%23FFF'/%3e%3c/g%3e%3c/svg%3e",Zw="data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20fill='none'%3e%3ccircle%20fill='%232A5ADA'%20cx='16'%20cy='16'%20r='16'/%3e%3cpath%20d='M16%206l-1.799%201.055L9.3%209.945%207.5%2011v10l1.799%201.055%204.947%202.89L16.045%2026l1.799-1.055%204.857-2.89L24.5%2021V11l-1.799-1.055-4.902-2.89L16%206zm-4.902%2012.89v-5.78L16%2010.22l4.902%202.89v5.78L16%2021.78l-4.902-2.89z'%20fill='%23FFF'/%3e%3c/g%3e%3c/svg%3e",Jw="data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20fill='none'%3e%3ccircle%20cx='16'%20cy='16'%20r='16'%20fill='%23057BC1'/%3e%3cpath%20d='M16%204C9.373%204%204%209.373%204%2016s5.373%2012%2012%2012%2012-5.373%2012-12A12%2012%200%200016%204zm4.176%2016.527h-.488v2.732h-1.64v-2.732h-2.497v-1.015h2.537v-1.834a6.439%206.439%200%2001-4.332.702c-.82-.195-1.639-.643-2.068-1.385a4.587%204.587%200%2001-.586-2.38v-4.332h1.659v4.488c.039.975.663%201.951%201.62%202.244a4.991%204.991%200%20003.687-.586c0-1.366-.02-3.414%200-6.146h1.678v9.23h.43v1.014z'%20fill='%23FFF'/%3e%3c/g%3e%3c/svg%3e",ev="data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20fill='none'%3e%3ccircle%20cx='16'%20cy='16'%20r='16'%20fill='%2323292F'/%3e%3cpath%20d='M23.07%208h2.89l-6.015%205.957a5.621%205.621%200%2001-7.89%200L6.035%208H8.93l4.57%204.523a3.556%203.556%200%20004.996%200L23.07%208zM8.895%2024.563H6l6.055-5.993a5.621%205.621%200%20017.89%200L26%2024.562h-2.895L18.5%2020a3.556%203.556%200%2000-4.996%200l-4.61%204.563z'%20fill='%23FFF'/%3e%3c/g%3e%3c/svg%3e",tv=()=>{const[n,r]=j.useState(!0),[a,l]=j.useState("networks"),[u,h]=j.useState("15 minutos"),[g,p]=j.useState(!1),[b,f]=j.useState(!1),[w,v]=j.useState(!1),[k,A]=j.useState(!1),[C,T]=j.useState([]),[I,R]=j.useState([]),[O,P]=j.useState(""),[G,Q]=j.useState(!1),[D,B]=j.useState(""),[$,z]=j.useState({bitcoin:!0,ethereum:!0,polygon:!0,bsc:!0,tron:!0,base:!0,solana:!0,litecoin:!0,dogecoin:!0,cardano:!0,avalanche:!0,polkadot:!0,chainlink:!0,shiba:!0,xrp:!0}),[K,re]=j.useState({usdt:!0,usdc:!0});j.useEffect(()=>{const ue=localStorage.getItem("wallet_network_preferences"),ce=localStorage.getItem("wallet_show_all_networks"),ke=localStorage.getItem("wallet_token_preferences"),Ge=localStorage.getItem("wallet_lock_timeout"),_e=localStorage.getItem("wallet_require_password"),bt=localStorage.getItem("wallet_hide_sensitive_data");ue&&z(JSON.parse(ue)),ce!==null&&r(ce==="true"),ke&&re(JSON.parse(ke)),Ge&&h(Ge),_e!==null&&p(_e==="true"),bt!==null&&f(bt==="true")},[]);const F=ue=>{const ce={...$,[ue]:!$[ue]};z(ce),localStorage.setItem("wallet_network_preferences",JSON.stringify(ce)),Te.success(`Rede ${ue.toUpperCase()} ${ce[ue]?"ativada":"desativada"}`,{duration:2e3,position:"bottom-center"})},X=ue=>{const ce={...K,[ue]:!K[ue]};re(ce),localStorage.setItem("wallet_token_preferences",JSON.stringify(ce)),Te.success(`Token ${ue.toUpperCase()} ${ce[ue]?"ativado":"desativado"}`,{duration:2e3,position:"bottom-center"})},ae=()=>{const ue=!n;r(ue),localStorage.setItem("wallet_show_all_networks",ue.toString()),Te.success(ue?"Mostrando todas as redes":"Mostrando apenas redes selecionadas",{duration:2e3,position:"bottom-center"})},H=()=>{const ue={bitcoin:!0,ethereum:!0,polygon:!0,bsc:!0,tron:!0,base:!0,solana:!0,litecoin:!0,dogecoin:!0,cardano:!0,avalanche:!0,polkadot:!0,chainlink:!0,shiba:!0,xrp:!0};z(ue),localStorage.setItem("wallet_network_preferences",JSON.stringify(ue)),Te.success("Todas as redes ativadas",{duration:2e3,position:"bottom-center"})},ve=()=>{const ue={bitcoin:!1,ethereum:!1,polygon:!1,bsc:!1,tron:!1,base:!1,solana:!1,litecoin:!1,dogecoin:!1,cardano:!1,avalanche:!1,polkadot:!1,chainlink:!1,shiba:!1,xrp:!1};z(ue),localStorage.setItem("wallet_network_preferences",JSON.stringify(ue)),Te.success("Todas as redes desativadas",{duration:2e3,position:"bottom-center"})},me=ue=>{h(ue),localStorage.setItem("wallet_lock_timeout",ue),Te.success(`Bloqueio automtico definido para ${ue}`,{duration:2e3,position:"bottom-center"})},ie=()=>{const ue=!g;p(ue),localStorage.setItem("wallet_require_password",String(ue)),Te.success(ue?"Confirmao por senha ativada":"Confirmao por senha desativada",{duration:2e3,position:"bottom-center"})},je=()=>{localStorage.removeItem("wallet_cache_data"),sessionStorage.clear(),Te.success("Cache limpo com sucesso",{duration:2e3,position:"bottom-center"})},se=()=>{const ue=!b;f(ue),localStorage.setItem("wallet_hide_sensitive_data",String(ue)),Te.success(ue?"Dados sensveis ocultados":"Dados sensveis visveis",{duration:2e3,position:"bottom-center"})},le=async()=>{const ue="default-wallet";try{Q(!0);const ce=await Li.startSeedVerification(ue);R(ce.required_positions),T([]),A(!1),P(""),v(!0),Te.success("Posies geradas. Verifique sua seed escrita em papel.",{duration:2e3,position:"bottom-center"})}catch(ce){Te.error("Erro ao iniciar verificao de seed",{duration:2e3,position:"bottom-center"}),console.error("Error starting seed verification:",ce)}finally{Q(!1)}},de=async ue=>{const ce="default-wallet";if(C.includes(ue))T(C.filter(ke=>ke!==ue));else{const ke=[...C,ue];if(T(ke),ke.length===3)try{if(Q(!0),(await Li.verifySeedWords(ce,ke)).verified){A(!0),P("");const _e=await Li.exportSeedPhrase(ce);B(_e.seed_phrase),Te.success("Verificao bem-sucedida! Seed desbloqueada.",{duration:2e3,position:"bottom-center"})}else T([]),P(" Seleo incorreta. Verifique sua seed phrase no papel e tente novamente."),Te.error("Palavras no correspondem  sua seed phrase.",{duration:2e3,position:"bottom-center"})}catch(Ge){T([]),P(" Erro na verificao. Tente novamente."),Te.error("Erro ao verificar seed phrase",{duration:2e3,position:"bottom-center"}),console.error("Error verifying seed:",Ge)}finally{Q(!1)}}},ge=()=>{v(!1),A(!1),T([]),R([]),P("")},Ce=()=>{Te.success("Abrir modal para exportar chaves privadas",{duration:2e3,position:"bottom-center"})},Ie=()=>{Te.success("Iniciando download do backup criptografado",{duration:2e3,position:"bottom-center"})},fe=()=>{Te.success("Gerenciador de histrico em desenvolvimento",{duration:2e3,position:"bottom-center"})},ye=[{key:"bitcoin",name:"Bitcoin",symbol:"BTC",logo:Vw,color:"bg-orange-500"},{key:"ethereum",name:"Ethereum",symbol:"ETH",logo:$w,color:"bg-blue-500"},{key:"polygon",name:"Polygon",symbol:"MATIC",logo:zw,color:"bg-purple-500"},{key:"bsc",name:"BNB Smart Chain",symbol:"BNB",logo:Hw,color:"bg-yellow-500"},{key:"tron",name:"Tron",symbol:"TRX",logo:Ww,color:"bg-red-500"},{key:"base",name:"Base",symbol:"BASE",logo:null,color:"bg-blue-600"},{key:"solana",name:"Solana",symbol:"SOL",logo:qw,color:"bg-purple-600"},{key:"litecoin",name:"Litecoin",symbol:"LTC",logo:Gw,color:"bg-gray-500"},{key:"dogecoin",name:"Dogecoin",symbol:"DOGE",logo:Xw,color:"bg-yellow-400"},{key:"cardano",name:"Cardano",symbol:"ADA",logo:Qw,color:"bg-blue-700"},{key:"avalanche",name:"Avalanche",symbol:"AVAX",logo:Kw,color:"bg-red-600"},{key:"polkadot",name:"Polkadot",symbol:"DOT",logo:Yw,color:"bg-pink-600"},{key:"chainlink",name:"Chainlink",symbol:"LINK",logo:Zw,color:"bg-blue-700"},{key:"shiba",name:"Shiba Inu",symbol:"SHIB",logo:Jw,color:"bg-orange-600"},{key:"xrp",name:"XRP (Ripple)",symbol:"XRP",logo:ev,color:"bg-gray-700"}],Re={bitcoin:"bg-orange-500 ring-orange-400",ethereum:"bg-blue-500 ring-blue-400",polygon:"bg-purple-500 ring-purple-400",bsc:"bg-yellow-500 ring-yellow-400",tron:"bg-red-500 ring-red-400",base:"bg-blue-600 ring-blue-500",solana:"bg-purple-600 ring-purple-500",litecoin:"bg-gray-500 ring-gray-400",dogecoin:"bg-yellow-400 ring-yellow-300",cardano:"bg-blue-700 ring-blue-600",avalanche:"bg-red-600 ring-red-500",polkadot:"bg-pink-600 ring-pink-500",chainlink:"bg-blue-700 ring-blue-600",shiba:"bg-orange-600 ring-orange-500",xrp:"bg-gray-700 ring-gray-600"};return e.jsxs("div",{className:"space-y-6 max-w-5xl mx-auto",children:[e.jsx(vo,{}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl flex items-center justify-center",children:e.jsx(hs,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Configuraes de Carteira"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-1",children:"Gerencie suas redes, backup e privacidade"})]})]}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:e.jsx("div",{className:"flex space-x-1 p-1 bg-gray-100 dark:bg-gray-700/50",children:[{id:"networks",label:"Redes",icon:To},{id:"security",label:"Segurana",icon:dt},{id:"backup",label:"Backup",icon:ds},{id:"privacy",label:"Privacidade",icon:Or},{id:"about",label:"Sobre",icon:Ur}].map(ue=>e.jsxs("button",{onClick:()=>l(ue.id),className:`flex-1 flex items-center justify-center gap-2 py-3 px-4 rounded-lg font-medium transition-all ${a===ue.id?"bg-white dark:bg-gray-800 text-blue-600 dark:text-blue-400 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,children:[e.jsx(ue.icon,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:ue.label})]},ue.id))})}),e.jsxs("div",{className:"space-y-6",children:[a==="networks"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1",children:"Modo de Visualizao"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:n?"Mostrando endereo multi geral para todas as redes":"Mostrando apenas redes selecionadas abaixo"})]}),e.jsx("button",{title:"Alternar modo de visualizao",onClick:ae,className:`relative inline-flex h-8 w-14 items-center rounded-full transition-colors ${n?"bg-blue-600":"bg-gray-300 dark:bg-gray-600"}`,children:e.jsx("span",{className:`inline-block h-6 w-6 transform rounded-full bg-white transition-transform ${n?"translate-x-7":"translate-x-1"}`})})]})}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1",children:"Redes Suportadas"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Selecione quais redes voc deseja visualizar na sua carteira"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{title:"Selecionar todas as redes",onClick:H,className:"px-3 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Selecionar Todas"}),e.jsx("button",{title:"Desmarcar todas as redes",onClick:ve,className:"px-3 py-2 text-sm bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-200 rounded-lg hover:bg-gray-400 dark:hover:bg-gray-500 transition-colors",children:"Desmarcar Todas"})]})]}),e.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 gap-3",children:ye.map(ue=>e.jsxs("button",{onClick:()=>F(ue.key),className:`relative flex flex-col items-center justify-center p-4 rounded-xl cursor-pointer transition-all duration-200 transform hover:scale-105 ${$[ue.key]?`${Re[ue.key]} text-white shadow-lg ring-2 ring-offset-2 ring-offset-white dark:ring-offset-gray-900`:"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,title:ue.name,children:[ue.logo?e.jsx("img",{src:ue.logo,alt:ue.name,className:"w-8 h-8 mb-2 object-contain"}):e.jsx(or,{symbol:ue.symbol,size:32,className:"mb-2"}),e.jsx("p",{className:"text-xs font-semibold text-center",children:ue.symbol}),$[ue.key]&&e.jsx("div",{className:"absolute top-1 right-1 w-5 h-5 bg-white dark:bg-gray-900 rounded-full flex items-center justify-center",children:e.jsx(nr,{className:"w-3 h-3 text-green-600"})})]},ue.key))})]}),e.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-xl p-6 border border-blue-200 dark:border-blue-800",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:e.jsx(hs,{className:"w-5 h-5 text-white"})})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-blue-900 dark:text-blue-200 mb-2",children:" Sobre as Configuraes"}),e.jsxs("ul",{className:"text-sm text-blue-800 dark:text-blue-300 space-y-1",children:[e.jsxs("li",{children:[" ",e.jsx("strong",{children:"Modo Geral:"})," Mostra um endereo multi para todas as redes EVM (ETH, MATIC, BNB, etc.)"]}),e.jsxs("li",{children:[" ",e.jsx("strong",{children:"Modo Customizado:"})," Mostra apenas as redes que voc selecionou"]}),e.jsxs("li",{children:[" ",e.jsx("strong",{children:"Endereos EVM:"})," Ethereum, Polygon, BSC e Base compartilham o mesmo endereo"]}),e.jsxs("li",{children:[" ",e.jsx("strong",{children:"Redes Independentes:"})," Bitcoin e Tron tm endereos nicos"]})]})]})]})}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1",children:"Preferncias de Stablecoins"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Escolha quais stablecoins voc deseja visualizar"})]})}),e.jsx("div",{className:"space-y-3",children:[{key:"usdt",name:"USDT (Tether)",description:"Disponvel em Ethereum, Polygon, BSC, Tron, Base e mais",color:"from-green-400 to-green-600"},{key:"usdc",name:"USDC (USD Coin)",description:"Disponvel em Ethereum, Polygon, Arbitrum, Optimism, Base",color:"from-blue-400 to-blue-600"}].map(ue=>e.jsxs("button",{onClick:()=>X(ue.key),className:`w-full relative flex items-center justify-between p-4 rounded-xl border-2 transition-all cursor-pointer ${K[ue.key]?"bg-gradient-to-r "+ue.color+" border-transparent text-white shadow-lg":"bg-gray-50 dark:bg-gray-700 border-gray-200 dark:border-gray-600 text-gray-900 dark:text-white hover:border-gray-300 dark:hover:border-gray-500"}`,children:[e.jsxs("div",{className:"text-left",children:[e.jsx("h4",{className:"font-semibold",children:ue.name}),e.jsx("p",{className:`text-sm mt-1 ${K[ue.key]?"text-white/90":"text-gray-600 dark:text-gray-400"}`,children:ue.description})]}),e.jsx("div",{className:`flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center border-2 transition-all ${K[ue.key]?"bg-white border-white":"border-gray-300 dark:border-gray-500"}`,children:K[ue.key]&&e.jsx(nr,{className:"w-4 h-4 text-green-600"})})]},ue.key))}),e.jsx("div",{className:"mt-4 p-4 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg",children:e.jsxs("p",{className:"text-sm text-amber-800 dark:text-amber-200",children:[" ",e.jsx("strong",{children:"Dica:"})," Os stablecoins aparecem em vrios blockchains. Ativar/desativar aqui ir mostrar ou esconder todos os pares nos diferentes blockchains."]})})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Padres de Tokens Suportados"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"ERC-20"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Tokens na rede Ethereum"})]}),e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"BEP-20"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Tokens na BNB Smart Chain"})]}),e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"TRC-20"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Tokens na rede Tron"})]}),e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Polygon (POL)"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Tokens na rede Polygon"})]}),e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Base"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Tokens na rede Base (L2)"})]}),e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Bitcoin"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"BTC nativo"})]})]})]})]}),a==="security"&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center",children:e.jsx(dt,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Segurana da Carteira"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Configuraes especficas de segurana da carteira"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Or,{className:"w-5 h-5 text-purple-600"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Tempo de Bloqueio Automtico"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Bloqueie a carteira aps inatividade"})]})]}),e.jsxs("select",{title:"Selecione o tempo de bloqueio",value:u,onChange:ue=>me(ue.target.value),className:"px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 rounded-lg text-gray-900 dark:text-white",children:[e.jsx("option",{children:"5 minutos"}),e.jsx("option",{children:"10 minutos"}),e.jsx("option",{children:"15 minutos"}),e.jsx("option",{children:"30 minutos"}),e.jsx("option",{children:"1 hora"}),e.jsx("option",{children:"Nunca"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Or,{className:"w-5 h-5 text-orange-600"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Confirmar com Senha"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Solicitar senha para transaes acima de um valor"})]})]}),e.jsx("button",{title:"Ativar confirmao por senha para transaes",onClick:ie,className:`relative inline-flex h-8 w-14 items-center rounded-full transition-colors ${g?"bg-blue-600":"bg-gray-300 dark:bg-gray-600"}`,children:e.jsx("span",{className:`inline-block h-6 w-6 transform rounded-full bg-white transition-transform ${g?"translate-x-7":"translate-x-1"}`})})]})]}),e.jsx("div",{className:"mt-4 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[" ",e.jsx("strong",{children:"Para 2FA e mais segurana:"})," Acesse"," ",e.jsx("a",{href:"/settings",className:"underline hover:no-underline",children:"Configuraes de Conta"})," ","para habilitar autenticao de dois fatores."]})})]}),a==="backup"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg",children:[e.jsx("div",{className:"flex items-start justify-between mb-3",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Nr,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-amber-900 dark:text-amber-200",children:"Frase de Recuperao (Seed Phrase)"}),e.jsx("p",{className:"text-sm text-amber-800 dark:text-amber-300 mt-1",children:"Guarde sua frase de 12 ou 24 palavras em um local seguro. Quem tiver acesso a ela poder acessar toda a sua carteira."})]})]})}),e.jsx("button",{title:"Ver frase de recuperao da carteira",onClick:le,className:"w-full px-4 py-2 text-sm bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition-colors font-medium",children:"Ver Frase de Recuperao"})]}),e.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:[e.jsx("div",{className:"flex items-start justify-between mb-3",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Nr,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-red-900 dark:text-red-200",children:"Chaves Privadas"}),e.jsx("p",{className:"text-sm text-red-800 dark:text-red-300 mt-1",children:"Exporte suas chaves privadas de forma segura. Nunca compartilhe com ningum."})]})]})}),e.jsx("button",{title:"Exportar chaves privadas da carteira",onClick:Ce,className:"w-full px-4 py-2 text-sm bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium",children:"Exportar Chaves Privadas"})]}),e.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[e.jsx("div",{className:"flex items-start justify-between mb-3",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Io,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-blue-900 dark:text-blue-200",children:"Backup Criptografado"}),e.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-300 mt-1",children:"Faa download de um arquivo de backup criptografado de toda sua carteira."})]})]})}),e.jsx("button",{title:"Fazer download de backup criptografado",onClick:Ie,className:"w-full px-4 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Fazer Download do Backup"})]})]}),a==="privacy"&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Privacidade e Dados"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Limpar Cache"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Limpar dados temporrios da carteira"})]}),e.jsx("button",{title:"Limpar cache da carteira",onClick:je,className:"px-4 py-2 text-sm bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-200 rounded-lg hover:bg-gray-400 transition-colors",children:"Limpar"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Ocultar Dados Sensveis"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Ocultar saldos e endereos por padro"})]}),e.jsx("button",{title:"Alternar ocultao de dados sensveis",onClick:se,className:`relative inline-flex h-8 w-14 items-center rounded-full transition-colors ${b?"bg-blue-600":"bg-gray-300 dark:bg-gray-600"}`,children:e.jsx("span",{className:`inline-block h-6 w-6 transform rounded-full bg-white transition-transform ${b?"translate-x-7":"translate-x-1"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Histrico de Transaes"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Gerenciar histrico de transaes"})]}),e.jsx("button",{title:"Gerenciar histrico de transaes",onClick:fe,className:"px-4 py-2 text-sm bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-200 rounded-lg hover:bg-gray-400 transition-colors",children:"Gerenciar"})]})]})]}),a==="about"&&e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 rounded-xl border border-blue-200 dark:border-blue-800 p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:e.jsx(Ur,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Sobre HOLD Wallet"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Informaes do aplicativo"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Verso do Aplicativo"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"1.0.0"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"ltima Atualizao"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"7 de dezembro de 2025"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Redes Suportadas"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"15 Blockchains"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Status"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsx("p",{className:"text-lg font-semibold text-green-600 dark:text-green-400",children:"Online"})]})]})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-blue-200 dark:border-blue-800",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:" HOLD Wallet  uma carteira descentralizada e de cdigo aberto. Seus fundos esto sempre sob seu controle."}),e.jsxs("div",{className:"flex gap-3 flex-wrap",children:[e.jsx("button",{title:"Ler os termos de servio",className:"px-4 py-2 text-sm text-blue-600 dark:text-blue-400 hover:underline",children:"Termos de Servio"}),e.jsx("button",{title:"Ler poltica de privacidade",className:"px-4 py-2 text-sm text-blue-600 dark:text-blue-400 hover:underline",children:"Poltica de Privacidade"}),e.jsx("button",{title:"Visitar repositrio GitHub",className:"px-4 py-2 text-sm text-blue-600 dark:text-blue-400 hover:underline",children:"GitHub"}),e.jsx("button",{title:"Obter suporte",className:"px-4 py-2 text-sm text-blue-600 dark:text-blue-400 hover:underline",children:"Suporte"})]})]})]})]}),w&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"sticky top-0 bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-900/30 dark:to-orange-900/30 p-6 border-b border-amber-200 dark:border-amber-800",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-amber-600 rounded-lg flex items-center justify-center",children:e.jsx(Nr,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Frase de Recuperao"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Verifique sua identidade para acessar"})]})]}),e.jsx("button",{onClick:ge,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",title:"Fechar modal",children:""})]})}),e.jsx("div",{className:"p-6",children:k?e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4",children:e.jsx("p",{className:"text-sm text-green-800 dark:text-green-200",children:" Verificao concluda com sucesso! Sua frase de recuperao est segura."})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-3",children:"Sua Frase de Recuperao (12 palavras)"}),e.jsx("div",{className:"bg-gray-50 dark:bg-gray-700/50 border-2 border-gray-200 dark:border-gray-600 rounded-lg p-4",children:e.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-3",children:D.split(" ").map((ue,ce)=>e.jsxs("div",{className:"bg-white dark:bg-gray-700 p-3 rounded-lg text-center border border-gray-200 dark:border-gray-600",children:[e.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 block mb-1",children:["#",ce+1]}),e.jsx("span",{className:"font-mono font-semibold text-gray-900 dark:text-white",children:ue})]},`seed-${ce}-${ue}`))})}),e.jsx("div",{className:"mt-4 p-4 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg",children:e.jsxs("p",{className:"text-xs text-amber-800 dark:text-amber-200",children:[" ",e.jsx("strong",{children:"Aviso Importante:"})," Guarde esta frase de forma segura. Nunca compartilhe com ningum. Quem tiver acesso a ela pode acessar todas as suas criptomoedas."]})}),e.jsx("button",{onClick:()=>{navigator.clipboard.writeText(D),Te.success("Seed phrase copiada para a rea de transferncia!",{duration:2e3,position:"bottom-center"})},className:"w-full mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",title:"Copiar seed phrase",children:" Copiar Frase"})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:e.jsxs("p",{className:"text-sm text-red-900 dark:text-red-200",children:[e.jsx("strong",{children:" Verificao de Identidade:"})," Voc precisa ter sua frase de recuperao escrita em um local seguro. Clique em 3 palavras especficas da sua seed para confirmar que voc realmente a possui."]})}),O&&e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:e.jsx("p",{className:"text-sm text-red-800 dark:text-red-200",children:O})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-4",children:"Selecione 3 palavras da sua seed phrase:"}),e.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-2",children:D&&D.split(" ").map((ue,ce)=>{const ke=C.includes(ce);return e.jsxs("button",{onClick:()=>de(ce),className:`relative p-3 rounded-lg font-mono text-sm font-semibold transition-all border-2 ${ke?"bg-green-600 text-white border-green-600 shadow-lg scale-105":"bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-200 border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500"}`,disabled:C.length===3&&!ke||G,type:"button",title:`Palavra ${ce+1}`,children:[e.jsxs("span",{className:"text-xs opacity-70 block mb-0.5",children:["#",ce+1]}),ue]},`word-${ce}-${ue}`)})})]}),e.jsx("div",{className:"text-center",children:e.jsxs("span",{className:"text-lg font-bold text-gray-700 dark:text-gray-300",children:["Palavras selecionadas:"," ",e.jsx("span",{className:"text-blue-600",children:C.length}),"/3"]})})]})}),e.jsx("div",{className:"sticky bottom-0 bg-gray-50 dark:bg-gray-700/50 border-t border-gray-200 dark:border-gray-700 p-6",children:e.jsx("button",{onClick:ge,className:"w-full px-4 py-2 bg-gray-300 dark:bg-gray-600 text-gray-900 dark:text-white rounded-lg hover:bg-gray-400 dark:hover:bg-gray-500 transition-colors font-medium",type:"button",children:"Fechar"})})]})})]})},rv=[{network:"ethereum",name:"Ethereum",standard:"ERC-20",addressFormat:"0x... (42 caracteres)",addressExample:"0xa444dd83b3876bbf77e4ad45fdbcbb9c1b65bdb4",gasToken:"ETH",avgFee:"$5 - $50",speed:"~15 segundos - 5 minutos",supported:["ETH","USDT","USDC","DAI","LINK","UNI"],color:"from-blue-400 to-purple-600"},{network:"bsc",name:"Binance Smart Chain",standard:"BEP-20",addressFormat:"0x... (42 caracteres)",addressExample:"0xa444dd83b3876bbf77e4ad45fdbcbb9c1b65bdb4",gasToken:"BNB",avgFee:"$0.10 - $1",speed:"~3 segundos",supported:["BNB","USDT (BEP-20)","BUSD","CAKE"],color:"from-yellow-400 to-yellow-600"},{network:"polygon",name:"Polygon",standard:"Polygon/MATIC",addressFormat:"0x... (42 caracteres)",addressExample:"0xa444dd83b3876bbf77e4ad45fdbcbb9c1b65bdb4",gasToken:"MATIC",avgFee:"$0.01 - $0.10",speed:"~2 segundos",supported:["MATIC","USDT","USDC","WETH"],color:"from-purple-400 to-purple-600"},{network:"tron",name:"Tron",standard:"TRC-20",addressFormat:"T... (34 caracteres Base58)",addressExample:"TNPbJ4pkUgbWthRBUpcjQ4365MVTHtX9rr",gasToken:"TRX (ou Energy/Bandwidth)",avgFee:"$0.01 - $2",speed:"~3 segundos",supported:["TRX","USDT (TRC-20)","USDC"],color:"from-red-400 to-red-600"},{network:"base",name:"Base (Coinbase L2)",standard:"Base (EVM)",addressFormat:"0x... (42 caracteres)",addressExample:"0xa444dd83b3876bbf77e4ad45fdbcbb9c1b65bdb4",gasToken:"ETH",avgFee:"$0.01 - $0.50",speed:"~2 segundos",supported:["ETH","USDC","Base tokens"],color:"from-blue-500 to-blue-700"},{network:"bitcoin",name:"Bitcoin",standard:"Bitcoin Native",addressFormat:"1... ou 3... ou bc1... (26-62 caracteres)",addressExample:"1BnSh5izr7R45TEuAT5qMuy8cUeoBAywZ",gasToken:"BTC (Satoshis)",avgFee:"$1 - $10",speed:"~10-60 minutos",supported:["BTC apenas"],color:"from-orange-400 to-orange-600"}],sv=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl p-6 text-white",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(Mx,{className:"w-8 h-8"}),e.jsx("h2",{className:"text-2xl font-bold",children:"Comparao de Redes Blockchain"})]}),e.jsx("p",{className:"text-blue-100",children:"Entenda as diferenas entre as redes suportadas pela HOLDWallet"})]}),e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border-2 border-red-300 dark:border-red-700 rounded-xl p-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(rt,{className:"w-8 h-8 text-red-600 dark:text-red-400 flex-shrink-0"}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-bold text-red-900 dark:text-red-100 mb-2 flex items-center gap-2",children:[e.jsx(dt,{className:"w-5 h-5"}),"ATENO: Escolher a rede errada = PERDA PERMANENTE DE FUNDOS"]}),e.jsxs("div",{className:"text-sm text-red-800 dark:text-red-200 space-y-2",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Exemplo comum de erro:"})," Voc quer enviar ",e.jsx("strong",{children:"USDT"}),", mas existem 4 verses:"]}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[e.jsx("li",{children:"USDT (ERC-20) na Ethereum"}),e.jsx("li",{children:"USDT (BEP-20) na BSC"}),e.jsx("li",{children:"USDT (TRC-20) na Tron"}),e.jsx("li",{children:"USDT (Polygon) na Polygon"})]}),e.jsxs("p",{className:"mt-3 font-semibold",children:["Se voc enviar USDT (TRC-20) para um endereo que s aceita USDT (ERC-20),",e.jsx("span",{className:"text-red-600 dark:text-red-400",children:" os fundos sero perdidos para sempre!"})]})]})]})]})}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:rv.map(n=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:[e.jsx("div",{className:`bg-gradient-to-r ${n.color} p-4`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(To,{className:"w-6 h-6 text-white"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:n.name}),e.jsx("p",{className:"text-sm text-white/90",children:n.standard})]})]})}),e.jsxs("div",{className:"p-4 space-y-3",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase flex items-center gap-1",children:[e.jsx(Ur,{className:"w-3 h-3"}),"Formato de Endereo"]}),e.jsx("p",{className:"text-sm text-gray-900 dark:text-white font-mono",children:n.addressFormat}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 break-all",children:["Ex: ",n.addressExample]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase flex items-center gap-1",children:[e.jsx(ct,{className:"w-3 h-3"}),"Token de Gas (Taxa)"]}),e.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:n.gasToken})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase flex items-center gap-1",children:[e.jsx(ss,{className:"w-3 h-3"}),"Taxa Mdia"]}),e.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:n.avgFee})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase flex items-center gap-1 justify-end",children:[e.jsx(Ed,{className:"w-3 h-3"}),"Velocidade"]}),e.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:n.speed})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase mb-2 block",children:"Tokens Suportados"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:n.supported.map(r=>e.jsx("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded text-xs font-medium text-gray-700 dark:text-gray-300",children:r},r))})]})]})]},n.network))}),e.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-xl p-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Pe,{className:"w-6 h-6 text-green-600 dark:text-green-400 flex-shrink-0 mt-1"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"text-lg font-bold text-green-900 dark:text-green-100 flex items-center gap-2",children:[e.jsx(dt,{className:"w-5 h-5"}),"Boas Prticas para Evitar Erros"]}),e.jsxs("ul",{className:"space-y-2 text-sm text-green-800 dark:text-green-200",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold mt-0.5",children:"1."}),e.jsxs("span",{children:[e.jsx("strong",{children:"Confirme a rede com o destinatrio"})," - Pergunte qual rede ele aceita (ERC-20, BEP-20, TRC-20, etc.)"]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold mt-0.5",children:"2."}),e.jsxs("span",{children:[e.jsx("strong",{children:"Verifique o formato do endereo"}),' - Endereos Tron comeam com "T", endereos EVM com "0x", Bitcoin com "1", "3" ou "bc1"']})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold mt-0.5",children:"3."}),e.jsxs("span",{children:[e.jsx("strong",{children:"Teste com valor pequeno primeiro"})," - Envie $1-5 primeiro para confirmar que chegou corretamente"]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold mt-0.5",children:"4."}),e.jsxs("span",{children:[e.jsx("strong",{children:"Ateno s exchanges"})," - Verifique qual rede a exchange aceita para depsito. Muitas aceitam mltiplas redes para USDT"]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold mt-0.5",children:"5."}),e.jsxs("span",{children:[e.jsx("strong",{children:"Use a rede mais barata"})," - Para USDT: Tron (TRC-20) costuma ser mais barato que Ethereum (ERC-20)"]})]})]})]})]})}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[e.jsx(ba,{className:"w-5 h-5 text-blue-600"}),"Comparao de Taxas (Gas Fees)"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ct,{className:"w-4 h-4 text-green-600 dark:text-green-400"}),e.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Tron (TRC-20)"})]}),e.jsxs("span",{className:"text-green-600 dark:text-green-400 font-bold flex items-center gap-1",children:["$0.01 - $2 ",e.jsx(Pe,{className:"w-4 h-4"})," Mais Barato"]})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ct,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),e.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Base (L2)"})]}),e.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-bold",children:"$0.01 - $0.50"})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ct,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"}),e.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Polygon"})]}),e.jsx("span",{className:"text-purple-600 dark:text-purple-400 font-bold",children:"$0.01 - $0.10"})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ct,{className:"w-4 h-4 text-yellow-600 dark:text-yellow-400"}),e.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"BSC (BEP-20)"})]}),e.jsx("span",{className:"text-yellow-600 dark:text-yellow-400 font-bold",children:"$0.10 - $1"})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-orange-50 dark:bg-orange-900/20 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ct,{className:"w-4 h-4 text-orange-600 dark:text-orange-400"}),e.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Bitcoin"})]}),e.jsx("span",{className:"text-orange-600 dark:text-orange-400 font-bold",children:"$1 - $10"})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ct,{className:"w-4 h-4 text-red-600 dark:text-red-400"}),e.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Ethereum (ERC-20)"})]}),e.jsxs("span",{className:"text-red-600 dark:text-red-400 font-bold flex items-center gap-1",children:["$5 - $50 ",e.jsx(rt,{className:"w-4 h-4"})," Mais Caro"]})]})]}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-4 flex items-center gap-1",children:[e.jsx(Ur,{className:"w-3 h-3"}),"Valores aproximados. As taxas variam de acordo com a congesto da rede."]})]})]});function av(){const n=mr(),{token:r}=Vt(),[a,l]=j.useState(null),[u,h]=j.useState(!0),[g,p]=j.useState(!1),[b,f]=j.useState(null),[w,v]=j.useState(!1),[k,A]=j.useState({display_name:"",bio:"",avatar_url:"",min_order_amount:"",max_order_amount:"",auto_accept_orders:!1});j.useEffect(()=>{(async()=>{if(!r){f("No autenticado"),h(!1);return}try{h(!0);const R=await An.getMyProfile(r);l(R),A({display_name:R.display_name||"",bio:R.bio||"",avatar_url:R.avatar_url||"",min_order_amount:R.min_order_amount?.toString()||"",max_order_amount:R.max_order_amount?.toString()||"",auto_accept_orders:R.auto_accept_orders||!1})}catch{l(null)}finally{h(!1)}})()},[r]);const C=I=>{const{name:R,type:O}=I.target,P=O==="checkbox"?I.target.checked:I.target.value;A(G=>({...G,[R]:P}))},T=async I=>{if(I.preventDefault(),f(null),v(!1),!k.display_name.trim()){f("Nome do trader  obrigatrio");return}if(!r){f("Token no disponvel");return}try{p(!0);const R={display_name:k.display_name,auto_accept_orders:k.auto_accept_orders};k.bio&&(R.bio=k.bio),k.avatar_url&&(R.avatar_url=k.avatar_url),k.min_order_amount&&(R.min_order_amount=Number.parseFloat(k.min_order_amount)),k.max_order_amount&&(R.max_order_amount=Number.parseFloat(k.max_order_amount)),a?await An.updateProfile(R,r):await An.createProfile(R,r),v(!0),setTimeout(()=>{n("/profile?tab=trader")},1500)}catch(R){const O=R instanceof Error?R.message:"Erro ao salvar perfil";f(O)}finally{p(!1)}};return u?e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx(hr,{className:"w-8 h-8 animate-spin text-blue-600"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Carregando..."})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:e.jsxs("div",{className:"max-w-2xl mx-auto px-4",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("button",{onClick:()=>n("/profile"),className:"flex items-center gap-2 text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 mb-4",children:[e.jsx(rs,{className:"w-4 h-4"}),"Voltar"]}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:a?"Editar Perfil de Trader":"Criar Perfil de Trader"})]}),b&&e.jsxs("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-start gap-3",children:[e.jsx(rt,{className:"w-5 h-5 text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-red-700 dark:text-red-300",children:"Erro"}),e.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:b})]})]}),w&&e.jsxs("div",{className:"mb-6 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg flex items-start gap-3",children:[e.jsx(nr,{className:"w-5 h-5 text-green-600 dark:text-green-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-green-700 dark:text-green-300",children:"Sucesso!"}),e.jsx("p",{className:"text-sm text-green-600 dark:text-green-400",children:"Perfil salvo com sucesso. Redirecionando..."})]})]}),e.jsxs("form",{onSubmit:T,className:"space-y-6 bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Nome do Trader *"}),e.jsx("input",{type:"text",name:"display_name",value:k.display_name,onChange:C,placeholder:"Seu nome como trader",required:!0,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Descrio"}),e.jsx("textarea",{name:"bio",value:k.bio,onChange:C,placeholder:"Descreva um pouco sobre voc como trader",rows:4,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:"URL do Avatar"}),e.jsx("input",{type:"url",name:"avatar_url",value:k.avatar_url,onChange:C,placeholder:"https://exemplo.com/avatar.jpg",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Valor Mnimo (BRL)"}),e.jsx("input",{type:"number",name:"min_order_amount",value:k.min_order_amount,onChange:C,placeholder:"100",step:"0.01",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Valor Mximo (BRL)"}),e.jsx("input",{type:"number",name:"max_order_amount",value:k.max_order_amount,onChange:C,placeholder:"10000",step:"0.01",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),e.jsx("div",{children:e.jsxs("label",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",name:"auto_accept_orders",checked:k.auto_accept_orders,onChange:C,className:"w-4 h-4 rounded border-gray-300 dark:border-gray-600 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:"Aceitar automaticamente novas ordens"})]})}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"submit",disabled:g,className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white font-medium rounded-lg transition-colors flex items-center justify-center gap-2",children:g?e.jsxs(e.Fragment,{children:[e.jsx(hr,{className:"w-4 h-4 animate-spin"}),"Salvando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Dd,{className:"w-4 h-4"}),"Salvar Perfil"]})}),e.jsx("button",{type:"button",onClick:()=>n("/profile"),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 font-medium rounded-lg transition-colors",children:"Cancelar"})]})]})]})})}const nv=()=>e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 flex items-center justify-center px-4",children:e.jsxs("div",{className:"max-w-2xl w-full",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("div",{className:"flex justify-center mb-8",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-32 h-32 bg-gradient-to-br from-red-400 to-red-600 rounded-full flex items-center justify-center shadow-lg",children:e.jsx(Nr,{className:"w-16 h-16 text-white"})}),e.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-yellow-400 rounded-full flex items-center justify-center shadow-md",children:e.jsx(us,{className:"w-4 h-4 text-yellow-900"})})]})}),e.jsx("h1",{className:"text-8xl md:text-9xl font-black text-transparent bg-clip-text bg-gradient-to-r from-red-500 to-purple-600 mb-4",children:"404"}),e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"Pgina no encontrada"}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 mb-8 max-w-md mx-auto",children:"Ops! A pgina que voc est procurando no existe, foi removida ou voc digitou o endereo incorretamente."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 hover:shadow-md transition-shadow",children:[e.jsx(Hl,{className:"w-8 h-8 text-blue-600 mx-auto mb-3"}),e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Dashboard"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Voltar ao painel principal"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 hover:shadow-md transition-shadow",children:[e.jsx(us,{className:"w-8 h-8 text-green-600 mx-auto mb-3"}),e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Buscar"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Encontrar o que precisa"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 hover:shadow-md transition-shadow",children:[e.jsx(rs,{className:"w-8 h-8 text-purple-600 mx-auto mb-3"}),e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Voltar"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Pgina anterior"})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsxs(St,{to:"/",className:"inline-flex items-center justify-center px-8 py-4 bg-gradient-to-r from-blue-600 to-purple-600 text-white font-semibold rounded-xl hover:from-blue-700 hover:to-purple-700 transform hover:scale-105 transition-all duration-200 shadow-lg hover:shadow-xl",children:[e.jsx(Hl,{className:"w-5 h-5 mr-2"}),"Voltar ao Dashboard"]}),e.jsxs("button",{onClick:()=>window.history.back(),className:"inline-flex items-center justify-center px-8 py-4 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 font-semibold rounded-xl border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 transform hover:scale-105 transition-all duration-200 shadow-lg hover:shadow-xl",children:[e.jsx(rs,{className:"w-5 h-5 mr-2"}),"Pgina Anterior"]})]}),e.jsx("div",{className:"text-center mt-12",children:e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Se voc acredita que isso  um erro, entre em contato com nosso suporte."})})]})}),iv=({children:n})=>{const{isAuthenticated:r,isLoading:a,user:l}=Vt();return console.log("ProtectedRoute - isAuthenticated:",r,"isLoading:",a,"user:",l),a?(console.log("ProtectedRoute - Loading, showing loading screen"),e.jsx(Bo,{})):r?(console.log("ProtectedRoute - Authenticated, rendering protected content"),e.jsx(e.Fragment,{children:n})):(console.log("ProtectedRoute - Not authenticated, redirecting to login"),e.jsx(mo,{to:"/login",replace:!0}))},Fi=({children:n})=>{const{isAuthenticated:r,isLoading:a}=Vt();return a?e.jsx(Bo,{}):r?e.jsx(mo,{to:"/dashboard",replace:!0}):e.jsx(e.Fragment,{children:n})};function ov(){const{t:n,i18n:r}=cr(),{initializeAuth:a}=Vt(),{theme:l,initializeTheme:u}=kd(),{language:h}=jd();return j.useEffect(()=>{const p=(async()=>{try{if(u(),h){const v={pt:"pt-BR",en:"en-US",es:"es-ES"}[h]||h;r.language!==v&&await r.changeLanguage(v)}await a(),"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js");const b=()=>{console.log("App is online")},f=()=>{console.log("App is offline")};return window.addEventListener("online",b),window.addEventListener("offline",f),()=>{window.removeEventListener("online",b),window.removeEventListener("offline",f)}}catch(b){console.error("Failed to initialize app:",b)}})();return()=>{p&&typeof p=="object"&&"then"in p&&p.then(b=>{typeof b=="function"&&b()})}},[a,u]),j.useEffect(()=>{const g=document.documentElement;l==="dark"?g.classList.add("dark"):g.classList.remove("dark")},[l]),e.jsxs(e1,{children:[e.jsxs(jn,{defaultTitle:n("common.appName","HOLD Wallet"),titleTemplate:`%s - ${n("common.appName","HOLD Wallet")}`,children:[e.jsx("html",{lang:n("common.language","pt-BR")}),e.jsx("meta",{name:"description",content:n("common.appDescription","Carteira digital P2P com sistema de chat e reputao")}),e.jsx("meta",{name:"theme-color",content:"#3b82f6",media:"(prefers-color-scheme: light)"}),e.jsx("meta",{name:"theme-color",content:"#1f2937",media:"(prefers-color-scheme: dark)"})]}),e.jsx("div",{className:"App min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200",children:e.jsxs(W0,{children:[e.jsx(lt,{path:"/login",element:e.jsx(Fi,{children:e.jsx(f1,{})})}),e.jsx(lt,{path:"/register",element:e.jsx(Fi,{children:e.jsx(x1,{})})}),e.jsx(lt,{path:"/forgot-password",element:e.jsx(Fi,{children:e.jsx(p1,{})})}),e.jsxs(lt,{path:"/",element:e.jsx(iv,{children:e.jsx(Jp,{})}),children:[e.jsx(lt,{index:!0,element:e.jsx(mo,{to:"/dashboard",replace:!0})}),e.jsx(lt,{path:"dashboard",element:e.jsx(j1,{})}),e.jsx(lt,{path:"wallet/*",element:e.jsx(S2,{})}),e.jsx(lt,{path:"wallet/create",element:e.jsx(Fw,{})}),e.jsx(lt,{path:"wallet/settings",element:e.jsx(tv,{})}),e.jsx(lt,{path:"wallet/networks",element:e.jsx(sv,{})}),e.jsx(lt,{path:"p2p",element:e.jsx(B2,{})}),e.jsx(lt,{path:"p2p/create-order",element:e.jsx(V2,{})}),e.jsx(lt,{path:"p2p/my-orders",element:e.jsx($2,{})}),e.jsx(lt,{path:"p2p/order/:orderId",element:e.jsx(J2,{})}),e.jsx(lt,{path:"p2p/edit-order/:orderId",element:e.jsx(eb,{})}),e.jsx(lt,{path:"p2p/trade/:tradeId",element:e.jsx(tb,{})}),e.jsx(lt,{path:"p2p/trader-profile/edit",element:e.jsx(av,{})}),e.jsx(lt,{path:"instant-trade",element:e.jsx(pb,{})}),e.jsx(lt,{path:"chat/*",element:e.jsx(Ib,{})}),e.jsx(lt,{path:"profile/*",element:e.jsx(Rb,{})}),e.jsx(lt,{path:"kyc/*",element:e.jsx(_b,{})}),e.jsx(lt,{path:"services",element:e.jsx(Db,{})}),e.jsx(lt,{path:"contact",element:e.jsx(Mb,{})}),e.jsx(lt,{path:"support",element:e.jsx(Fb,{})}),e.jsx(lt,{path:"portfolio",element:e.jsx($b,{})}),e.jsx(lt,{path:"institutional",element:e.jsx(qb,{})}),e.jsx(lt,{path:"education",element:e.jsx(Kb,{})}),e.jsx(lt,{path:"settings/*",element:e.jsx(Lw,{})})]}),e.jsx(lt,{path:"*",element:e.jsx(nv,{})})]})})]})}const lv=new yu({defaultOptions:{queries:{staleTime:5*60*1e3,gcTime:10*60*1e3,retry:(n,r)=>r instanceof Response&&r.status===401?!1:n<2,refetchOnWindowFocus:!1,refetchOnReconnect:!0},mutations:{retry:!1}}}),d0=document.getElementById("root");if(!d0)throw new Error("Root element not found");const cv=Ui.createRoot(d0);cv.render(e.jsx(ot.StrictMode,{children:e.jsx(oa,{children:e.jsx(wu,{client:lv,children:e.jsxs(q0,{children:[e.jsx(ov,{}),e.jsx(vo,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff",borderRadius:"8px",fontSize:"14px"},success:{style:{background:"#22c55e"}},error:{style:{background:"#ef4444"}}}}),!1]})})})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(n=>{console.log("SW registered: ",n)}).catch(n=>{console.log("SW registration failed: ",n)})});
