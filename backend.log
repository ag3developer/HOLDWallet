/Users/josecarlosmartins/.pyenv/versions/3.9.19/lib/python3.9/site-packages/pydantic/_internal/_config.py:318: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/josecarlosmartins/.pyenv/versions/3.9.19/lib/python3.9/site-packages/eth_utils/network.py:44: UserWarning: Network 345 with name 'Yooldo Verse Mainnet' does not have a valid ChainId. eth-typing should be updated with the latest networks.
  warnings.warn(
/Users/josecarlosmartins/.pyenv/versions/3.9.19/lib/python3.9/site-packages/eth_utils/network.py:44: UserWarning: Network 12611 with name 'Astar zkEVM' does not have a valid ChainId. eth-typing should be updated with the latest networks.
  warnings.warn(
/Users/josecarlosmartins/.pyenv/versions/3.9.19/lib/python3.9/site-packages/web3/__init__.py:2: UserWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html. The pkg_resources package is slated for removal as early as 2025-11-30. Refrain from using this package or pin to Setuptools<81.
  import pkg_resources
/Users/josecarlosmartins/.pyenv/versions/3.9.19/lib/python3.9/site-packages/pydantic/_internal/_config.py:318: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
âŒ PLATFORM_WALLET_PRIVATE_KEY nÃ£o configurada!
2025-12-15 19:44:14,863 | app | INFO | Logging configured - Level: DEBUG
INFO:     Started server process [6728]
INFO:     Waiting for application startup.
2025-12-15 19:44:15,064 | app.main | INFO | ðŸš€ Starting Wolknow Backend API...
2025-12-15 19:44:17,191 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-12-15 19:44:17,191 | sqlalchemy.engine.Engine | INFO | select pg_catalog.version()
2025-12-15 19:44:17,202 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-15 19:44:17,202 | sqlalchemy.engine.Engine | INFO | [raw sql] {}
2025-12-15 19:44:17,648 INFO sqlalchemy.engine.Engine select current_schema()
2025-12-15 19:44:17,648 | sqlalchemy.engine.Engine | INFO | select current_schema()
2025-12-15 19:44:17,648 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-15 19:44:17,648 | sqlalchemy.engine.Engine | INFO | [raw sql] {}
2025-12-15 19:44:18,107 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-12-15 19:44:18,107 | sqlalchemy.engine.Engine | INFO | show standard_conforming_strings
2025-12-15 19:44:18,107 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-15 19:44:18,107 | sqlalchemy.engine.Engine | INFO | [raw sql] {}
2025-12-15 19:44:18,724 | app.core.db | INFO | Database connection successful
2025-12-15 19:44:18,724 | app.main | INFO | âœ… Database connection established
2025-12-15 19:44:18,724 | app.core.db | INFO | ðŸ“¦ Importing all models...
2025-12-15 19:44:18,724 | app.core.db | INFO |    âœ… All models imported successfully
2025-12-15 19:44:19,256 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-15 19:44:19,256 | sqlalchemy.engine.Engine | INFO | BEGIN (implicit)
2025-12-15 19:44:19,256 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s]) AND pg_catalog.pg_class.relpersistence != %(relpersistence_1)s AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-15 19:44:19,256 | sqlalchemy.engine.Engine | INFO | SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s]) AND pg_catalog.pg_class.relpersistence != %(relpersistence_1)s AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-15 19:44:19,256 INFO sqlalchemy.engine.Engine [generated in 0.00034s] {'param_1': 'r', 'param_2': 'p', 'relpersistence_1': 't', 'nspname_1': 'pg_catalog'}
2025-12-15 19:44:19,256 | sqlalchemy.engine.Engine | INFO | [generated in 0.00034s] {'param_1': 'r', 'param_2': 'p', 'relpersistence_1': 't', 'nspname_1': 'pg_catalog'}
2025-12-15 19:44:19,716 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-15 19:44:19,716 | sqlalchemy.engine.Engine | INFO | ROLLBACK
2025-12-15 19:44:19,941 | app.core.db | INFO | âœ… Database already has 30 tables
2025-12-15 19:44:19,941 | app.main | INFO | âœ… Database tables verified
2025-12-15 19:44:19,943 | app.services.cache_service | WARNING | âš ï¸ Redis nÃ£o disponÃ­vel: Error 61 connecting to localhost:6379. Connection refused.
2025-12-15 19:44:19,943 | app.main | INFO | ðŸŽ‰ Wolknow Backend started successfully
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     127.0.0.1:56262 - "GET /docs HTTP/1.1" 200 OK
INFO:     127.0.0.1:56532 - "OPTIONS /auth/login HTTP/1.1" 200 OK
2025-12-15 19:46:34,417 | app.main | ERROR | Unhandled exception: Could not determine join condition between parent/child tables on relationship User.instant_trades - there are no foreign keys linking these tables.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or specify a 'primaryjoin' expression.
Traceback (most recent call last):
  File "/Users/josecarlosmartins/.pyenv/versions/3.9.19/lib/python3.9/site-packages/sqlalchemy/orm/relationships.py", line 2419, in _determine_joins
    self.primaryjoin = join_condition(
  File "/Users/josecarlosmartins/.pyenv/versions/3.9.19/lib/python3.9/site-packages/sqlalchemy/sql/util.py", line 123, in join_condition
    return Join._join_condition(
  File "/Users/josecarlosmartins/.pyenv/versions/3.9.19/lib/python3.9/site-packages/sqlalchemy/sql/selectable.py", line 1358, in _join_condition
    raise exc.NoForeignKeysError(
sqlalchemy.exc.NoForeignKeysError: Can't find any foreign key relationships between 'users' and 'instant_trades'.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/josecarlosmartins/.pyenv/versions/3.9.19/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/josecarlosmartins/.pyenv/versions/3.9.19/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/josecarlosmartins/.pyenv/versions/3.9.19/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
  File "/Users/josecarlosmartins/.pyenv/versions/3.9.19/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/josecarlosmartins/.pyenv/versions/3.9.19/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/josecarlosmartins/.pyenv/versions/3.9.19/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/josecarlosmartins/.pyenv/versions/3.9.19/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/josecarlosmartins/.pyenv/versions/3.9.19/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/josecarlosmartins/.pyenv/versions/3.9.19/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/josecarlosmartins/.pyenv/versions/3.9.19/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
  File "/Users/josecarlosmartins/.pyenv/versions/3.9.19/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
  File "/Users/josecarlosmartins/.pyenv/versions/3.9.19/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/josecarlosmartins/Documents/HOLDWallet/backend/app/routers/auth.py", line 26, in login
    user = db.query(User).filter(User.email == login_data.email).first()
  File "/Users/josecarlosmartins/.pyenv/versions/3.9.19/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2912, in query
    return self._query_cls(entities, self, **kwargs)
  File "/Users/josecarlosmartins/.pyenv/versions/3.9.19/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 276, in __init__
    self._set_entities(entities)
  File "/Users/josecarlosmartins/.pyenv/versions/3.9.19/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 288, in _set_entities
    self._raw_columns = [
  File "/Users/josecarlosmartins/.pyenv/versions/3.9.19/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 289, in <listcomp>
    coercions.expect(
  File "/Users/josecarlosmartins/.pyenv/versions/3.9.19/lib/python3.9/site-packages/sqlalchemy/sql/coercions.py", line 406, in expect
    insp._post_inspect
  File "/Users/josecarlosmartins/.pyenv/versions/3.9.19/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 1260, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
  File "/Users/josecarlosmartins/.pyenv/versions/3.9.19/lib/python3.9/site-packages/sqlalchemy/orm/mapper.py", line 2707, in _post_inspect
    self._check_configure()
  File "/Users/josecarlosmartins/.pyenv/versions/3.9.19/lib/python3.9/site-packages/sqlalchemy/orm/mapper.py", line 2386, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "/Users/josecarlosmartins/.pyenv/versions/3.9.19/lib/python3.9/site-packages/sqlalchemy/orm/mapper.py", line 4199, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "/Users/josecarlosmartins/.pyenv/versions/3.9.19/lib/python3.9/site-packages/sqlalchemy/orm/mapper.py", line 4240, in _do_configure_registries
    mapper._post_configure_properties()
  File "/Users/josecarlosmartins/.pyenv/versions/3.9.19/lib/python3.9/site-packages/sqlalchemy/orm/mapper.py", line 2403, in _post_configure_properties
    prop.init()
  File "/Users/josecarlosmartins/.pyenv/versions/3.9.19/lib/python3.9/site-packages/sqlalchemy/orm/interfaces.py", line 579, in init
    self.do_init()
  File "/Users/josecarlosmartins/.pyenv/versions/3.9.19/lib/python3.9/site-packages/sqlalchemy/orm/relationships.py", line 1637, in do_init
    self._setup_join_conditions()
  File "/Users/josecarlosmartins/.pyenv/versions/3.9.19/lib/python3.9/site-packages/sqlalchemy/orm/relationships.py", line 1882, in _setup_join_conditions
    self._join_condition = jc = JoinCondition(
  File "/Users/josecarlosmartins/.pyenv/versions/3.9.19/lib/python3.9/site-packages/sqlalchemy/orm/relationships.py", line 2306, in __init__
    self._determine_joins()
  File "/Users/josecarlosmartins/.pyenv/versions/3.9.19/lib/python3.9/site-packages/sqlalchemy/orm/relationships.py", line 2440, in _determine_joins
    raise sa_exc.NoForeignKeysError(
sqlalchemy.exc.NoForeignKeysError: Could not determine join condition between parent/child tables on relationship User.instant_trades - there are no foreign keys linking these tables.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or specify a 'primaryjoin' expression.
INFO:     127.0.0.1:56532 - "POST /auth/login HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/josecarlosmartins/.pyenv/versions/3.9.19/lib/python3.9/site-packages/sqlalchemy/orm/relationships.py", line 2419, in _determine_joins
    self.primaryjoin = join_condition(
  File "/Users/josecarlosmartins/.pyenv/versions/3.9.19/lib/python3.9/site-packages/sqlalchemy/sql/util.py", line 123, in join_condition
    return Join._join_condition(
  File "/Users/josecarlosmartins/.pyenv/versions/3.9.19/lib/python3.9/site-packages/sqlalchemy/sql/selectable.py", line 1358, in _join_condition
    raise exc.NoForeignKeysError(
sqlalchemy.exc.NoForeignKeysError: Can't find any foreign key relationships between 'users' and 'instant_trades'.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/josecarlosmartins/.pyenv/versions/3.9.19/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/Users/josecarlosmartins/.pyenv/versions/3.9.19/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
  File "/Users/josecarlosmartins/.pyenv/versions/3.9.19/lib/python3.9/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/josecarlosmartins/.pyenv/versions/3.9.19/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/josecarlosmartins/.pyenv/versions/3.9.19/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/josecarlosmartins/.pyenv/versions/3.9.19/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/josecarlosmartins/.pyenv/versions/3.9.19/lib/python3.9/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/josecarlosmartins/.pyenv/versions/3.9.19/lib/python3.9/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
  File "/Users/josecarlosmartins/.pyenv/versions/3.9.19/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/josecarlosmartins/.pyenv/versions/3.9.19/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/josecarlosmartins/.pyenv/versions/3.9.19/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/josecarlosmartins/.pyenv/versions/3.9.19/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/josecarlosmartins/.pyenv/versions/3.9.19/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/josecarlosmartins/.pyenv/versions/3.9.19/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/josecarlosmartins/.pyenv/versions/3.9.19/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
  File "/Users/josecarlosmartins/.pyenv/versions/3.9.19/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
  File "/Users/josecarlosmartins/.pyenv/versions/3.9.19/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/josecarlosmartins/Documents/HOLDWallet/backend/app/routers/auth.py", line 26, in login
    user = db.query(User).filter(User.email == login_data.email).first()
  File "/Users/josecarlosmartins/.pyenv/versions/3.9.19/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2912, in query
    return self._query_cls(entities, self, **kwargs)
  File "/Users/josecarlosmartins/.pyenv/versions/3.9.19/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 276, in __init__
    self._set_entities(entities)
  File "/Users/josecarlosmartins/.pyenv/versions/3.9.19/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 288, in _set_entities
    self._raw_columns = [
  File "/Users/josecarlosmartins/.pyenv/versions/3.9.19/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 289, in <listcomp>
    coercions.expect(
  File "/Users/josecarlosmartins/.pyenv/versions/3.9.19/lib/python3.9/site-packages/sqlalchemy/sql/coercions.py", line 406, in expect
    insp._post_inspect
  File "/Users/josecarlosmartins/.pyenv/versions/3.9.19/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 1260, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
  File "/Users/josecarlosmartins/.pyenv/versions/3.9.19/lib/python3.9/site-packages/sqlalchemy/orm/mapper.py", line 2707, in _post_inspect
    self._check_configure()
  File "/Users/josecarlosmartins/.pyenv/versions/3.9.19/lib/python3.9/site-packages/sqlalchemy/orm/mapper.py", line 2386, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "/Users/josecarlosmartins/.pyenv/versions/3.9.19/lib/python3.9/site-packages/sqlalchemy/orm/mapper.py", line 4199, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "/Users/josecarlosmartins/.pyenv/versions/3.9.19/lib/python3.9/site-packages/sqlalchemy/orm/mapper.py", line 4240, in _do_configure_registries
    mapper._post_configure_properties()
  File "/Users/josecarlosmartins/.pyenv/versions/3.9.19/lib/python3.9/site-packages/sqlalchemy/orm/mapper.py", line 2403, in _post_configure_properties
    prop.init()
  File "/Users/josecarlosmartins/.pyenv/versions/3.9.19/lib/python3.9/site-packages/sqlalchemy/orm/interfaces.py", line 579, in init
    self.do_init()
  File "/Users/josecarlosmartins/.pyenv/versions/3.9.19/lib/python3.9/site-packages/sqlalchemy/orm/relationships.py", line 1637, in do_init
    self._setup_join_conditions()
  File "/Users/josecarlosmartins/.pyenv/versions/3.9.19/lib/python3.9/site-packages/sqlalchemy/orm/relationships.py", line 1882, in _setup_join_conditions
    self._join_condition = jc = JoinCondition(
  File "/Users/josecarlosmartins/.pyenv/versions/3.9.19/lib/python3.9/site-packages/sqlalchemy/orm/relationships.py", line 2306, in __init__
    self._determine_joins()
  File "/Users/josecarlosmartins/.pyenv/versions/3.9.19/lib/python3.9/site-packages/sqlalchemy/orm/relationships.py", line 2440, in _determine_joins
    raise sa_exc.NoForeignKeysError(
sqlalchemy.exc.NoForeignKeysError: Could not determine join condition between parent/child tables on relationship User.instant_trades - there are no foreign keys linking these tables.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or specify a 'primaryjoin' expression.
